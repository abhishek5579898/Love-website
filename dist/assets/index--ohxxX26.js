(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function VT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hm={exports:{}},Dl={};var S_;function PT(){if(S_)return Dl;S_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var N_;function UT(){return N_||(N_=1,hm.exports=PT()),hm.exports}var d=UT(),fm={exports:{}},Ae={};var R_;function LT(){if(R_)return Ae;R_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function z(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Y={};function se(O,J,ae){this.props=O,this.context=J,this.refs=Y,this.updater=ae||ne}se.prototype.isReactComponent={},se.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},se.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function re(){}re.prototype=se.prototype;function oe(O,J,ae){this.props=O,this.context=J,this.refs=Y,this.updater=ae||ne}var me=oe.prototype=new re;me.constructor=oe,X(me,se.prototype),me.isPureReactComponent=!0;var Ee=Array.isArray;function pe(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(O,J,ae){var G=ae.ref;return{$$typeof:i,type:O,key:J,ref:G!==void 0?G:null,props:ae}}function I(O,J){return N(O.type,J,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function M(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return J[ae]})}var S=/\/+/g;function Ne(O,J){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):J.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(pe,pe):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,J,ae,G,ue){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(_e){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case x:return we=O._init,F(we(O._payload),J,ae,G,ue)}}if(we)return ue=ue(O),we=G===""?"."+Ne(O,0):G,Ee(ue)?(ae="",we!=null&&(ae=we.replace(S,"$&/")+"/"),F(ue,J,ae,"",function(yr){return yr})):ue!=null&&(D(ue)&&(ue=I(ue,ae+(ue.key==null||O&&O.key===ue.key?"":(""+ue.key).replace(S,"$&/")+"/")+we)),J.push(ue)),1;we=0;var Xe=G===""?".":G+":";if(Ee(O))for(var $e=0;$e<O.length;$e++)G=O[$e],_e=Xe+Ne(G,$e),we+=F(G,J,ae,_e,ue);else if($e=z(O),typeof $e=="function")for(O=$e.call(O),$e=0;!(G=O.next()).done;)G=G.value,_e=Xe+Ne(G,$e++),we+=F(G,J,ae,_e,ue);else if(_e==="object"){if(typeof O.then=="function")return F(De(O),J,ae,G,ue);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(O,J,ae){if(O==null)return O;var G=[],ue=0;return F(O,G,"","",function(_e){return J.call(ae,_e,ue++)}),G}function fe(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var je=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ze={map:$,forEach:function(O,J,ae){$(O,function(){J.apply(this,arguments)},ae)},count:function(O){var J=0;return $(O,function(){J++}),J},toArray:function(O){return $(O,function(J){return J})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=w,Ae.Children=ze,Ae.Component=se,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=oe,Ae.StrictMode=r,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,J,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var G=X({},O.props),ue=O.key;if(J!=null)for(_e in J.key!==void 0&&(ue=""+J.key),J)!A.call(J,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&J.ref===void 0||(G[_e]=J[_e]);var _e=arguments.length-2;if(_e===1)G.children=ae;else if(1<_e){for(var we=Array(_e),Xe=0;Xe<_e;Xe++)we[Xe]=arguments[Xe+2];G.children=we}return N(O.type,ue,G)},Ae.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ae.createElement=function(O,J,ae){var G,ue={},_e=null;if(J!=null)for(G in J.key!==void 0&&(_e=""+J.key),J)A.call(J,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ue[G]=J[G]);var we=arguments.length-2;if(we===1)ue.children=ae;else if(1<we){for(var Xe=Array(we),$e=0;$e<we;$e++)Xe[$e]=arguments[$e+2];ue.children=Xe}if(O&&O.defaultProps)for(G in we=O.defaultProps,we)ue[G]===void 0&&(ue[G]=we[G]);return N(O,_e,ue)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:p,render:O}},Ae.isValidElement=D,Ae.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:fe}},Ae.memo=function(O,J){return{$$typeof:_,type:O,compare:J===void 0?null:J}},Ae.startTransition=function(O){var J=C.T,ae={};C.T=ae;try{var G=O(),ue=C.S;ue!==null&&ue(ae,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(pe,je)}catch(_e){je(_e)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),C.T=J}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(O){return C.H.use(O)},Ae.useActionState=function(O,J,ae){return C.H.useActionState(O,J,ae)},Ae.useCallback=function(O,J){return C.H.useCallback(O,J)},Ae.useContext=function(O){return C.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,J){return C.H.useDeferredValue(O,J)},Ae.useEffect=function(O,J){return C.H.useEffect(O,J)},Ae.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(O,J,ae){return C.H.useImperativeHandle(O,J,ae)},Ae.useInsertionEffect=function(O,J){return C.H.useInsertionEffect(O,J)},Ae.useLayoutEffect=function(O,J){return C.H.useLayoutEffect(O,J)},Ae.useMemo=function(O,J){return C.H.useMemo(O,J)},Ae.useOptimistic=function(O,J){return C.H.useOptimistic(O,J)},Ae.useReducer=function(O,J,ae){return C.H.useReducer(O,J,ae)},Ae.useRef=function(O){return C.H.useRef(O)},Ae.useState=function(O){return C.H.useState(O)},Ae.useSyncExternalStore=function(O,J,ae){return C.H.useSyncExternalStore(O,J,ae)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.3",Ae}var C_;function rp(){return C_||(C_=1,fm.exports=LT()),fm.exports}var Z=rp();const Vh=VT(Z);var dm={exports:{}},kl={},mm={exports:{}},pm={};var I_;function zT(){return I_||(I_=1,(function(i){function e(F,$){var fe=F.length;F.push($);e:for(;0<fe;){var je=fe-1>>>1,ze=F[je];if(0<o(ze,$))F[je]=$,F[fe]=ze,fe=je;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],fe=F.pop();if(fe!==$){F[0]=fe;e:for(var je=0,ze=F.length,O=ze>>>1;je<O;){var J=2*(je+1)-1,ae=F[J],G=J+1,ue=F[G];if(0>o(ae,fe))G<ze&&0>o(ue,ae)?(F[je]=ue,F[G]=fe,je=G):(F[je]=ae,F[J]=fe,je=J);else if(G<ze&&0>o(ue,fe))F[je]=ue,F[G]=fe,je=G;else break e}}return $}function o(F,$){var fe=F.sortIndex-$.sortIndex;return fe!==0?fe:F.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var y=[],_=[],x=1,w=null,R=3,z=!1,ne=!1,X=!1,Y=!1,se=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function me(F){for(var $=n(_);$!==null;){if($.callback===null)r(_);else if($.startTime<=F)r(_),$.sortIndex=$.expirationTime,e(y,$);else break;$=n(_)}}function Ee(F){if(X=!1,me(F),!ne)if(n(y)!==null)ne=!0,pe||(pe=!0,M());else{var $=n(_);$!==null&&De(Ee,$.startTime-F)}}var pe=!1,C=-1,A=5,N=-1;function I(){return Y?!0:!(i.unstable_now()-N<A)}function D(){if(Y=!1,pe){var F=i.unstable_now();N=F;var $=!0;try{e:{ne=!1,X&&(X=!1,re(C),C=-1),z=!0;var fe=R;try{t:{for(me(F),w=n(y);w!==null&&!(w.expirationTime>F&&I());){var je=w.callback;if(typeof je=="function"){w.callback=null,R=w.priorityLevel;var ze=je(w.expirationTime<=F);if(F=i.unstable_now(),typeof ze=="function"){w.callback=ze,me(F),$=!0;break t}w===n(y)&&r(y),me(F)}else r(y);w=n(y)}if(w!==null)$=!0;else{var O=n(_);O!==null&&De(Ee,O.startTime-F),$=!1}}break e}finally{w=null,R=fe,z=!1}$=void 0}}finally{$?M():pe=!1}}}var M;if(typeof oe=="function")M=function(){oe(D)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Ne=S.port2;S.port1.onmessage=D,M=function(){Ne.postMessage(null)}}else M=function(){se(D,0)};function De(F,$){C=se(function(){F(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(F){switch(R){case 1:case 2:case 3:var $=3;break;default:$=R}var fe=R;R=$;try{return F()}finally{R=fe}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=R;R=F;try{return $()}finally{R=fe}},i.unstable_scheduleCallback=function(F,$,fe){var je=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?je+fe:je):fe=je,F){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=fe+ze,F={id:x++,callback:$,priorityLevel:F,startTime:fe,expirationTime:ze,sortIndex:-1},fe>je?(F.sortIndex=fe,e(_,F),n(y)===null&&F===n(_)&&(X?(re(C),C=-1):X=!0,De(Ee,fe-je))):(F.sortIndex=ze,e(y,F),ne||z||(ne=!0,pe||(pe=!0,M()))),F},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(F){var $=R;return function(){var fe=R;R=$;try{return F.apply(this,arguments)}finally{R=fe}}}})(pm)),pm}var j_;function BT(){return j_||(j_=1,mm.exports=zT()),mm.exports}var gm={exports:{}},$t={};var D_;function qT(){if(D_)return $t;D_=1;var i=rp();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,_,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(y,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(y,_,null,x)},$t.flushSync=function(y){var _=f.T,x=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=_,r.p=x,r.d.f()}},$t.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},$t.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$t.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var x=_.as,w=p(x,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:z}):x==="script"&&r.d.X(y,{crossOrigin:w,integrity:R,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$t.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},$t.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,w=p(x,_.crossOrigin);r.d.L(y,x,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$t.preloadModule=function(y,_){if(typeof y=="string")if(_){var x=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},$t.requestFormReset=function(y){r.d.r(y)},$t.unstable_batchedUpdates=function(y,_){return y(_)},$t.useFormState=function(y,_,x){return f.H.useFormState(y,_,x)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var k_;function HT(){if(k_)return gm.exports;k_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=qT(),gm.exports}var O_;function FT(){if(O_)return kl;O_=1;var i=BT(),e=rp(),n=HT();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function _(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return y(h),t;if(m===l)return y(h),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=m;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=m;break}if(E===l){v=!0,l=h,a=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===a){v=!0,a=m,l=h;break}if(E===l){v=!0,l=m,a=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function x(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=x(t),s!==null)return s;t=t.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case se:return"Profiler";case Y:return"StrictMode";case Ee:return"Suspense";case pe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ne:return"Portal";case oe:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case me:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return s=t.displayName||null,s!==null?s:Ne(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return Ne(t(s))}catch{}}return null}var De=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},je=[],ze=-1;function O(t){return{current:t}}function J(t){0>ze||(t.current=je[ze],je[ze]=null,ze--)}function ae(t,s){ze++,je[ze]=t.current,t.current=s}var G=O(null),ue=O(null),_e=O(null),we=O(null);function Xe(t,s){switch(ae(_e,s),ae(ue,t),ae(G,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Xy(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Xy(s),t=$y(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(G),ae(G,t)}function $e(){J(G),J(ue),J(_e)}function yr(t){t.memoizedState!==null&&ae(we,t);var s=G.current,a=$y(s,t.type);s!==a&&(ae(ue,t),ae(G,a))}function fa(t){ue.current===t&&(J(G),J(ue)),we.current===t&&(J(we),Rl._currentValue=fe)}var da,ma;function os(t){if(da===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);da=s&&s[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+ma}var Ro=!1;function _r(t,s){if(!t||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(H){var B=H}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(H){B=H}t.call(ee.prototype)}}else{try{throw Error()}catch(H){B=H}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],E=m[1];if(v&&E){var j=v.split(`
`),L=E.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===L.length)for(l=j.length-1,h=L.length-1;1<=l&&0<=h&&j[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==L[h]){var K=`
`+j[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?os(a):""}function Co(t,s){switch(t.tag){case 26:case 27:case 5:return os(t.type);case 16:return os("Lazy");case 13:return t.child!==s&&s!==null?os("Suspense Fallback"):os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return _r(t.type,!1);case 11:return _r(t.type.render,!1);case 1:return _r(t.type,!0);case 31:return os("Activity");default:return""}}function Io(t){try{var s="",a=null;do s+=Co(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Ot=i.unstable_scheduleCallback,gi=i.unstable_cancelCallback,df=i.unstable_shouldYield,bu=i.unstable_requestPaint,nn=i.unstable_now,vr=i.unstable_getCurrentPriorityLevel,jo=i.unstable_ImmediatePriority,Do=i.unstable_UserBlockingPriority,yi=i.unstable_NormalPriority,mf=i.unstable_LowPriority,xu=i.unstable_IdlePriority,Eu=i.log,Tu=i.unstable_setDisableYieldValue,Hn=null,Bt=null;function Sn(t){if(typeof Eu=="function"&&Tu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Hn,t)}catch{}}var gt=Math.clz32?Math.clz32:Au,wu=Math.log,pa=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(wu(t)/pa|0)|0}var ls=256,br=262144,Et=4194304;function us(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cs(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?h=us(l):(v&=E,v!==0?h=us(v):a||(a=E&~t,a!==0&&(h=us(a))))):(E=l&~m,E!==0?h=us(E):v!==0?h=us(v):a||(a=l&~t,a!==0&&(h=us(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Fn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function pf(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function hs(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function xr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,s,a,l,h,m){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,j=t.expirationTimes,L=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-gt(a),ee=1<<K;E[K]=0,j[K]=-1;var B=L[K];if(B!==null)for(L[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}a&=~ee}l!==0&&Er(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~s))}function Er(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-gt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&s|t[l]&s&&(t[l]|=s),a&=~h}}function Oo(t,s){var a=s&-s;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:v_(t.type))}function Gn(t,s){var a=$.p;try{return $.p=t,s()}finally{$.p=a}}var Kn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Kn,Pt="__reactProps$"+Kn,fs="__reactContainer$"+Kn,ga="__reactEvents$"+Kn,yf="__reactListeners$"+Kn,Ru="__reactHandles$"+Kn,Cu="__reactResources$"+Kn,ds="__reactMarker$"+Kn;function ya(t){delete t[Tt],delete t[Pt],delete t[ga],delete t[yf],delete t[Ru]}function ms(t){var s=t[Tt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[fs]||a[Tt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=s_(t);t!==null;){if(a=t[Tt])return a;t=s_(t)}return s}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[Tt]||t[fs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function gn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function ps(t){var s=t[Cu];return s||(s=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(t){t[ds]=!0}var Mo=new Set,Vo={};function gs(t,s){ys(t,s),ys(t+"Capture",s)}function ys(t,s){for(Vo[t]=s,t=0;t<s.length;t++)Mo.add(s[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Lo={};function Iu(t){return xt.call(Lo,t)?!0:xt.call(Uo,t)?!1:Po.test(t)?Lo[t]=!0:(Uo[t]=!0,!1)}function _a(t,s,a){if(Iu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function yn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function At(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _i(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zo(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Je(t){if(!t._valueTracker){var s=_i(t)?"checked":"value";t._valueTracker=zo(t,s,""+t[s])}}function wr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=_i(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function _s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function an(t){return t.replace(Ar,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function va(t,s,a,l,h,m,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ut(s)):t.value!==""+Ut(s)&&(t.value=""+Ut(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Bo(t,v,Ut(s)):a!=null?Bo(t,v,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function ju(t,s,a,l,h,m,v,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Je(t);return}a=a!=null?""+Ut(a):"",s=s!=null?""+Ut(s):a,E||s===t.value||(t.value=s),t.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Je(t)}function Bo(t,s,a){s==="number"&&_s(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vi(t,s,a,l){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Du(t,s,a){if(s!=null&&(s=""+Ut(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ut(a):""}function bi(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(De(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Ut(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Je(t)}function on(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||ku.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Ho(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var m in s)s.hasOwnProperty(m)&&qo(t,m,s[m])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return xi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Fo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ei=null,vs=null;function Sr(t){var s=Nn(t);if(s&&(t=s.stateNode)){var a=t[Pt]||null;e:switch(t=s.stateNode,s.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(r(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&wr(l)}break e;case"textarea":Du(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&vi(t,!!a.multiple,s,!1)}}}var Ea=!1;function Ti(t,s,a){if(Ea)return t(s,a);Ea=!0;try{var l=t(s);return l}finally{if(Ea=!1,(Ei!==null||vs!==null)&&(Nc(),Ei&&(s=Ei,t=vs,vs=Ei=null,Sr(s),t)))for(s=0;s<t.length;s++)Sr(t[s])}}function Qn(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Cn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Nr=!1}var bs=null,Go=null,Rr=null;function Ko(){if(Rr)return Rr;var t,s=Go,a=s.length,l,h="value"in bs?bs.value:bs.textContent,m=h.length;for(t=0;t<a&&s[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===h[m-l];l++);return Rr=h.slice(t,1<l?1-l:void 0)}function Cr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Hs(){return!0}function Xn(){return!1}function qt(t){function s(a,l,h,m,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Hs:Xn,this.isPropagationStopped=Xn,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),s}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=qt(Fs),wi=w({},Fs,{view:0,detail:0}),Yo=qt(wi),Ai,Ta,Es,wa=w({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Si,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Es&&(Es&&t.type==="mousemove"?(Ai=t.screenX-Es.screenX,Ta=t.screenY-Es.screenY):Ta=Ai=0,Es=t),Ai)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Qo=qt(wa),Ir=w({},wa,{dataTransfer:0}),Mu=qt(Ir),Vu=w({},wi,{relatedTarget:0}),jr=qt(Vu),Xo=w({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=qt(Xo),Aa=w({},Fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=qt(Aa),Lu=w({},Fs,{data:0}),Ts=qt(Lu),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=qu[t])?!!s[t]:!1}function Si(){return Hu}var sn=w({},wi,{key:function(t){if(t.key){var s=zu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Si,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fu=qt(sn),Gu=w({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=qt(Gu),c=w({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Si}),g=qt(c),b=w({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=qt(b),P=w({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qt(P),ie=w({},Fs,{newState:0,oldState:0}),Re=qt(ie),yt=[9,13,27,32],Ke=Cn&&"CompositionEvent"in window,ct=null;Cn&&"documentMode"in document&&(ct=document.documentMode);var In=Cn&&"TextEvent"in window&&!ct,ws=Cn&&(!Ke||ct&&8<ct&&11>=ct),$n=" ",Jn=!1;function Dr(t,s){switch(t){case"keyup":return yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function aE(t,s){switch(t){case"compositionend":return Sa(s);case"keypress":return s.which!==32?null:(Jn=!0,$n);case"textInput":return t=s.data,t===$n&&Jn?null:t;default:return null}}function oE(t,s){if(Na)return t==="compositionend"||!Ke&&Dr(t,s)?(t=Ko(),Rr=Go=bs=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ws&&s.locale!=="ko"?null:s.data;default:return null}}var lE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!lE[t.type]:s==="textarea"}function og(t,s,a,l){Ei?vs?vs.push(l):vs=[l]:Ei=l,s=Oc(s,"onChange"),0<s.length&&(a=new xs("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var $o=null,Jo=null;function uE(t){Hy(t,0)}function Ku(t){var s=gn(t);if(wr(s))return t}function lg(t,s){if(t==="change")return s}var ug=!1;if(Cn){var _f;if(Cn){var vf="oninput"in document;if(!vf){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),vf=typeof cg.oninput=="function"}_f=vf}else _f=!1;ug=_f&&(!document.documentMode||9<document.documentMode)}function hg(){$o&&($o.detachEvent("onpropertychange",fg),Jo=$o=null)}function fg(t){if(t.propertyName==="value"&&Ku(Jo)){var s=[];og(s,Jo,t,Rn(t)),Ti(uE,s)}}function cE(t,s,a){t==="focusin"?(hg(),$o=s,Jo=a,$o.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function hE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(Jo)}function fE(t,s){if(t==="click")return Ku(s)}function dE(t,s){if(t==="input"||t==="change")return Ku(s)}function mE(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var _n=typeof Object.is=="function"?Object.is:mE;function Zo(t,s){if(_n(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xt.call(s,h)||!_n(t[h],s[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,s){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?pg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=_s(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=_s(t.document)}return s}function bf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var pE=Cn&&"documentMode"in document&&11>=document.documentMode,Ra=null,xf=null,Wo=null,Ef=!1;function yg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||Ra==null||Ra!==_s(l)||(l=Ra,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Zo(Wo,l)||(Wo=l,l=Oc(xf,"onSelect"),0<l.length&&(s=new xs("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ra)))}function kr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ca={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Tf={},_g={};Cn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Or(t){if(Tf[t])return Tf[t];if(!Ca[t])return t;var s=Ca[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in _g)return Tf[t]=s[a];return t}var vg=Or("animationend"),bg=Or("animationiteration"),xg=Or("animationstart"),gE=Or("transitionrun"),yE=Or("transitionstart"),_E=Or("transitioncancel"),Eg=Or("transitionend"),Tg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Zn(t,s){Tg.set(t,s),gs(s,[t])}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Ia=0,Af=0;function Qu(){for(var t=Ia,s=Af=Ia=0;s<t;){var a=jn[s];jn[s++]=null;var l=jn[s];jn[s++]=null;var h=jn[s];jn[s++]=null;var m=jn[s];if(jn[s++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}m!==0&&wg(a,h,m)}}function Xu(t,s,a,l){jn[Ia++]=t,jn[Ia++]=s,jn[Ia++]=a,jn[Ia++]=l,Af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sf(t,s,a,l){return Xu(t,s,a,l),$u(t)}function Mr(t,s){return Xu(t,null,null,s),$u(t)}function wg(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&s!==null&&(h=31-gt(a),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[s]:l.push(s),s.lane=a|536870912),m):null}function $u(t){if(50<xl)throw xl=0,Md=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ja={};function vE(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,s,a,l){return new vE(t,s,a,l)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ks(t,s){var a=t.alternate;return a===null?(a=vn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ag(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Ju(t,s,a,l,h,m){var v=0;if(l=t,typeof t=="function")Nf(t)&&(v=1);else if(typeof t=="string")v=wT(t,a,G.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=vn(31,a,s,h),t.elementType=N,t.lanes=m,t;case X:return Vr(a.children,h,m,s);case Y:v=8,h|=24;break;case se:return t=vn(12,a,s,h|2),t.elementType=se,t.lanes=m,t;case Ee:return t=vn(13,a,s,h),t.elementType=Ee,t.lanes=m,t;case pe:return t=vn(19,a,s,h),t.elementType=pe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:v=10;break e;case re:v=9;break e;case me:v=11;break e;case C:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=vn(v,a,s,h),s.elementType=t,s.type=l,s.lanes=m,s}function Vr(t,s,a,l){return t=vn(7,t,l,s),t.lanes=a,t}function Rf(t,s,a){return t=vn(6,t,null,s),t.lanes=a,t}function Sg(t){var s=vn(18,null,null,0);return s.stateNode=t,s}function Cf(t,s,a){return s=vn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Ng=new WeakMap;function Dn(t,s){if(typeof t=="object"&&t!==null){var a=Ng.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Io(s)},Ng.set(t,s),s)}return{value:t,source:s,stack:Io(s)}}var Da=[],ka=0,Zu=null,el=0,kn=[],On=0,Ni=null,As=1,Ss="";function Ys(t,s){Da[ka++]=el,Da[ka++]=Zu,Zu=t,el=s}function Rg(t,s,a){kn[On++]=As,kn[On++]=Ss,kn[On++]=Ni,Ni=t;var l=As;t=Ss;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var m=32-gt(s)+h;if(30<m){var v=h-h%5;m=(l&(1<<v)-1).toString(32),l>>=v,h-=v,As=1<<32-gt(s)+h|a<<h|l,Ss=m+t}else As=1<<m|a<<h|l,Ss=t}function If(t){t.return!==null&&(Ys(t,1),Rg(t,1,0))}function jf(t){for(;t===Zu;)Zu=Da[--ka],Da[ka]=null,el=Da[--ka],Da[ka]=null;for(;t===Ni;)Ni=kn[--On],kn[On]=null,Ss=kn[--On],kn[On]=null,As=kn[--On],kn[On]=null}function Cg(t,s){kn[On++]=As,kn[On++]=Ss,kn[On++]=Ni,As=s.id,Ss=s.overflow,Ni=t}var Ht=null,ot=null,Be=!1,Ri=null,Mn=!1,Df=Error(r(519));function Ci(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Dn(s,t)),Df}function Ig(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Tt]=t,s[Pt]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Oe(Tl[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),ju(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),bi(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Yy(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=Yn),s=!0):s=!1,s||Ci(t,!0)}function jg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Ht=Ht.return}}function Oa(t){if(t!==Ht)return!1;if(!Be)return jg(t),Be=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$d(t.type,t.memoizedProps)),a=!a),a&&ot&&Ci(t),jg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=n_(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=n_(t)}else s===27?(s=ot,Hi(t.type)?(t=tm,tm=null,ot=t):ot=s):ot=Ht?Pn(t.stateNode.nextSibling):null;return!0}function Pr(){ot=Ht=null,Be=!1}function kf(){var t=Ri;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Ri=null),t}function tl(t){Ri===null?Ri=[t]:Ri.push(t)}var Of=O(null),Ur=null,Qs=null;function Ii(t,s,a){ae(Of,s._currentValue),s._currentValue=a}function Xs(t){t._currentValue=Of.current,J(Of)}function Mf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Vf(t,s,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var v=h.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=h;for(var j=0;j<s.length;j++)if(E.context===s[j]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),Mf(m.return,a,t),l||(v=null);break e}m=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),Mf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ma(t,s,a,l){t=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===we.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Vf(s,t,a,l),s.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lr(t){Ur=t,Qs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Dg(Ur,t)}function ec(t,s){return Ur===null&&Lr(t),Dg(t,s)}function Dg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Qs===null){if(t===null)throw Error(r(308));Qs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Qs=Qs.next=s;return a}var bE=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},xE=i.unstable_scheduleCallback,EE=i.unstable_NormalPriority,St={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new bE,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&xE(EE,function(){t.controller.abort()})}var sl=null,Uf=0,Va=0,Pa=null;function TE(t,s){if(sl===null){var a=sl=[];Uf=0,Va=Bd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,s.then(kg,kg),s}function kg(){if(--Uf===0&&sl!==null){Pa!==null&&(Pa.status="fulfilled");var t=sl;sl=null,Va=0,Pa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function wE(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Og=F.S;F.S=function(t,s){yy=nn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&TE(t,s),Og!==null&&Og(t,s)};var zr=O(null);function Lf(){var t=zr.current;return t!==null?t:it.pooledCache}function tc(t,s){s===null?ae(zr,zr.current):ae(zr,s.pool)}function Mg(){var t=Lf();return t===null?null:{parent:St._currentValue,pool:t}}var Ua=Error(r(460)),zf=Error(r(474)),nc=Error(r(542)),sc={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pg(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Yn,Yn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Lg(t),t;default:if(typeof s.status=="string")s.then(Yn,Yn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Lg(t),t}throw qr=s,Ua}}function Br(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qr=a,Ua):a}}var qr=null;function Ug(){if(qr===null)throw Error(r(459));var t=qr;return qr=null,t}function Lg(t){if(t===Ua||t===nc)throw Error(r(483))}var La=null,il=0;function ic(t){var s=il;return il+=1,La===null&&(La=[]),Pg(La,t,s)}function rl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function rc(t,s){throw s.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function zg(t){function s(V,k){if(t){var U=V.deletions;U===null?(V.deletions=[k],V.flags|=16):U.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)s(V,k),k=k.sibling;return null}function l(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=Ks(V,k),V.index=0,V.sibling=null,V}function m(V,k,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<k?(V.flags|=67108866,k):U):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,k,U,Q){return k===null||k.tag!==6?(k=Rf(U,V.mode,Q),k.return=V,k):(k=h(k,U),k.return=V,k)}function j(V,k,U,Q){var ge=U.type;return ge===X?K(V,k,U.props.children,Q,U.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Br(ge)===k.type)?(k=h(k,U.props),rl(k,U),k.return=V,k):(k=Ju(U.type,U.key,U.props,null,V.mode,Q),rl(k,U),k.return=V,k)}function L(V,k,U,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=Cf(U,V.mode,Q),k.return=V,k):(k=h(k,U.children||[]),k.return=V,k)}function K(V,k,U,Q,ge){return k===null||k.tag!==7?(k=Vr(U,V.mode,Q,ge),k.return=V,k):(k=h(k,U),k.return=V,k)}function ee(V,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Rf(""+k,V.mode,U),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case z:return U=Ju(k.type,k.key,k.props,null,V.mode,U),rl(U,k),U.return=V,U;case ne:return k=Cf(k,V.mode,U),k.return=V,k;case A:return k=Br(k),ee(V,k,U)}if(De(k)||M(k))return k=Vr(k,V.mode,U,null),k.return=V,k;if(typeof k.then=="function")return ee(V,ic(k),U);if(k.$$typeof===oe)return ee(V,ec(V,k),U);rc(V,k)}return null}function B(V,k,U,Q){var ge=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ge!==null?null:E(V,k,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return U.key===ge?j(V,k,U,Q):null;case ne:return U.key===ge?L(V,k,U,Q):null;case A:return U=Br(U),B(V,k,U,Q)}if(De(U)||M(U))return ge!==null?null:K(V,k,U,Q,null);if(typeof U.then=="function")return B(V,k,ic(U),Q);if(U.$$typeof===oe)return B(V,k,ec(V,U),Q);rc(V,U)}return null}function H(V,k,U,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(U)||null,E(k,V,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return V=V.get(Q.key===null?U:Q.key)||null,j(k,V,Q,ge);case ne:return V=V.get(Q.key===null?U:Q.key)||null,L(k,V,Q,ge);case A:return Q=Br(Q),H(V,k,U,Q,ge)}if(De(Q)||M(Q))return V=V.get(U)||null,K(k,V,Q,ge,null);if(typeof Q.then=="function")return H(V,k,U,ic(Q),ge);if(Q.$$typeof===oe)return H(V,k,U,ec(k,Q),ge);rc(k,Q)}return null}function he(V,k,U,Q){for(var ge=null,Fe=null,de=k,Ie=k=0,Ve=null;de!==null&&Ie<U.length;Ie++){de.index>Ie?(Ve=de,de=null):Ve=de.sibling;var Ge=B(V,de,U[Ie],Q);if(Ge===null){de===null&&(de=Ve);break}t&&de&&Ge.alternate===null&&s(V,de),k=m(Ge,k,Ie),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge,de=Ve}if(Ie===U.length)return a(V,de),Be&&Ys(V,Ie),ge;if(de===null){for(;Ie<U.length;Ie++)de=ee(V,U[Ie],Q),de!==null&&(k=m(de,k,Ie),Fe===null?ge=de:Fe.sibling=de,Fe=de);return Be&&Ys(V,Ie),ge}for(de=l(de);Ie<U.length;Ie++)Ve=H(de,V,Ie,U[Ie],Q),Ve!==null&&(t&&Ve.alternate!==null&&de.delete(Ve.key===null?Ie:Ve.key),k=m(Ve,k,Ie),Fe===null?ge=Ve:Fe.sibling=Ve,Fe=Ve);return t&&de.forEach(function(Qi){return s(V,Qi)}),Be&&Ys(V,Ie),ge}function ve(V,k,U,Q){if(U==null)throw Error(r(151));for(var ge=null,Fe=null,de=k,Ie=k=0,Ve=null,Ge=U.next();de!==null&&!Ge.done;Ie++,Ge=U.next()){de.index>Ie?(Ve=de,de=null):Ve=de.sibling;var Qi=B(V,de,Ge.value,Q);if(Qi===null){de===null&&(de=Ve);break}t&&de&&Qi.alternate===null&&s(V,de),k=m(Qi,k,Ie),Fe===null?ge=Qi:Fe.sibling=Qi,Fe=Qi,de=Ve}if(Ge.done)return a(V,de),Be&&Ys(V,Ie),ge;if(de===null){for(;!Ge.done;Ie++,Ge=U.next())Ge=ee(V,Ge.value,Q),Ge!==null&&(k=m(Ge,k,Ie),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&Ys(V,Ie),ge}for(de=l(de);!Ge.done;Ie++,Ge=U.next())Ge=H(de,V,Ie,Ge.value,Q),Ge!==null&&(t&&Ge.alternate!==null&&de.delete(Ge.key===null?Ie:Ge.key),k=m(Ge,k,Ie),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return t&&de.forEach(function(MT){return s(V,MT)}),Be&&Ys(V,Ie),ge}function st(V,k,U,Q){if(typeof U=="object"&&U!==null&&U.type===X&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case z:e:{for(var ge=U.key;k!==null;){if(k.key===ge){if(ge=U.type,ge===X){if(k.tag===7){a(V,k.sibling),Q=h(k,U.props.children),Q.return=V,V=Q;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Br(ge)===k.type){a(V,k.sibling),Q=h(k,U.props),rl(Q,U),Q.return=V,V=Q;break e}a(V,k);break}else s(V,k);k=k.sibling}U.type===X?(Q=Vr(U.props.children,V.mode,Q,U.key),Q.return=V,V=Q):(Q=Ju(U.type,U.key,U.props,null,V.mode,Q),rl(Q,U),Q.return=V,V=Q)}return v(V);case ne:e:{for(ge=U.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(V,k.sibling),Q=h(k,U.children||[]),Q.return=V,V=Q;break e}else{a(V,k);break}else s(V,k);k=k.sibling}Q=Cf(U,V.mode,Q),Q.return=V,V=Q}return v(V);case A:return U=Br(U),st(V,k,U,Q)}if(De(U))return he(V,k,U,Q);if(M(U)){if(ge=M(U),typeof ge!="function")throw Error(r(150));return U=ge.call(U),ve(V,k,U,Q)}if(typeof U.then=="function")return st(V,k,ic(U),Q);if(U.$$typeof===oe)return st(V,k,ec(V,U),Q);rc(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(V,k.sibling),Q=h(k,U),Q.return=V,V=Q):(a(V,k),Q=Rf(U,V.mode,Q),Q.return=V,V=Q),v(V)):a(V,k)}return function(V,k,U,Q){try{il=0;var ge=st(V,k,U,Q);return La=null,ge}catch(de){if(de===Ua||de===nc)throw de;var Fe=vn(29,de,null,V.mode);return Fe.lanes=Q,Fe.return=V,Fe}finally{}}}var Hr=zg(!0),Bg=zg(!1),ji=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=$u(t),wg(t,null,a),s}return Xu(t,l,s,a),$u(t)}function al(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ko(t,a)}}function Hf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Ff=!1;function ol(){if(Ff){var t=Pa;if(t!==null)throw t}}function ll(t,s,a,l){Ff=!1;var h=t.updateQueue;ji=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var j=E,L=j.next;j.next=null,v===null?m=L:v.next=L,v=j;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=L:E.next=L,K.lastBaseUpdate=j))}if(m!==null){var ee=h.baseState;v=0,K=L=j=null,E=m;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Me&B)===B:(l&B)===B){B!==0&&B===Va&&(Ff=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,ve=E;B=s;var st=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){ee=he.call(st,ee,B);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,B=typeof he=="function"?he.call(st,ee,B):he,B==null)break e;ee=w({},ee,B);break e;case 2:ji=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(L=K=H,j=ee):K=K.next=H,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(j=ee),h.baseState=j,h.firstBaseUpdate=L,h.lastBaseUpdate=K,m===null&&(h.shared.lanes=0),Ui|=v,t.lanes=v,t.memoizedState=ee}}function qg(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Hg(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qg(a[t],s)}var za=O(null),ac=O(0);function Fg(t,s){t=ii,ae(ac,t),ae(za,s),ii=t|s.baseLanes}function Gf(){ae(ac,ii),ae(za,za.current)}function Kf(){ii=ac.current,J(za),J(ac)}var bn=O(null),Vn=null;function Oi(t){var s=t.alternate;ae(_t,_t.current&1),ae(bn,t),Vn===null&&(s===null||za.current!==null||s.memoizedState!==null)&&(Vn=t)}function Yf(t){ae(_t,_t.current),ae(bn,t),Vn===null&&(Vn=t)}function Gg(t){t.tag===22?(ae(_t,_t.current),ae(bn,t),Vn===null&&(Vn=t)):Mi()}function Mi(){ae(_t,_t.current),ae(bn,bn.current)}function xn(t){J(bn),Vn===t&&(Vn=null),J(_t)}var _t=O(0);function oc(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||em(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $s=0,Ce=null,tt=null,Nt=null,lc=!1,Ba=!1,Fr=!1,uc=0,ul=0,qa=null,AE=0;function dt(){throw Error(r(321))}function Qf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!_n(t[a],s[a]))return!1;return!0}function Xf(t,s,a,l,h,m){return $s=m,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=t===null||t.memoizedState===null?R0:cd,Fr=!1,m=a(l,h),Fr=!1,Ba&&(m=Yg(s,a,l,h)),Kg(t),m}function Kg(t){F.H=fl;var s=tt!==null&&tt.next!==null;if($s=0,Nt=tt=Ce=null,lc=!1,ul=0,qa=null,s)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&Wu(t)&&(Rt=!0))}function Yg(t,s,a,l){Ce=t;var h=0;do{if(Ba&&(qa=null),ul=0,Ba=!1,25<=h)throw Error(r(301));if(h+=1,Nt=tt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=C0,m=s(a,l)}while(Ba);return m}function SE(){var t=F.H,s=t.useState()[0];return s=typeof s.then=="function"?cl(s):s,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ce.flags|=1024),s}function $f(){var t=uc!==0;return uc=0,t}function Jf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Zf(t){if(lc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}lc=!1}$s=0,Nt=tt=Ce=null,Ba=!1,ul=uc=0,qa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function vt(){if(tt===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var s=Nt===null?Ce.memoizedState:Nt.next;if(s!==null)Nt=s,tt=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var s=ul;return ul+=1,qa===null&&(qa=[]),t=Pg(qa,t,s),s=Ce,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?R0:cd),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===oe)return Ft(t)}throw Error(r(438,String(t)))}function Wf(t){var s=null,a=Ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=cc(),Ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=I;return s.index++,a}function Js(t,s){return typeof s=="function"?s(t):s}function fc(t){var s=vt();return ed(s,tt,t)}function ed(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}s.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{s=h.next;var E=v=null,j=null,L=s,K=!1;do{var ee=L.lane&-536870913;if(ee!==L.lane?(Me&ee)===ee:($s&ee)===ee){var B=L.revertLane;if(B===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ee===Va&&(K=!0);else if(($s&B)===B){L=L.next,B===Va&&(K=!0);continue}else ee={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},j===null?(E=j=ee,v=m):j=j.next=ee,Ce.lanes|=B,Ui|=B;ee=L.action,Fr&&a(m,ee),m=L.hasEagerState?L.eagerState:a(m,ee)}else B={lane:ee,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},j===null?(E=j=B,v=m):j=j.next=B,Ce.lanes|=ee,Ui|=ee;L=L.next}while(L!==null&&L!==s);if(j===null?v=m:j.next=E,!_n(m,t.memoizedState)&&(Rt=!0,K&&(a=Pa,a!==null)))throw a;t.memoizedState=m,t.baseState=v,t.baseQueue=j,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var s=vt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do m=t(m,v.action),v=v.next;while(v!==h);_n(m,s.memoizedState)||(Rt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Qg(t,s,a){var l=Ce,h=vt(),m=Be;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!_n((tt||h).memoizedState,a);if(v&&(h.memoizedState=a,Rt=!0),h=h.queue,id(Jg.bind(null,l,h,t),[t]),h.getSnapshot!==s||v||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},$g.bind(null,l,h,a,s),null),it===null)throw Error(r(349));m||($s&127)!==0||Xg(l,s,a)}return a}function Xg(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ce.updateQueue,s===null?(s=cc(),Ce.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function $g(t,s,a,l){s.value=a,s.getSnapshot=l,Zg(s)&&Wg(t)}function Jg(t,s,a){return a(function(){Zg(s)&&Wg(t)})}function Zg(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!_n(t,a)}catch{return!0}}function Wg(t){var s=Mr(t,2);s!==null&&fn(s,t,2)}function nd(t){var s=rn();if(typeof t=="function"){var a=t;if(t=a(),Fr){Sn(!0);try{a()}finally{Sn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:t},s}function e0(t,s,a,l){return t.baseState=a,ed(t,tt,typeof l=="function"?l:Js)}function NE(t,s,a,l,h){if(pc(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,t0(s,m)):(m.next=a.next,s.pending=a.next=m)}}function t0(t,s){var a=s.action,l=s.payload,h=t.state;if(s.isTransition){var m=F.T,v={};F.T=v;try{var E=a(h,l),j=F.S;j!==null&&j(v,E),n0(t,s,E)}catch(L){sd(t,s,L)}finally{m!==null&&v.types!==null&&(m.types=v.types),F.T=m}}else try{m=a(h,l),n0(t,s,m)}catch(L){sd(t,s,L)}}function n0(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){s0(t,s,l)},function(l){return sd(t,s,l)}):s0(t,s,a)}function s0(t,s,a){s.status="fulfilled",s.value=a,i0(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,t0(t,a)))}function sd(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,i0(s),s=s.next;while(s!==l)}t.action=null}function i0(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function r0(t,s){return s}function a0(t,s){if(Be){var a=it.formState;if(a!==null){e:{var l=Ce;if(Be){if(ot){t:{for(var h=ot,m=Mn;h.nodeType!==8;){if(!m){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){ot=Pn(h.nextSibling),l=h.data==="F!";break e}}Ci(l)}l=!1}l&&(s=a[0])}}return a=rn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r0,lastRenderedState:s},a.queue=l,a=A0.bind(null,Ce,l),l.dispatch=a,l=nd(!1),m=ud.bind(null,Ce,!1,l.queue),l=rn(),h={state:s,dispatch:null,action:t,pending:null},l.queue=h,a=NE.bind(null,Ce,h,m,a),h.dispatch=a,l.memoizedState=t,[s,a,!1]}function o0(t){var s=vt();return l0(s,tt,t)}function l0(t,s,a){if(s=ed(t,s,r0)[0],t=fc(Js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=cl(s)}catch(v){throw v===Ua?nc:v}else l=s;s=vt();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(Ce.flags|=2048,Ha(9,{destroy:void 0},RE.bind(null,h,a),null)),[l,m,t]}function RE(t,s){t.action=s}function u0(t){var s=vt(),a=tt;if(a!==null)return l0(s,a,t);vt(),s=s.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Ha(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=cc(),Ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function c0(){return vt().memoizedState}function dc(t,s,a,l){var h=rn();Ce.flags|=t,h.memoizedState=Ha(1|s,{destroy:void 0},a,l===void 0?null:l)}function mc(t,s,a,l){var h=vt();l=l===void 0?null:l;var m=h.memoizedState.inst;tt!==null&&l!==null&&Qf(l,tt.memoizedState.deps)?h.memoizedState=Ha(s,m,a,l):(Ce.flags|=t,h.memoizedState=Ha(1|s,m,a,l))}function h0(t,s){dc(8390656,8,t,s)}function id(t,s){mc(2048,8,t,s)}function CE(t){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=cc(),Ce.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function f0(t){var s=vt().memoizedState;return CE({ref:s,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function d0(t,s){return mc(4,2,t,s)}function m0(t,s){return mc(4,4,t,s)}function p0(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function g0(t,s,a){a=a!=null?a.concat([t]):null,mc(4,4,p0.bind(null,s,t),a)}function rd(){}function y0(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Qf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function _0(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Qf(s,l[1]))return l[0];if(l=t(),Fr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,s],l}function ad(t,s,a){return a===void 0||($s&1073741824)!==0&&(Me&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=vy(),Ce.lanes|=t,Ui|=t,a)}function v0(t,s,a,l){return _n(a,s)?a:za.current!==null?(t=ad(t,a,l),_n(t,s)||(Rt=!0),t):($s&42)===0||($s&1073741824)!==0&&(Me&261930)===0?(Rt=!0,t.memoizedState=a):(t=vy(),Ce.lanes|=t,Ui|=t,s)}function b0(t,s,a,l,h){var m=$.p;$.p=m!==0&&8>m?m:8;var v=F.T,E={};F.T=E,ud(t,!1,s,a);try{var j=h(),L=F.S;if(L!==null&&L(E,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var K=wE(j,l);hl(t,s,K,wn(t))}else hl(t,s,l,wn(t))}catch(ee){hl(t,s,{then:function(){},status:"rejected",reason:ee},wn())}finally{$.p=m,v!==null&&E.types!==null&&(v.types=E.types),F.T=v}}function IE(){}function od(t,s,a,l){if(t.tag!==5)throw Error(r(476));var h=x0(t).queue;b0(t,h,s,fe,a===null?IE:function(){return E0(t),a(l)})}function x0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:fe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function E0(t){var s=x0(t);s.next===null&&(s=t.alternate.memoizedState),hl(t,s.next.queue,{},wn())}function ld(){return Ft(Rl)}function T0(){return vt().memoizedState}function w0(){return vt().memoizedState}function jE(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=wn();t=Di(a);var l=ki(s,t,a);l!==null&&(fn(l,s,a),al(l,s,a)),s={cache:Pf()},t.payload=s;return}s=s.return}}function DE(t,s,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?S0(s,a):(a=Sf(t,s,a,l),a!==null&&(fn(a,t,l),N0(a,s,l)))}function A0(t,s,a){var l=wn();hl(t,s,a,l)}function hl(t,s,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))S0(s,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,E=m(v,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,v))return Xu(t,s,h,0),it===null&&Qu(),!1}catch{}finally{}if(a=Sf(t,s,h,l),a!==null)return fn(a,t,l),N0(a,s,l),!0}return!1}function ud(t,s,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(s)throw Error(r(479))}else s=Sf(t,a,l,2),s!==null&&fn(s,t,2)}function pc(t){var s=t.alternate;return t===Ce||s!==null&&s===Ce}function S0(t,s){Ba=lc=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function N0(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ko(t,a)}}var fl={readContext:Ft,use:hc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};fl.useEffectEvent=dt;var R0={readContext:Ft,use:hc,useCallback:function(t,s){return rn().memoizedState=[t,s===void 0?null:s],t},useContext:Ft,useEffect:h0,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,dc(4194308,4,p0.bind(null,s,t),a)},useLayoutEffect:function(t,s){return dc(4194308,4,t,s)},useInsertionEffect:function(t,s){dc(4,2,t,s)},useMemo:function(t,s){var a=rn();s=s===void 0?null:s;var l=t();if(Fr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=rn();if(a!==void 0){var h=a(s);if(Fr){Sn(!0);try{a(s)}finally{Sn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=DE.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var s=rn();return t={current:t},s.memoizedState=t},useState:function(t){t=nd(t);var s=t.queue,a=A0.bind(null,Ce,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,s){var a=rn();return ad(a,t,s)},useTransition:function(){var t=nd(!1);return t=b0.bind(null,Ce,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Ce,h=rn();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),it===null)throw Error(r(349));(Me&127)!==0||Xg(l,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,h0(Jg.bind(null,l,m,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},$g.bind(null,l,m,a,s),null),a},useId:function(){var t=rn(),s=it.identifierPrefix;if(Be){var a=Ss,l=As;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=uc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=AE++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:ld,useFormState:a0,useActionState:a0,useOptimistic:function(t){var s=rn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=ud.bind(null,Ce,!0,a),a.dispatch=s,[t,s]},useMemoCache:Wf,useCacheRefresh:function(){return rn().memoizedState=jE.bind(null,Ce)},useEffectEvent:function(t){var s=rn(),a={impl:t};return s.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Ft,use:hc,useCallback:y0,useContext:Ft,useEffect:id,useImperativeHandle:g0,useInsertionEffect:d0,useLayoutEffect:m0,useMemo:_0,useReducer:fc,useRef:c0,useState:function(){return fc(Js)},useDebugValue:rd,useDeferredValue:function(t,s){var a=vt();return v0(a,tt.memoizedState,t,s)},useTransition:function(){var t=fc(Js)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:cl(t),s]},useSyncExternalStore:Qg,useId:T0,useHostTransitionStatus:ld,useFormState:o0,useActionState:o0,useOptimistic:function(t,s){var a=vt();return e0(a,tt,t,s)},useMemoCache:Wf,useCacheRefresh:w0};cd.useEffectEvent=f0;var C0={readContext:Ft,use:hc,useCallback:y0,useContext:Ft,useEffect:id,useImperativeHandle:g0,useInsertionEffect:d0,useLayoutEffect:m0,useMemo:_0,useReducer:td,useRef:c0,useState:function(){return td(Js)},useDebugValue:rd,useDeferredValue:function(t,s){var a=vt();return tt===null?ad(a,t,s):v0(a,tt.memoizedState,t,s)},useTransition:function(){var t=td(Js)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:cl(t),s]},useSyncExternalStore:Qg,useId:T0,useHostTransitionStatus:ld,useFormState:u0,useActionState:u0,useOptimistic:function(t,s){var a=vt();return tt!==null?e0(a,tt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:w0};C0.useEffectEvent=f0;function hd(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:w({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=wn(),h=Di(l);h.payload=s,a!=null&&(h.callback=a),s=ki(t,h,l),s!==null&&(fn(s,t,l),al(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=wn(),h=Di(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=ki(t,h,l),s!==null&&(fn(s,t,l),al(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=wn(),l=Di(a);l.tag=2,s!=null&&(l.callback=s),s=ki(t,l,a),s!==null&&(fn(s,t,a),al(s,t,a))}};function I0(t,s,a,l,h,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,v):s.prototype&&s.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,m):!0}function j0(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&fd.enqueueReplaceState(s,s.state,null)}function Gr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function D0(t){Yu(t)}function k0(t){console.error(t)}function O0(t){Yu(t)}function gc(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function M0(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,s,a){return a=Di(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,s)},a}function V0(t){return t=Di(t),t.tag=3,t}function P0(t,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){M0(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){M0(s,a,l),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function kE(t,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ma(s,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Rc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===sc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===sc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(r(435,a.tag))}return Ud(t,l,h),Rc(),!1}if(Be)return s=bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==Df&&(t=Error(r(422),{cause:l}),tl(Dn(t,a)))):(l!==Df&&(s=Error(r(423),{cause:l}),tl(Dn(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=dd(t.stateNode,l,h),Hf(t,h),mt!==4&&(mt=2)),!1;var m=Error(r(520),{cause:l});if(m=Dn(m,a),bl===null?bl=[m]:bl.push(m),mt!==4&&(mt=2),s===null)return!0;l=Dn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Li===null||!Li.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=V0(h),P0(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(r(461)),Rt=!1;function Gt(t,s,a,l){s.child=t===null?Bg(s,null,a,l):Hr(s,t.child,a,l)}function U0(t,s,a,l,h){a=a.render;var m=s.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Lr(s),l=Xf(t,s,a,v,m,h),E=$f(),t!==null&&!Rt?(Jf(t,s,h),Zs(t,s,h)):(Be&&E&&If(s),s.flags|=1,Gt(t,s,l,h),s.child)}function L0(t,s,a,l,h){if(t===null){var m=a.type;return typeof m=="function"&&!Nf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,z0(t,s,m,l,h)):(t=Ju(a.type,null,l,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Ed(t,h)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&t.ref===s.ref)return Zs(t,s,h)}return s.flags|=1,t=Ks(m,l),t.ref=s.ref,t.return=s,s.child=t}function z0(t,s,a,l,h){if(t!==null){var m=t.memoizedProps;if(Zo(m,l)&&t.ref===s.ref)if(Rt=!1,s.pendingProps=l=m,Ed(t,h))(t.flags&131072)!==0&&(Rt=!0);else return s.lanes=t.lanes,Zs(t,s,h)}return pd(t,s,a,l,h)}function B0(t,s,a,l){var h=l.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=s.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,s.child=null;return q0(t,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(s,m!==null?m.cachePool:null),m!==null?Fg(s,m):Gf(),Gg(s);else return l=s.lanes=536870912,q0(t,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(tc(s,m.cachePool),Fg(s,m),Mi(),s.memoizedState=null):(t!==null&&tc(s,null),Gf(),Mi());return Gt(t,s,h,a),s.child}function dl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function q0(t,s,a,l,h){var m=Lf();return m=m===null?null:{parent:St._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&tc(s,null),Gf(),Gg(s),t!==null&&Ma(t,s,l,!0),s.childLanes=h,null}function yc(t,s){return s=vc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function H0(t,s,a){return Hr(s,t.child,null,a),t=yc(s,s.pendingProps),t.flags|=2,xn(s),s.memoizedState=null,t}function OE(t,s,a){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=yc(s,l),s.lanes=536870912,dl(null,t);if(Yf(s),(t=ot)?(t=t_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ni!==null?{id:As,overflow:Ss}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=s,s.child=a,Ht=s,ot=null)):t=null,t===null)throw Ci(s);return s.lanes=536870912,null}return yc(s,l)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(Yf(s),h)if(s.flags&256)s.flags&=-257,s=H0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Rt||Ma(t,s,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=it,l!==null&&(v=Oo(l,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,Mr(t,v),fn(l,t,v),md;Rc(),s=H0(t,s,a)}else t=m.treeContext,ot=Pn(v.nextSibling),Ht=s,Be=!0,Ri=null,Mn=!1,t!==null&&Cg(s,t),s=yc(s,l),s.flags|=4096;return s}return t=Ks(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function _c(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function pd(t,s,a,l,h){return Lr(s),a=Xf(t,s,a,l,void 0,h),l=$f(),t!==null&&!Rt?(Jf(t,s,h),Zs(t,s,h)):(Be&&l&&If(s),s.flags|=1,Gt(t,s,a,h),s.child)}function F0(t,s,a,l,h,m){return Lr(s),s.updateQueue=null,a=Yg(s,l,a,h),Kg(t),l=$f(),t!==null&&!Rt?(Jf(t,s,m),Zs(t,s,m)):(Be&&l&&If(s),s.flags|=1,Gt(t,s,a,m),s.child)}function G0(t,s,a,l,h){if(Lr(s),s.stateNode===null){var m=ja,v=a.contextType;typeof v=="object"&&v!==null&&(m=Ft(v)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Bf(s),v=a.contextType,m.context=typeof v=="object"&&v!==null?Ft(v):ja,m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(hd(s,a,v,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&fd.enqueueReplaceState(m,m.state,null),ll(s,l,m,h),ol(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var E=s.memoizedProps,j=Gr(a,E);m.props=j;var L=m.context,K=a.contextType;v=ja,typeof K=="object"&&K!==null&&(v=Ft(K));var ee=a.getDerivedStateFromProps;K=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||L!==v)&&j0(s,m,l,v),ji=!1;var B=s.memoizedState;m.state=B,ll(s,l,m,h),ol(),L=s.memoizedState,E||B!==L||ji?(typeof ee=="function"&&(hd(s,a,ee,l),L=s.memoizedState),(j=ji||I0(s,a,j,l,B,L,v))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=L),m.props=l,m.state=L,m.context=v,l=j):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,qf(t,s),v=s.memoizedProps,K=Gr(a,v),m.props=K,ee=s.pendingProps,B=m.context,L=a.contextType,j=ja,typeof L=="object"&&L!==null&&(j=Ft(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==ee||B!==j)&&j0(s,m,l,j),ji=!1,B=s.memoizedState,m.state=B,ll(s,l,m,h),ol();var H=s.memoizedState;v!==ee||B!==H||ji||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof E=="function"&&(hd(s,a,E,l),H=s.memoizedState),(K=ji||I0(s,a,K,l,B,H,j)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,H,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,H,j)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=H),m.props=l,m.state=H,m.context=j,l=K):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,_c(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=Hr(s,t.child,null,h),s.child=Hr(s,null,a,h)):Gt(t,s,a,h),s.memoizedState=m.state,t=s.child):t=Zs(t,s,h),t}function K0(t,s,a,l){return Pr(),s.flags|=256,Gt(t,s,a,l),s.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Mg()}}function _d(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Tn),t}function Y0(t,s,a){var l=s.pendingProps,h=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),v&&(h=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Be){if(h?Oi(s):Mi(),(t=ot)?(t=t_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ni!==null?{id:As,overflow:Ss}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=s,s.child=a,Ht=s,ot=null)):t=null,t===null)throw Ci(s);return em(t)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Mi(),h=s.mode,E=vc({mode:"hidden",children:E},h),l=Vr(l,h,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=yd(a),l.childLanes=_d(t,v,a),s.memoizedState=gd,dl(null,l)):(Oi(s),vd(s,E))}var j=t.memoizedState;if(j!==null&&(E=j.dehydrated,E!==null)){if(m)s.flags&256?(Oi(s),s.flags&=-257,s=bd(t,s,a)):s.memoizedState!==null?(Mi(),s.child=t.child,s.flags|=128,s=null):(Mi(),E=l.fallback,h=s.mode,l=vc({mode:"visible",children:l.children},h),E=Vr(E,h,a,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,Hr(s,t.child,null,a),l=s.child,l.memoizedState=yd(a),l.childLanes=_d(t,v,a),s.memoizedState=gd,s=dl(null,l));else if(Oi(s),em(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(r(419)),l.stack="",l.digest=v,tl({value:l,source:null,stack:null}),s=bd(t,s,a)}else if(Rt||Ma(t,s,a,!1),v=(a&t.childLanes)!==0,Rt||v){if(v=it,v!==null&&(l=Oo(v,a),l!==0&&l!==j.retryLane))throw j.retryLane=l,Mr(t,l),fn(v,t,l),md;Wd(E)||Rc(),s=bd(t,s,a)}else Wd(E)?(s.flags|=192,s.child=t.child,s=null):(t=j.treeContext,ot=Pn(E.nextSibling),Ht=s,Be=!0,Ri=null,Mn=!1,t!==null&&Cg(s,t),s=vd(s,l.children),s.flags|=4096);return s}return h?(Mi(),E=l.fallback,h=s.mode,j=t.child,L=j.sibling,l=Ks(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,L!==null?E=Ks(L,E):(E=Vr(E,h,a,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,dl(null,l),l=s.child,E=t.child.memoizedState,E===null?E=yd(a):(h=E.cachePool,h!==null?(j=St._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=Mg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=_d(t,v,a),s.memoizedState=gd,dl(t.child,l)):(Oi(s),a=t.child,t=a.sibling,a=Ks(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function vd(t,s){return s=vc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function vc(t,s){return t=vn(22,t,null,s),t.lanes=0,t}function bd(t,s,a){return Hr(s,t.child,null,a),t=vd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Q0(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Mf(t.return,s,a)}function xd(t,s,a,l,h,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=m)}function X0(t,s,a){var l=s.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var v=_t.current,E=(v&2)!==0;if(E?(v=v&1|2,s.flags|=128):v&=1,ae(_t,v),Gt(t,s,l,a),l=Be?el:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q0(t,a,s);else if(t.tag===19)Q0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),xd(s,!1,h,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}xd(s,!0,a,null,m,l);break;case"together":xd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Zs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ui|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Ma(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Ks(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ks(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Ed(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function ME(t,s,a){switch(s.tag){case 3:Xe(s,s.stateNode.containerInfo),Ii(s,St,t.memoizedState.cache),Pr();break;case 27:case 5:yr(s);break;case 4:Xe(s,s.stateNode.containerInfo);break;case 10:Ii(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Yf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Oi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Y0(t,s,a):(Oi(s),t=Zs(t,s,a),t!==null?t.sibling:null);Oi(s);break;case 19:var h=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ma(t,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return X0(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(_t,_t.current),l)break;return null;case 22:return s.lanes=0,B0(t,s,a,s.pendingProps);case 24:Ii(s,St,t.memoizedState.cache)}return Zs(t,s,a)}function $0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Rt=!0;else{if(!Ed(t,a)&&(s.flags&128)===0)return Rt=!1,ME(t,s,a);Rt=(t.flags&131072)!==0}else Rt=!1,Be&&(s.flags&1048576)!==0&&Rg(s,el,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Br(s.elementType),s.type=t,typeof t=="function")Nf(t)?(l=Gr(t,l),s.tag=1,s=G0(null,s,t,l,a)):(s.tag=0,s=pd(null,s,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===me){s.tag=11,s=U0(null,s,t,l,a);break e}else if(h===C){s.tag=14,s=L0(null,s,t,l,a);break e}}throw s=Ne(t)||t,Error(r(306,s,""))}}return s;case 0:return pd(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Gr(l,s.pendingProps),G0(t,s,l,h,a);case 3:e:{if(Xe(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;h=m.element,qf(t,s),ll(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Ii(s,St,l),l!==m.cache&&Vf(s,[St],a,!0),ol(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=K0(t,s,l,a);break e}else if(l!==h){h=Dn(Error(r(424)),s),tl(h),s=K0(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Pn(t.firstChild),Ht=s,Be=!0,Ri=null,Mn=!0,a=Bg(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),l===h){s=Zs(t,s,a);break e}Gt(t,s,l,a)}s=s.child}return s;case 26:return _c(t,s),t===null?(a=o_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,t=s.pendingProps,l=Mc(_e.current).createElement(a),l[Tt]=s,l[Pt]=t,Kt(l,a,t),wt(l),s.stateNode=l):s.memoizedState=o_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return yr(s),t===null&&Be&&(l=s.stateNode=i_(s.type,s.pendingProps,_e.current),Ht=s,Mn=!0,h=ot,Hi(s.type)?(tm=h,ot=Pn(l.firstChild)):ot=h),Gt(t,s,s.pendingProps.children,a),_c(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Be&&((h=l=ot)&&(l=hT(l,s.type,s.pendingProps,Mn),l!==null?(s.stateNode=l,Ht=s,ot=Pn(l.firstChild),Mn=!1,h=!0):h=!1),h||Ci(s)),yr(s),h=s.type,m=s.pendingProps,v=t!==null?t.memoizedProps:null,l=m.children,$d(h,m)?l=null:v!==null&&$d(h,v)&&(s.flags|=32),s.memoizedState!==null&&(h=Xf(t,s,SE,null,null,a),Rl._currentValue=h),_c(t,s),Gt(t,s,l,a),s.child;case 6:return t===null&&Be&&((t=a=ot)&&(a=fT(a,s.pendingProps,Mn),a!==null?(s.stateNode=a,Ht=s,ot=null,t=!0):t=!1),t||Ci(s)),null;case 13:return Y0(t,s,a);case 4:return Xe(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Hr(s,null,l,a):Gt(t,s,l,a),s.child;case 11:return U0(t,s,s.type,s.pendingProps,a);case 7:return Gt(t,s,s.pendingProps,a),s.child;case 8:return Gt(t,s,s.pendingProps.children,a),s.child;case 12:return Gt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ii(s,s.type,l.value),Gt(t,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Lr(s),h=Ft(h),l=l(h),s.flags|=1,Gt(t,s,l,a),s.child;case 14:return L0(t,s,s.type,s.pendingProps,a);case 15:return z0(t,s,s.type,s.pendingProps,a);case 19:return X0(t,s,a);case 31:return OE(t,s,a);case 22:return B0(t,s,a,s.pendingProps);case 24:return Lr(s),l=Ft(St),t===null?(h=Lf(),h===null&&(h=it,m=Pf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:l,cache:h},Bf(s),Ii(s,St,h)):((t.lanes&a)!==0&&(qf(t,s),ll(s,null,null,a),ol()),h=t.memoizedState,m=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Ii(s,St,l)):(l=m.cache,Ii(s,St,l),l!==h.cache&&Vf(s,[St],a,!0))),Gt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ws(t){t.flags|=4}function Td(t,s,a,l,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ty())t.flags|=8192;else throw qr=sc,zf}else t.flags&=-16777217}function J0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f_(s))if(Ty())t.flags|=8192;else throw qr=sc,zf}function bc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Su():536870912,t.lanes|=s,Ya|=s)}function ml(t,s){if(!Be)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function VE(t,s,a){var l=s.pendingProps;switch(jf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Xs(St),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(s)?Ws(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kf())),lt(s),null;case 26:var h=s.type,m=s.memoizedState;return t===null?(Ws(s),m!==null?(lt(s),J0(s,m)):(lt(s),Td(s,h,null,l,a))):m?m!==t.memoizedState?(Ws(s),lt(s),J0(s,m)):(lt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ws(s),lt(s),Td(s,h,t,l,a)),null;case 27:if(fa(s),a=_e.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Ws(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return lt(s),null}t=G.current,Oa(s)?Ig(s):(t=i_(h,l,a),s.stateNode=t,Ws(s))}return lt(s),null;case 5:if(fa(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Ws(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(m=G.current,Oa(s))Ig(s);else{var v=Mc(_e.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}m[Tt]=s,m[Pt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=m;e:switch(Kt(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ws(s)}}return lt(s),Td(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&Ws(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=_e.current,Oa(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yy(t.nodeValue,a)),t||Ci(s,!0)}else t=Mc(t).createTextNode(l),t[Tt]=s,s.stateNode=t}return lt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=s}else Pr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),t=!1}else a=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(xn(s),s):(xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return lt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(s),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=s}else Pr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),h=!1}else h=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(xn(s),s):(xn(s),null)}return xn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),bc(s,s.updateQueue),lt(s),null);case 4:return $e(),t===null&&Gd(s.stateNode.containerInfo),lt(s),null;case 10:return Xs(s.type),lt(s),null;case 19:if(J(_t),l=s.memoizedState,l===null)return lt(s),null;if(h=(s.flags&128)!==0,m=l.rendering,m===null)if(h)ml(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=oc(t),m!==null){for(s.flags|=128,ml(l,!1),t=m.updateQueue,s.updateQueue=t,bc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Ag(a,t),a=a.sibling;return ae(_t,_t.current&1|2),Be&&Ys(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&nn()>Ac&&(s.flags|=128,h=!0,ml(l,!1),s.lanes=4194304)}else{if(!h)if(t=oc(m),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,bc(s,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Be)return lt(s),null}else 2*nn()-l.renderingStartTime>Ac&&a!==536870912&&(s.flags|=128,h=!0,ml(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(t=l.last,t!==null?t.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=_t.current,ae(_t,h?a&1|2:a&1),Be&&Ys(s,l.treeForkCount),t):(lt(s),null);case 22:case 23:return xn(s),Kf(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),a=s.updateQueue,a!==null&&bc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&J(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Xs(St),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function PE(t,s){switch(jf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Xs(St),$e(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return fa(s),null;case 31:if(s.memoizedState!==null){if(xn(s),s.alternate===null)throw Error(r(340));Pr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(xn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Pr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return J(_t),null;case 4:return $e(),null;case 10:return Xs(s.type),null;case 22:case 23:return xn(s),Kf(),t!==null&&J(zr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Xs(St),null;case 25:return null;default:return null}}function Z0(t,s){switch(jf(s),s.tag){case 3:Xs(St),$e();break;case 26:case 27:case 5:fa(s);break;case 4:$e();break;case 31:s.memoizedState!==null&&xn(s);break;case 13:xn(s);break;case 19:J(_t);break;case 10:Xs(s.type);break;case 22:case 23:xn(s),Kf(),t!==null&&J(zr);break;case 24:Xs(St)}}function pl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){We(s,s.return,E)}}function Vi(t,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=s;var j=a,L=E;try{L()}catch(K){We(h,j,K)}}}l=l.next}while(l!==m)}}catch(K){We(s,s.return,K)}}function W0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Hg(s,a)}catch(l){We(t,t.return,l)}}}function ey(t,s,a){a.props=Gr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,s,l)}}function gl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,s,h)}}function Ns(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,s,h)}else a.current=null}function ty(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function wd(t,s,a){try{var l=t.stateNode;rT(l,t.type,a,s),l[Pt]=s}catch(h){We(t,t.return,h)}}function ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hi(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Yn));else if(l!==4&&(l===27&&Hi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Sd(t,s,a),t=t.sibling;t!==null;)Sd(t,s,a),t=t.sibling}function xc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Hi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,s,a),t=t.sibling;t!==null;)xc(t,s,a),t=t.sibling}function sy(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Kt(s,l,a),s[Tt]=t,s[Pt]=a}catch(m){We(t,t.return,m)}}var ei=!1,Ct=!1,Nd=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function UE(t,s){if(t=t.containerInfo,Qd=qc,t=gg(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,E=-1,j=-1,L=0,K=0,ee=t,B=null;t:for(;;){for(var H;ee!==a||h!==0&&ee.nodeType!==3||(E=v+h),ee!==m||l!==0&&ee.nodeType!==3||(j=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(H=ee.firstChild)!==null;)B=ee,ee=H;for(;;){if(ee===t)break t;if(B===a&&++L===h&&(E=v),B===m&&++K===l&&(j=v),(H=ee.nextSibling)!==null)break;ee=B,B=ee.parentNode}ee=H}a=E===-1||j===-1?null:{start:E,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},qc=!1,Lt=s;Lt!==null;)if(s=Lt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Lt=t;else for(;Lt!==null;){switch(s=Lt,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var he=Gr(a.type,h);t=l.getSnapshotBeforeUpdate(he,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){We(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Lt=t;break}Lt=s.return}}function ry(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ni(t,a),l&4&&pl(5,a);break;case 1:if(ni(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Gr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&W0(a),l&512&&gl(a,a.return);break;case 3:if(ni(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Hg(t,s)}catch(v){We(a,a.return,v)}}break;case 27:s===null&&l&4&&sy(a);case 26:case 5:ni(t,a),s===null&&l&4&&ty(a),l&512&&gl(a,a.return);break;case 12:ni(t,a);break;case 31:ni(t,a),l&4&&ly(t,a);break;case 13:ni(t,a),l&4&&uy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=YE.bind(null,a),dT(t,a))));break;case 22:if(l=a.memoizedState!==null||ei,!l){s=s!==null&&s.memoizedState!==null||Ct,h=ei;var m=Ct;ei=l,(Ct=s)&&!m?si(t,a,(a.subtreeFlags&8772)!==0):ni(t,a),ei=h,Ct=m}break;case 30:break;default:ni(t,a)}}function ay(t){var s=t.alternate;s!==null&&(t.alternate=null,ay(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&ya(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,ln=!1;function ti(t,s,a){for(a=a.child;a!==null;)oy(t,s,a),a=a.sibling}function oy(t,s,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Ct||Ns(a,s),ti(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ns(a,s);var l=ht,h=ln;Hi(a.type)&&(ht=a.stateNode,ln=!1),ti(t,s,a),Al(a.stateNode),ht=l,ln=h;break;case 5:Ct||Ns(a,s);case 6:if(l=ht,h=ln,ht=null,ti(t,s,a),ht=l,ln=h,ht!==null)if(ln)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(m){We(a,s,m)}else try{ht.removeChild(a.stateNode)}catch(m){We(a,s,m)}break;case 18:ht!==null&&(ln?(t=ht,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):Wy(ht,a.stateNode));break;case 4:l=ht,h=ln,ht=a.stateNode.containerInfo,ln=!0,ti(t,s,a),ht=l,ln=h;break;case 0:case 11:case 14:case 15:Vi(2,a,s),Ct||Vi(4,a,s),ti(t,s,a);break;case 1:Ct||(Ns(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ey(a,s,l)),ti(t,s,a);break;case 21:ti(t,s,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,ti(t,s,a),Ct=l;break;default:ti(t,s,a)}}function ly(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){We(s,s.return,a)}}}function uy(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){We(s,s.return,a)}}function LE(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new iy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new iy),s;default:throw Error(r(435,t.tag))}}function Ec(t,s){var a=LE(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var h=QE.bind(null,t,l);l.then(h,h)}})}function un(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=t,v=s,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Hi(E.type)){ht=E.stateNode,ln=!1;break e}break;case 5:ht=E.stateNode,ln=!1;break e;case 3:case 4:ht=E.stateNode.containerInfo,ln=!0;break e}E=E.return}if(ht===null)throw Error(r(160));oy(m,v,h),ht=null,ln=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)cy(s,t),s=s.sibling}var Wn=null;function cy(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(s,t),cn(t),l&4&&(Vi(3,t,t.return),pl(3,t),Vi(5,t,t.return));break;case 1:un(s,t),cn(t),l&512&&(Ct||a===null||Ns(a,a.return)),l&64&&ei&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(un(s,t),cn(t),l&512&&(Ct||a===null||Ns(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[ds]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Kt(m,l,a),m[Tt]=t,wt(m),l=m;break e;case"link":var v=c_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(m=v[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}m=h.createElement(l),Kt(m,l,a),h.head.appendChild(m);break;case"meta":if(v=c_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(m=v[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}m=h.createElement(l),Kt(m,l,a),h.head.appendChild(m);break;default:throw Error(r(468,l))}m[Tt]=t,wt(m),l=m}t.stateNode=l}else h_(h,t.type,t.stateNode);else t.stateNode=u_(h,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?h_(h,t.type,t.stateNode):u_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(s,t),cn(t),l&512&&(Ct||a===null||Ns(a,a.return)),a!==null&&l&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(s,t),cn(t),l&512&&(Ct||a===null||Ns(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(he){We(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Nd=!0);break;case 6:if(un(s,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){We(t,t.return,he)}}break;case 3:if(Uc=null,h=Wn,Wn=Vc(s.containerInfo),un(s,t),Wn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(s.containerInfo)}catch(he){We(t,t.return,he)}Nd&&(Nd=!1,hy(t));break;case 4:l=Wn,Wn=Vc(t.stateNode.containerInfo),un(s,t),cn(t),Wn=l;break;case 12:un(s,t),cn(t);break;case 31:un(s,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 13:un(s,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 22:h=t.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,L=ei,K=Ct;if(ei=L||h,Ct=K||j,un(s,t),Ct=K,ei=L,cn(t),l&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||j||ei||Ct||Kr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){j=a=s;try{if(m=j.stateNode,h)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=j.stateNode;var ee=j.memoizedProps.style,B=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){We(j,j.return,he)}}}else if(s.tag===6){if(a===null){j=s;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(he){We(j,j.return,he)}}}else if(s.tag===18){if(a===null){j=s;try{var H=j.stateNode;h?e_(H,!0):e_(j.stateNode,!1)}catch(he){We(j,j.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ec(t,a))));break;case 19:un(s,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 30:break;case 21:break;default:un(s,t),cn(t)}}function cn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(ny(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,m=Ad(t);xc(t,m,h);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var E=Ad(t);xc(t,E,v);break;case 3:case 4:var j=a.stateNode.containerInfo,L=Ad(t);Sd(t,L,j);break;default:throw Error(r(161))}}catch(K){We(t,t.return,K)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;hy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ni(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ry(t,s.alternate,s),s=s.sibling}function Kr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Vi(4,s,s.return),Kr(s);break;case 1:Ns(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&ey(s,s.return,a),Kr(s);break;case 27:Al(s.stateNode);case 26:case 5:Ns(s,s.return),Kr(s);break;case 22:s.memoizedState===null&&Kr(s);break;case 30:Kr(s);break;default:Kr(s)}t=t.sibling}}function si(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=t,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:si(h,m,a),pl(4,m);break;case 1:if(si(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){We(l,l.return,L)}if(l=m,h=l.updateQueue,h!==null){var E=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)qg(j[h],E)}catch(L){We(l,l.return,L)}}a&&v&64&&W0(m),gl(m,m.return);break;case 27:sy(m);case 26:case 5:si(h,m,a),a&&l===null&&v&4&&ty(m),gl(m,m.return);break;case 12:si(h,m,a);break;case 31:si(h,m,a),a&&v&4&&ly(h,m);break;case 13:si(h,m,a),a&&v&4&&uy(h,m);break;case 22:m.memoizedState===null&&si(h,m,a),gl(m,m.return);break;case 30:break;default:si(h,m,a)}s=s.sibling}}function Rd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Cd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&nl(t))}function es(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)fy(t,s,a,l),s=s.sibling}function fy(t,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:es(t,s,a,l),h&2048&&pl(9,s);break;case 1:es(t,s,a,l);break;case 3:es(t,s,a,l),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){es(t,s,a,l),t=s.stateNode;try{var m=s.memoizedProps,v=m.id,E=m.onPostCommit;typeof E=="function"&&E(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){We(s,s.return,j)}}else es(t,s,a,l);break;case 31:es(t,s,a,l);break;case 13:es(t,s,a,l);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?es(t,s,a,l):yl(t,s):m._visibility&2?es(t,s,a,l):(m._visibility|=2,Fa(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&Rd(v,s);break;case 24:es(t,s,a,l),h&2048&&Cd(s.alternate,s);break;default:es(t,s,a,l)}}function Fa(t,s,a,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,v=s,E=a,j=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(m,v,E,j,h),pl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Fa(m,v,E,j,h):yl(m,v):(K._visibility|=2,Fa(m,v,E,j,h)),h&&L&2048&&Rd(v.alternate,v);break;case 24:Fa(m,v,E,j,h),h&&L&2048&&Cd(v.alternate,v);break;default:Fa(m,v,E,j,h)}s=s.sibling}}function yl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&Rd(l.alternate,l);break;case 24:yl(a,l),h&2048&&Cd(l.alternate,l);break;default:yl(a,l)}s=s.sibling}}var _l=8192;function Ga(t,s,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)dy(t,s,a),t=t.sibling}function dy(t,s,a){switch(t.tag){case 26:Ga(t,s,a),t.flags&_l&&t.memoizedState!==null&&AT(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,s,a);break;case 3:case 4:var l=Wn;Wn=Vc(t.stateNode.containerInfo),Ga(t,s,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,Ga(t,s,a),_l=l):Ga(t,s,a));break;default:Ga(t,s,a)}}function my(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function vl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Lt=l,gy(l,t)}my(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Vi(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Tc(t)):vl(t);break;default:vl(t)}}function Tc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Lt=l,gy(l,t)}my(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Vi(8,s,s.return),Tc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(s));break;default:Tc(s)}t=t.sibling}}function gy(t,s){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Vi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,m=l.return;if(ay(l),l===a){Lt=null;break e}if(h!==null){h.return=m,Lt=h;break e}Lt=m}}}var zE={getCacheForType:function(t){var s=Ft(St),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Ft(St).controller.signal}},BE=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,ke=null,Me=0,Ze=0,En=null,Pi=!1,Ka=!1,Id=!1,ii=0,mt=0,Ui=0,Yr=0,jd=0,Tn=0,Ya=0,bl=null,hn=null,Dd=!1,wc=0,yy=0,Ac=1/0,Sc=null,Li=null,Mt=0,zi=null,Qa=null,ri=0,kd=0,Od=null,_y=null,xl=0,Md=null;function wn(){return(Ye&2)!==0&&Me!==0?Me&-Me:F.T!==null?Bd():Nu()}function vy(){if(Tn===0)if((Me&536870912)===0||Be){var t=br;br<<=1,(br&3932160)===0&&(br=262144),Tn=t}else Tn=536870912;return t=bn.current,t!==null&&(t.flags|=32),Tn}function fn(t,s,a){(t===it&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Bi(t,Me,Tn,!1)),xr(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(Yr|=a),mt===4&&Bi(t,Me,Tn,!1)),Rs(t))}function by(t,s,a){if((Ye&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Fn(t,s),h=l?FE(t,s):Pd(t,s,!0),m=l;do{if(h===0){Ka&&!l&&Bi(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!qE(a)){h=Pd(t,s,!1),m=!1;continue}if(h===2){if(m=s,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var E=t;h=bl;var j=E.current.memoizedState.isDehydrated;if(j&&(Xa(E,v).flags|=256),v=Pd(E,v,!1),v!==2){if(Id&&!j){E.errorRecoveryDisabledLanes|=m,Yr|=m,h=4;break e}m=hn,hn=h,m!==null&&(hn===null?hn=m:hn.push.apply(hn,m))}h=v}if(m=!1,h!==2)continue}}if(h===1){Xa(t,0),Bi(t,s,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Bi(l,s,Tn,!Pi);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=wc+300-nn(),10<h)){if(Bi(l,s,Tn,!Pi),cs(l,0,!0)!==0)break e;ri=s,l.timeoutHandle=Jy(xy.bind(null,l,a,hn,Sc,Dd,s,Tn,Yr,Ya,Pi,m,"Throttled",-0,0),h);break e}xy(l,a,hn,Sc,Dd,s,Tn,Yr,Ya,Pi,m,null,-0,0)}}break}while(!0);Rs(t)}function xy(t,s,a,l,h,m,v,E,j,L,K,ee,B,H){if(t.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},dy(s,m,ee);var he=(m&62914560)===m?wc-nn():(m&4194048)===m?yy-nn():0;if(he=ST(ee,he),he!==null){ri=m,t.cancelPendingCommit=he(Cy.bind(null,t,s,m,a,l,h,v,E,j,K,ee,null,B,H)),Bi(t,m,v,!L);return}}Cy(t,s,m,a,l,h,v,E,j)}function qE(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!_n(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Bi(t,s,a,l){s&=~jd,s&=~Yr,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var h=s;0<h;){var m=31-gt(h),v=1<<m;l[m]=-1,h&=~v}a!==0&&Er(t,a,s)}function Nc(){return(Ye&6)===0?(El(0),!1):!0}function Vd(){if(ke!==null){if(Ze===0)var t=ke.return;else t=ke,Qs=Ur=null,Zf(t),La=null,il=0,t=ke;for(;t!==null;)Z0(t.alternate,t),t=t.return;ke=null}}function Xa(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ri=0,Vd(),it=t,ke=a=Ks(t.current,null),Me=s,Ze=0,En=null,Pi=!1,Ka=Fn(t,s),Id=!1,Ya=Tn=jd=Yr=Ui=mt=0,hn=bl=null,Dd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var h=31-gt(l),m=1<<h;s|=t[h],l&=~m}return ii=s,Qu(),a}function Ey(t,s){Ce=null,F.H=fl,s===Ua||s===nc?(s=Ug(),Ze=3):s===zf?(s=Ug(),Ze=4):Ze=s===md?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,En=s,ke===null&&(mt=1,gc(t,Dn(s,t.current)))}function Ty(){var t=bn.current;return t===null?!0:(Me&4194048)===Me?Vn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Vn:!1}function wy(){var t=F.H;return F.H=fl,t===null?fl:t}function Ay(){var t=F.A;return F.A=zE,t}function Rc(){mt=4,Pi||(Me&4194048)!==Me&&bn.current!==null||(Ka=!0),(Ui&134217727)===0&&(Yr&134217727)===0||it===null||Bi(it,Me,Tn,!1)}function Pd(t,s,a){var l=Ye;Ye|=2;var h=wy(),m=Ay();(it!==t||Me!==s)&&(Sc=null,Xa(t,s)),s=!1;var v=mt;e:do try{if(Ze!==0&&ke!==null){var E=ke,j=En;switch(Ze){case 8:Vd(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(s=!0);var L=Ze;if(Ze=0,En=null,$a(t,E,j,L),a&&Ka){v=0;break e}break;default:L=Ze,Ze=0,En=null,$a(t,E,j,L)}}HE(),v=mt;break}catch(K){Ey(t,K)}while(!0);return s&&t.shellSuspendCounter++,Qs=Ur=null,Ye=l,F.H=h,F.A=m,ke===null&&(it=null,Me=0,Qu()),v}function HE(){for(;ke!==null;)Sy(ke)}function FE(t,s){var a=Ye;Ye|=2;var l=wy(),h=Ay();it!==t||Me!==s?(Sc=null,Ac=nn()+500,Xa(t,s)):Ka=Fn(t,s);e:do try{if(Ze!==0&&ke!==null){s=ke;var m=En;t:switch(Ze){case 1:Ze=0,En=null,$a(t,s,m,1);break;case 2:case 9:if(Vg(m)){Ze=0,En=null,Ny(s);break}s=function(){Ze!==2&&Ze!==9||it!==t||(Ze=7),Rs(t)},m.then(s,s);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Vg(m)?(Ze=0,En=null,Ny(s)):(Ze=0,En=null,$a(t,s,m,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var E=ke;if(v?f_(v):E.stateNode.complete){Ze=0,En=null;var j=E.sibling;if(j!==null)ke=j;else{var L=E.return;L!==null?(ke=L,Cc(L)):ke=null}break t}}Ze=0,En=null,$a(t,s,m,5);break;case 6:Ze=0,En=null,$a(t,s,m,6);break;case 8:Vd(),mt=6;break e;default:throw Error(r(462))}}GE();break}catch(K){Ey(t,K)}while(!0);return Qs=Ur=null,F.H=l,F.A=h,Ye=a,ke!==null?0:(it=null,Me=0,Qu(),mt)}function GE(){for(;ke!==null&&!df();)Sy(ke)}function Sy(t){var s=$0(t.alternate,t,ii);t.memoizedProps=t.pendingProps,s===null?Cc(t):ke=s}function Ny(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=F0(a,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=F0(a,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:Zf(s);default:Z0(a,s),s=ke=Ag(s,ii),s=$0(a,s,ii)}t.memoizedProps=t.pendingProps,s===null?Cc(t):ke=s}function $a(t,s,a,l){Qs=Ur=null,Zf(s),La=null,il=0;var h=s.return;try{if(kE(t,h,s,a,Me)){mt=1,gc(t,Dn(a,t.current)),ke=null;return}}catch(m){if(h!==null)throw ke=h,m;mt=1,gc(t,Dn(a,t.current)),ke=null;return}s.flags&32768?(Be||l===1?t=!0:Ka||(Me&536870912)!==0?t=!1:(Pi=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ry(s,t)):Cc(s)}function Cc(t){var s=t;do{if((s.flags&32768)!==0){Ry(s,Pi);return}t=s.return;var a=VE(s.alternate,s,ii);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=t}while(s!==null);mt===0&&(mt=5)}function Ry(t,s){do{var a=PE(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);mt=6,ke=null}function Cy(t,s,a,l,h,m,v,E,j){t.cancelPendingCommit=null;do Ic();while(Mt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Af,gf(t,a,m,v,E,j),t===it&&(ke=it=null,Me=0),Qa=s,zi=t,ri=a,kd=m,Od=h,_y=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XE(yi,function(){return Oy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=$.p,$.p=2,v=Ye,Ye|=4;try{UE(t,s,a)}finally{Ye=v,$.p=h,F.T=l}}Mt=1,Iy(),jy(),Dy()}}function Iy(){if(Mt===1){Mt=0;var t=zi,s=Qa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=$.p;$.p=2;var h=Ye;Ye|=4;try{cy(s,t);var m=Xd,v=gg(t.containerInfo),E=m.focusedElem,j=m.selectionRange;if(v!==E&&E&&E.ownerDocument&&pg(E.ownerDocument.documentElement,E)){if(j!==null&&bf(E)){var L=j.start,K=j.end;if(K===void 0&&(K=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(K,E.value.length);else{var ee=E.ownerDocument||document,B=ee&&ee.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=E.textContent.length,ve=Math.min(j.start,he),st=j.end===void 0?ve:Math.min(j.end,he);!H.extend&&ve>st&&(v=st,st=ve,ve=v);var V=mg(E,ve),k=mg(E,st);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var U=ee.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),ve>st?(H.addRange(U),H.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),H.addRange(U))}}}}for(ee=[],H=E;H=H.parentNode;)H.nodeType===1&&ee.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ee.length;E++){var Q=ee[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}qc=!!Qd,Xd=Qd=null}finally{Ye=h,$.p=l,F.T=a}}t.current=s,Mt=2}}function jy(){if(Mt===2){Mt=0;var t=zi,s=Qa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=$.p;$.p=2;var h=Ye;Ye|=4;try{ry(t,s.alternate,s)}finally{Ye=h,$.p=l,F.T=a}}Mt=3}}function Dy(){if(Mt===4||Mt===3){Mt=0,bu();var t=zi,s=Qa,a=ri,l=_y;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Mt=5:(Mt=0,Qa=zi=null,ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Li=null),qs(a),s=s.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Hn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=F.T,h=$.p,$.p=2,F.T=null;try{for(var m=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];m(E.value,{componentStack:E.stack})}}finally{F.T=s,$.p=h}}(ri&3)!==0&&Ic(),Rs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Md?xl++:(xl=0,Md=t):xl=0,El(0)}}function ky(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,nl(s)))}function Ic(){return Iy(),jy(),Dy(),Oy()}function Oy(){if(Mt!==5)return!1;var t=zi,s=kd;kd=0;var a=qs(ri),l=F.T,h=$.p;try{$.p=32>a?32:a,F.T=null,a=Od,Od=null;var m=zi,v=ri;if(Mt=0,Qa=zi=null,ri=0,(Ye&6)!==0)throw Error(r(331));var E=Ye;if(Ye|=4,py(m.current),fy(m,m.current,v,a),Ye=E,El(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Hn,m)}catch{}return!0}finally{$.p=h,F.T=l,ky(t,s)}}function My(t,s,a){s=Dn(a,s),s=dd(t.stateNode,s,2),t=ki(t,s,2),t!==null&&(xr(t,2),Rs(t))}function We(t,s,a){if(t.tag===3)My(t,t,a);else for(;s!==null;){if(s.tag===3){My(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Li===null||!Li.has(l))){t=Dn(a,t),a=V0(2),l=ki(s,a,2),l!==null&&(P0(a,l,s,t),xr(l,2),Rs(l));break}}s=s.return}}function Ud(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new BE;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(Id=!0,h.add(a),t=KE.bind(null,t,s,a),s.then(t,t))}function KE(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Me&a)===a&&(mt===4||mt===3&&(Me&62914560)===Me&&300>nn()-wc?(Ye&2)===0&&Xa(t,0):jd|=a,Ya===Me&&(Ya=0)),Rs(t)}function Vy(t,s){s===0&&(s=Su()),t=Mr(t,s),t!==null&&(xr(t,s),Rs(t))}function YE(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Vy(t,a)}function QE(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Vy(t,a)}function XE(t,s){return Ot(t,s)}var jc=null,Ja=null,Ld=!1,Dc=!1,zd=!1,qi=0;function Rs(t){t!==Ja&&t.next===null&&(Ja===null?jc=Ja=t:Ja=Ja.next=t),Dc=!0,Ld||(Ld=!0,JE())}function El(t,s){if(!zd&&Dc){zd=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var v=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-gt(42|t)+1)-1,m&=h&~(v&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,zy(l,m))}else m=Me,m=cs(l,l===it?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Fn(l,m)||(a=!0,zy(l,m));l=l.next}while(a);zd=!1}}function $E(){Py()}function Py(){Dc=Ld=!1;var t=0;qi!==0&&oT()&&(t=qi);for(var s=nn(),a=null,l=jc;l!==null;){var h=l.next,m=Uy(l,s);m===0?(l.next=null,a===null?jc=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(m&3)!==0)&&(Dc=!0)),l=h}Mt!==0&&Mt!==5||El(t),qi!==0&&(qi=0)}function Uy(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-gt(m),E=1<<v,j=h[v];j===-1?((E&a)===0||(E&l)!==0)&&(h[v]=pf(E,s)):j<=s&&(t.expiredLanes|=E),m&=~E}if(s=it,a=Me,a=cs(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&gi(l),qs(a)){case 2:case 8:a=Do;break;case 32:a=yi;break;case 268435456:a=xu;break;default:a=yi}return l=Ly.bind(null,t),a=Ot(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&gi(l),t.callbackPriority=2,t.callbackNode=null,2}function Ly(t,s){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Me;return l=cs(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(by(t,l,s),Uy(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Ly.bind(null,t):null)}function zy(t,s){if(Ic())return null;by(t,s,!0)}function JE(){uT(function(){(Ye&6)!==0?Ot(jo,$E):Py()})}function Bd(){if(qi===0){var t=Va;t===0&&(t=ls,ls<<=1,(ls&261888)===0&&(ls=256)),qi=t}return qi}function By(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function qy(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function ZE(t,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var m=By((h[Pt]||null).action),v=l.submitter;v&&(s=(s=v[Pt]||null)?By(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var E=new xs("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qi!==0){var j=v?qy(h,v):new FormData(h);od(a,{pending:!0,data:j,method:h.method,action:m},null,j)}}else typeof m=="function"&&(E.preventDefault(),j=v?qy(h,v):new FormData(h),od(a,{pending:!0,data:j,method:h.method,action:m},m,j))},currentTarget:h}]})}}for(var qd=0;qd<wf.length;qd++){var Hd=wf[qd],WE=Hd.toLowerCase(),eT=Hd[0].toUpperCase()+Hd.slice(1);Zn(WE,"on"+eT)}Zn(vg,"onAnimationEnd"),Zn(bg,"onAnimationIteration"),Zn(xg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(gE,"onTransitionRun"),Zn(yE,"onTransitionStart"),Zn(_E,"onTransitionCancel"),Zn(Eg,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Hy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var v=l.length-1;0<=v;v--){var E=l[v],j=E.instance,L=E.currentTarget;if(E=E.listener,j!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=L;try{m(h)}catch(K){Yu(K)}h.currentTarget=null,m=j}else for(v=0;v<l.length;v++){if(E=l[v],j=E.instance,L=E.currentTarget,E=E.listener,j!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=L;try{m(h)}catch(K){Yu(K)}h.currentTarget=null,m=j}}}}function Oe(t,s){var a=s[ga];a===void 0&&(a=s[ga]=new Set);var l=t+"__bubble";a.has(l)||(Fy(s,t,2,!1),a.add(l))}function Fd(t,s,a){var l=0;s&&(l|=4),Fy(a,t,l,s)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[kc]){t[kc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(tT.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[kc]||(s[kc]=!0,Fd("selectionchange",!1,s))}}function Fy(t,s,a,l){switch(v_(s)){case 2:var h=CT;break;case 8:h=IT;break;default:h=am}a=h.bind(null,s,a,t),h=void 0,!Nr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function Kd(t,s,a,l,h){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var j=v.tag;if((j===3||j===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=ms(E),v===null)return;if(j=v.tag,j===5||j===6||j===26||j===27){l=m=v;continue e}E=E.parentNode}}l=l.return}Ti(function(){var L=m,K=Rn(a),ee=[];e:{var B=Tg.get(t);if(B!==void 0){var H=xs,he=t;switch(t){case"keypress":if(Cr(a)===0)break e;case"keydown":case"keyup":H=Fu;break;case"focusin":he="focus",H=jr;break;case"focusout":he="blur",H=jr;break;case"beforeblur":case"afterblur":H=jr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case vg:case bg:case xg:H=Pu;break;case Eg:H=T;break;case"scroll":case"scrollend":H=Yo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gs;break;case"toggle":case"beforetoggle":H=Re}var ve=(s&4)!==0,st=!ve&&(t==="scroll"||t==="scrollend"),V=ve?B!==null?B+"Capture":null:B;ve=[];for(var k=L,U;k!==null;){var Q=k;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||V===null||(Q=Qn(k,V),Q!=null&&ve.push(wl(k,Q,U))),st)break;k=k.return}0<ve.length&&(B=new H(B,he,null,a,K),ee.push({event:B,listeners:ve}))}}if((s&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Fo&&(he=a.relatedTarget||a.fromElement)&&(ms(he)||he[fs]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=L,he=he?ms(he):null,he!==null&&(st=u(he),ve=he.tag,he!==st||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(H=null,he=L),H!==he)){if(ve=Qo,Q="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Gs,Q="onPointerLeave",V="onPointerEnter",k="pointer"),st=H==null?B:gn(H),U=he==null?B:gn(he),B=new ve(Q,k+"leave",H,a,K),B.target=st,B.relatedTarget=U,Q=null,ms(K)===L&&(ve=new ve(V,k+"enter",he,a,K),ve.target=U,ve.relatedTarget=st,Q=ve),st=Q,H&&he)t:{for(ve=nT,V=H,k=he,U=0,Q=V;Q;Q=ve(Q))U++;Q=0;for(var ge=k;ge;ge=ve(ge))Q++;for(;0<U-Q;)V=ve(V),U--;for(;0<Q-U;)k=ve(k),Q--;for(;U--;){if(V===k||k!==null&&V===k.alternate){ve=V;break t}V=ve(V),k=ve(k)}ve=null}else ve=null;H!==null&&Gy(ee,B,H,ve,!1),he!==null&&st!==null&&Gy(ee,st,he,ve,!0)}}e:{if(B=L?gn(L):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Fe=lg;else if(ag(B))if(ug)Fe=dE;else{Fe=hE;var de=cE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&ba(L.elementType)&&(Fe=lg):Fe=fE;if(Fe&&(Fe=Fe(t,L))){og(ee,Fe,a,K);break e}de&&de(t,B,L),t==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&Bo(B,"number",B.value)}switch(de=L?gn(L):window,t){case"focusin":(ag(de)||de.contentEditable==="true")&&(Ra=de,xf=L,Wo=null);break;case"focusout":Wo=xf=Ra=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,yg(ee,a,K);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":yg(ee,a,K)}var Ie;if(Ke)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Na?Dr(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(ws&&a.locale!=="ko"&&(Na||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Na&&(Ie=Ko()):(bs=K,Go="value"in bs?bs.value:bs.textContent,Na=!0)),de=Oc(L,Ve),0<de.length&&(Ve=new Ts(Ve,t,null,a,K),ee.push({event:Ve,listeners:de}),Ie?Ve.data=Ie:(Ie=Sa(a),Ie!==null&&(Ve.data=Ie)))),(Ie=In?aE(t,a):oE(t,a))&&(Ve=Oc(L,"onBeforeInput"),0<Ve.length&&(de=new Ts("onBeforeInput","beforeinput",null,a,K),ee.push({event:de,listeners:Ve}),de.data=Ie)),ZE(ee,t,L,a,K)}Hy(ee,s)})}function wl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Oc(t,s){for(var a=s+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Qn(t,a),h!=null&&l.unshift(wl(t,h,m)),h=Qn(t,s),h!=null&&l.push(wl(t,h,m))),t.tag===3)return l;t=t.return}return[]}function nT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gy(t,s,a,l,h){for(var m=s._reactName,v=[];a!==null&&a!==l;){var E=a,j=E.alternate,L=E.stateNode;if(E=E.tag,j!==null&&j===l)break;E!==5&&E!==26&&E!==27||L===null||(j=L,h?(L=Qn(a,m),L!=null&&v.unshift(wl(a,L,j))):h||(L=Qn(a,m),L!=null&&v.push(wl(a,L,j)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var sT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function Ky(t){return(typeof t=="string"?t:""+t).replace(sT,`
`).replace(iT,"")}function Yy(t,s){return s=Ky(s),Ky(t)===s}function nt(t,s,a,l,h,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&on(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Ho(t,l,m);break;case"data":if(s!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&nt(t,s,"name",h.name,h,null),nt(t,s,"formEncType",h.formEncType,h,null),nt(t,s,"formMethod",h.formMethod,h,null),nt(t,s,"formTarget",h.formTarget,h,null)):(nt(t,s,"encType",h.encType,h,null),nt(t,s,"method",h.method,h,null),nt(t,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=xa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,_a(t,a,l))}}function Yd(t,s,a,l,h,m){switch(a){case"style":Ho(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=t[Pt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function Kt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(t,s,m,v,a,null)}}h&&nt(t,s,"srcSet",a.srcSet,a,null),l&&nt(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var E=m=v=h=null,j=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":j=K;break;case"defaultChecked":L=K;break;case"value":m=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:nt(t,s,l,K,a,null)}}ju(t,m,E,j,L,v,h,!1);return;case"select":Oe("invalid",t),l=v=m=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":m=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:nt(t,s,h,E,a,null)}s=m,a=v,t.multiple=!!l,s!=null?vi(t,!!l,s,!1):a!=null&&vi(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),m=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:nt(t,s,v,E,a,null)}bi(t,l,h,m);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,s,j,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Oe(Tl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(t,s,L,l,a,null)}return;default:if(ba(s)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Yd(t,s,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&nt(t,s,E,l,a,null))}function rT(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,v=null,E=null,j=null,L=null,K=null;for(H in a){var ee=a[H];if(a.hasOwnProperty(H)&&ee!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":j=ee;default:l.hasOwnProperty(H)||nt(t,s,H,null,l,ee)}}for(var B in l){var H=l[B];if(ee=a[B],l.hasOwnProperty(B)&&(H!=null||ee!=null))switch(B){case"type":m=H;break;case"name":h=H;break;case"checked":L=H;break;case"defaultChecked":K=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:H!==ee&&nt(t,s,B,H,l,ee)}}va(t,v,E,j,L,K,m,h);return;case"select":H=v=E=B=null;for(m in a)if(j=a[m],a.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":H=j;default:l.hasOwnProperty(m)||nt(t,s,m,null,l,j)}for(h in l)if(m=l[h],j=a[h],l.hasOwnProperty(h)&&(m!=null||j!=null))switch(h){case"value":B=m;break;case"defaultValue":E=m;break;case"multiple":v=m;default:m!==j&&nt(t,s,h,m,l,j)}s=E,a=v,l=H,B!=null?vi(t,!!a,B,!1):!!l!=!!a&&(s!=null?vi(t,!!a,s,!0):vi(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,s,E,null,l,h)}for(v in l)if(h=l[v],m=a[v],l.hasOwnProperty(v)&&(h!=null||m!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&nt(t,s,v,h,l,m)}Du(t,B,H);return;case"option":for(var he in a)if(B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:nt(t,s,he,null,l,B)}for(j in l)if(B=l[j],H=a[j],l.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:nt(t,s,j,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)B=a[ve],a.hasOwnProperty(ve)&&B!=null&&!l.hasOwnProperty(ve)&&nt(t,s,ve,null,l,B);for(L in l)if(B=l[L],H=a[L],l.hasOwnProperty(L)&&B!==H&&(B!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:nt(t,s,L,B,l,H)}return;default:if(ba(s)){for(var st in a)B=a[st],a.hasOwnProperty(st)&&B!==void 0&&!l.hasOwnProperty(st)&&Yd(t,s,st,void 0,l,B);for(K in l)B=l[K],H=a[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||Yd(t,s,K,B,l,H);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&nt(t,s,V,null,l,B);for(ee in l)B=l[ee],H=a[ee],!l.hasOwnProperty(ee)||B===H||B==null&&H==null||nt(t,s,ee,B,l,H)}function Qy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],m=h.transferSize,v=h.initiatorType,E=h.duration;if(m&&E&&Qy(v)){for(v=0,E=h.responseEnd,l+=1;l<a.length;l++){var j=a[l],L=j.startTime;if(L>E)break;var K=j.transferSize,ee=j.initiatorType;K&&Qy(ee)&&(j=j.responseEnd,v+=K*(j<E?1:(E-L)/(j-L)))}if(--l,s+=8*(m+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Xd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function Xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function $d(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jd=null;function oT(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(t){return Zy.resolve(null).then(t).catch(cT)}:Jy;function cT(t){setTimeout(function(){throw t})}function Hi(t){return t==="head"}function Wy(t,s){var a=s,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),to(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var m=a.firstChild;m;){var v=m.nextSibling,E=m.nodeName;m[ds]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);to(s)}function e_(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Zd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hT(t,s,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ds])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function fT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function t_(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Pn(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function dT(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var tm=null;function n_(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Pn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function s_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function i_(t,s,a){switch(s=Mc(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Al(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ya(t)}var Un=new Map,r_=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ai=$.d;$.d={f:mT,r:pT,D:gT,C:yT,L:_T,m:vT,X:xT,S:bT,M:ET};function mT(){var t=ai.f(),s=Nc();return t||s}function pT(t){var s=Nn(t);s!==null&&s.tag===5&&s.type==="form"?E0(s):ai.r(t)}var Za=typeof document>"u"?null:document;function a_(t,s,a){var l=Za;if(l&&typeof s=="string"&&s){var h=an(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),r_.has(h)||(r_.add(h),t={rel:t,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),Kt(s,"link",t),wt(s),l.head.appendChild(s)))}}function gT(t){ai.D(t),a_("dns-prefetch",t,null)}function yT(t,s){ai.C(t,s),a_("preconnect",t,s)}function _T(t,s,a){ai.L(t,s,a);var l=Za;if(l&&t&&s){var h='link[rel="preload"][as="'+an(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var m=h;switch(s){case"style":m=Wa(t);break;case"script":m=eo(t)}Un.has(m)||(t=w({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Un.set(m,t),l.querySelector(h)!==null||s==="style"&&l.querySelector(Sl(m))||s==="script"&&l.querySelector(Nl(m))||(s=l.createElement("link"),Kt(s,"link",t),wt(s),l.head.appendChild(s)))}}function vT(t,s){ai.m(t,s);var a=Za;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=eo(t)}if(!Un.has(m)&&(t=w({rel:"modulepreload",href:t},s),Un.set(m,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(m)))return}l=a.createElement("link"),Kt(l,"link",t),wt(l),a.head.appendChild(l)}}}function bT(t,s,a){ai.S(t,s,a);var l=Za;if(l&&t){var h=ps(l).hoistableStyles,m=Wa(t);s=s||"default";var v=h.get(m);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Sl(m)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Un.get(m))&&nm(t,a);var j=v=l.createElement("link");wt(j),Kt(j,"link",t),j._p=new Promise(function(L,K){j.onload=L,j.onerror=K}),j.addEventListener("load",function(){E.loading|=1}),j.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Pc(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(m,v)}}}function xT(t,s){ai.X(t,s);var a=Za;if(a&&t){var l=ps(a).hoistableScripts,h=eo(t),m=l.get(h);m||(m=a.querySelector(Nl(h)),m||(t=w({src:t,async:!0},s),(s=Un.get(h))&&sm(t,s),m=a.createElement("script"),wt(m),Kt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function ET(t,s){ai.M(t,s);var a=Za;if(a&&t){var l=ps(a).hoistableScripts,h=eo(t),m=l.get(h);m||(m=a.querySelector(Nl(h)),m||(t=w({src:t,async:!0,type:"module"},s),(s=Un.get(h))&&sm(t,s),m=a.createElement("script"),wt(m),Kt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function o_(t,s,a,l){var h=(h=_e.current)?Vc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Wa(a.href),a=ps(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var m=ps(h).hoistableStyles,v=m.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=h.querySelector(Sl(t)))&&!m._p&&(v.instance=m,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),m||TT(h,t,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=eo(a),a=ps(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Wa(t){return'href="'+an(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function l_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Kt(s,"link",a),wt(s),t.head.appendChild(s))}function eo(t){return'[src="'+an(t)+'"]'}function Nl(t){return"script[async]"+t}function u_(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return s.instance=l,wt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Kt(l,"style",h),Pc(l,a.precedence,t),s.instance=l;case"stylesheet":h=Wa(a.href);var m=t.querySelector(Sl(h));if(m)return s.state.loading|=4,s.instance=m,wt(m),m;l=l_(a),(h=Un.get(h))&&nm(l,h),m=(t.ownerDocument||t).createElement("link"),wt(m);var v=m;return v._p=new Promise(function(E,j){v.onload=E,v.onerror=j}),Kt(m,"link",l),s.state.loading|=4,Pc(m,a.precedence,t),s.instance=m;case"script":return m=eo(a.src),(h=t.querySelector(Nl(m)))?(s.instance=h,wt(h),h):(l=a,(h=Un.get(m))&&(l=w({},a),sm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Kt(h,"link",l),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Pc(l,a.precedence,t));return s.instance}function Pc(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===s)m=E;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function nm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function sm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Uc=null;function c_(t,s,a){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(a,l)}else h=Uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[ds]||m[Tt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=t+v;var E=l.get(v);E?E.push(m):l.set(v,[m])}}return l}function h_(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function wT(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function f_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function AT(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),m=s.querySelector(Sl(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Lc.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,wt(m);return}m=s.ownerDocument||s,l=l_(l),(h=Un.get(h))&&nm(l,h),m=m.createElement("link"),wt(m);var v=m;v._p=new Promise(function(E,j){v.onload=E,v.onerror=j}),Kt(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lc.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var im=0;function ST(t,s){return t.stylesheets&&t.count===0&&Bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&im===0&&(im=62500*aT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>im?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Bc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,s.forEach(NT,t),zc=null,Lc.call(t))}function NT(t,s){if(!(s.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var v=h[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=s.instance,v=h.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,h),a.set(v,h),this.count++,l=Lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Rl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function RT(t,s,a,l,h,m,v,E,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function d_(t,s,a,l,h,m,v,E,j,L,K,ee){return t=new RT(t,s,a,v,j,L,K,ee,E),s=1,m===!0&&(s|=24),m=vn(3,null,null,s),t.current=m,m.stateNode=t,s=Pf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Bf(m),t}function m_(t){return t?(t=ja,t):ja}function p_(t,s,a,l,h,m){h=m_(h),l.context===null?l.context=h:l.pendingContext=h,l=Di(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ki(t,l,s),a!==null&&(fn(a,t,s),al(a,t,s))}function g_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function rm(t,s){g_(t,s),(t=t.alternate)&&g_(t,s)}function y_(t){if(t.tag===13||t.tag===31){var s=Mr(t,67108864);s!==null&&fn(s,t,67108864),rm(t,67108864)}}function __(t){if(t.tag===13||t.tag===31){var s=wn();s=Tr(s);var a=Mr(t,s);a!==null&&fn(a,t,s),rm(t,s)}}var qc=!0;function CT(t,s,a,l){var h=F.T;F.T=null;var m=$.p;try{$.p=2,am(t,s,a,l)}finally{$.p=m,F.T=h}}function IT(t,s,a,l){var h=F.T;F.T=null;var m=$.p;try{$.p=8,am(t,s,a,l)}finally{$.p=m,F.T=h}}function am(t,s,a,l){if(qc){var h=om(l);if(h===null)Kd(t,s,l,Hc,a),b_(t,l);else if(DT(h,t,s,a,l))l.stopPropagation();else if(b_(t,l),s&4&&-1<jT.indexOf(t)){for(;h!==null;){var m=Nn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=us(m.pendingLanes);if(v!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var j=1<<31-gt(v);E.entanglements[1]|=j,v&=~j}Rs(m),(Ye&6)===0&&(Ac=nn()+500,El(0))}}break;case 31:case 13:E=Mr(m,2),E!==null&&fn(E,m,2),Nc(),rm(m,2)}if(m=om(l),m===null&&Kd(t,s,l,Hc,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Kd(t,s,l,null,a)}}function om(t){return t=Rn(t),lm(t)}var Hc=null;function lm(t){if(Hc=null,t=ms(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Hc=t,null}function v_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case jo:return 2;case Do:return 8;case yi:case mf:return 32;case xu:return 268435456;default:return 32}default:return 32}}var um=!1,Fi=null,Gi=null,Ki=null,Cl=new Map,Il=new Map,Yi=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,s){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Cl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(s.pointerId)}}function jl(t,s,a,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Nn(s),s!==null&&y_(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function DT(t,s,a,l,h){switch(s){case"focusin":return Fi=jl(Fi,t,s,a,l,h),!0;case"dragenter":return Gi=jl(Gi,t,s,a,l,h),!0;case"mouseover":return Ki=jl(Ki,t,s,a,l,h),!0;case"pointerover":var m=h.pointerId;return Cl.set(m,jl(Cl.get(m)||null,t,s,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Il.set(m,jl(Il.get(m)||null,t,s,a,l,h)),!0}return!1}function x_(t){var s=ms(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,Gn(t.priority,function(){__(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Gn(t.priority,function(){__(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return s=Nn(a),s!==null&&y_(s),t.blockedOn=a,!1;s.shift()}return!0}function E_(t,s,a){Fc(t)&&a.delete(s)}function kT(){um=!1,Fi!==null&&Fc(Fi)&&(Fi=null),Gi!==null&&Fc(Gi)&&(Gi=null),Ki!==null&&Fc(Ki)&&(Ki=null),Cl.forEach(E_),Il.forEach(E_)}function Gc(t,s){t.blockedOn===s&&(t.blockedOn=null,um||(um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kT)))}var Kc=null;function T_(t){Kc!==t&&(Kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],h=t[s+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var m=Nn(a);m!==null&&(t.splice(s,3),s-=3,od(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(t){function s(j){return Gc(j,t)}Fi!==null&&Gc(Fi,t),Gi!==null&&Gc(Gi,t),Ki!==null&&Gc(Ki,t),Cl.forEach(s),Il.forEach(s);for(var a=0;a<Yi.length;a++){var l=Yi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yi.length&&(a=Yi[0],a.blockedOn===null);)x_(a),a.blockedOn===null&&Yi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],v=h[Pt]||null;if(typeof m=="function")v||T_(a);else if(v){var E=null;if(m&&m.hasAttribute("formAction")){if(h=m,v=m[Pt]||null)E=v.formAction;else if(lm(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),T_(a)}}}function w_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}Yc.prototype.render=cm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=wn();p_(a,l,t,s,null,null)},Yc.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;p_(t.current,2,null,t,null,null),Nc(),s[fs]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Nu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Yi.length&&s!==0&&s<Yi[a].priority;a++);Yi.splice(a,0,t),a===0&&x_(t)}};var A_=e.version;if(A_!=="19.2.3")throw Error(r(527,A_,"19.2.3"));$.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(s),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var OT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Hn=Qc.inject(OT),Bt=Qc}catch{}}return kl.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",h=D0,m=k0,v=O0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=d_(t,1,!1,null,null,a,l,null,h,m,v,w_),t[fs]=s.current,Gd(t),new cm(s)},kl.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,h="",m=D0,v=k0,E=O0,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),s=d_(t,1,!0,s,a??null,l,h,j,m,v,E,w_),s.context=m_(null),a=s.current,l=wn(),l=Tr(l),h=Di(l),h.callback=null,ki(a,h,l),a=l,s.current.lanes=a,xr(s,a),Rs(s),t[fs]=s.current,Gd(t),new Yc(s)},kl.version="19.2.3",kl}var M_;function GT(){if(M_)return dm.exports;M_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dm.exports=FT(),dm.exports}var KT=GT();const YT=()=>{};var V_={};const Cb=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},QT=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],p=i[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=i[n++],f=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,p=f?i[o+1]:0,y=o+2<i.length,_=y?i[o+2]:0,x=u>>2,w=(u&3)<<4|p>>4;let R=(p&15)<<2|_>>6,z=_&63;y||(z=64,f||(R=64)),r.push(n[x],n[w],n[R],n[z])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Cb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):QT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const _=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||p==null||_==null||w==null)throw new XT;const R=u<<2|p>>4;if(r.push(R),_!==64){const z=p<<4&240|_>>2;if(r.push(z),w!==64){const ne=_<<6&192|w;r.push(ne)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class XT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $T=function(i){const e=Cb(i);return Ib.encodeByteArray(e,!0)},mh=function(i){return $T(i).replace(/\./g,"")},jb=function(i){try{return Ib.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ZT=()=>JT().__FIREBASE_DEFAULTS__,WT=()=>{if(typeof process>"u"||typeof V_>"u")return;const i=V_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ew=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&jb(i[1]);return e&&JSON.parse(e)},Ph=()=>{try{return YT()||ZT()||WT()||ew()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Db=i=>Ph()?.emulatorHosts?.[i],kb=i=>{const e=Db(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ob=()=>Ph()?.config,Mb=i=>Ph()?.[`_${i}`];class tw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function oa(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ap(i){return(await fetch(i,{credentials:"include"})).ok}function Vb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[mh(JSON.stringify(n)),mh(JSON.stringify(f)),""].join(".")}const zl={};function nw(){const i={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?i.emulator.push(e):i.prod.push(e);return i}function sw(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let P_=!1;function op(i,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||zl[i]===e||zl[i]||P_)return;zl[i]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=nw().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,z){R.setAttribute("width","24"),R.setAttribute("id",z),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function _(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{P_=!0,f()},R}function x(R,z){R.setAttribute("id",z),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function w(){const R=sw(r),z=n("text"),ne=document.getElementById(z)||document.createElement("span"),X=n("learnmore"),Y=document.getElementById(X)||document.createElement("a"),se=n("preprendIcon"),re=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const oe=R.element;p(oe),x(Y,X);const me=_();y(re,se),oe.append(re,ne,Y,me),document.body.appendChild(oe)}u?(ne.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ne.innerText="Preview backend running in this workspace."),ne.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function rw(){const i=Ph()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ow(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function lw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uw(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cw(){return!rw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hw(){try{return typeof indexedDB=="object"}catch{return!1}}function fw(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const dw="FirebaseError";class zs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dw,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?mw(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new zs(o,p,r)}}function mw(i,e){return i.replace(pw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const pw=/\{\$([^}]+)}/g;function gw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ea(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=i[o],f=e[o];if(U_(u)&&U_(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function U_(i){return i!==null&&typeof i=="object"}function uu(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ol(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ml(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function yw(i,e){const n=new _w(i,e);return n.subscribe.bind(n)}class _w{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function ym(){}function kt(i){return i&&i._delegate?i._delegate:i}class ar{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qr="[DEFAULT]";class bw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ew(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xw(i){return i===Qr?void 0:i}function Ew(i){return i.instantiationMode==="EAGER"}class Tw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const ww={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Aw=Pe.INFO,Sw={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Nw=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=Sw[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=Aw,this._logHandler=Nw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ww[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Rw=(i,e)=>e.some(n=>i instanceof n);let L_,z_;function Cw(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Iw(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,jm=new WeakMap,Ub=new WeakMap,_m=new WeakMap,up=new WeakMap;function jw(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(tr(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Pb.set(n,i)}).catch(()=>{}),up.set(e,i),e}function Dw(i){if(jm.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});jm.set(i,e)}let Dm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Ub.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function kw(i){Dm=i(Dm)}function Ow(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(vm(this),e,...n);return Ub.set(r,e.sort?e.sort():[e]),tr(r)}:Iw().includes(i)?function(...e){return i.apply(vm(this),e),tr(Pb.get(this))}:function(...e){return tr(i.apply(vm(this),e))}}function Mw(i){return typeof i=="function"?Ow(i):(i instanceof IDBTransaction&&Dw(i),Rw(i,Cw())?new Proxy(i,Dm):i)}function tr(i){if(i instanceof IDBRequest)return jw(i);if(_m.has(i))return _m.get(i);const e=Mw(i);return e!==i&&(_m.set(i,e),up.set(e,i)),e}const vm=i=>up.get(i);function Vw(i,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),p=tr(f);return r&&f.addEventListener("upgradeneeded",y=>{r(tr(f.result),y.oldVersion,y.newVersion,tr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Pw=["get","getKey","getAll","getAllKeys","count"],Uw=["put","add","delete","clear"],bm=new Map;function B_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Uw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Pw.includes(n)))return;const u=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&y.done]))[0]};return bm.set(e,u),u}kw(i=>({...i,get:(e,n,r)=>B_(e,n)||i.get(e,n,r),has:(e,n)=>!!B_(e,n)||i.has(e,n)}));class Lw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zw(i){return i.getComponent()?.type==="VERSION"}const km="@firebase/app",q_="0.14.6";const hi=new lp("@firebase/app"),Bw="@firebase/app-compat",qw="@firebase/analytics-compat",Hw="@firebase/analytics",Fw="@firebase/app-check-compat",Gw="@firebase/app-check",Kw="@firebase/auth",Yw="@firebase/auth-compat",Qw="@firebase/database",Xw="@firebase/data-connect",$w="@firebase/database-compat",Jw="@firebase/functions",Zw="@firebase/functions-compat",Ww="@firebase/installations",e2="@firebase/installations-compat",t2="@firebase/messaging",n2="@firebase/messaging-compat",s2="@firebase/performance",i2="@firebase/performance-compat",r2="@firebase/remote-config",a2="@firebase/remote-config-compat",o2="@firebase/storage",l2="@firebase/storage-compat",u2="@firebase/firestore",c2="@firebase/ai",h2="@firebase/firestore-compat",f2="firebase",d2="12.6.0";const Om="[DEFAULT]",m2={[km]:"fire-core",[Bw]:"fire-core-compat",[Hw]:"fire-analytics",[qw]:"fire-analytics-compat",[Gw]:"fire-app-check",[Fw]:"fire-app-check-compat",[Kw]:"fire-auth",[Yw]:"fire-auth-compat",[Qw]:"fire-rtdb",[Xw]:"fire-data-connect",[$w]:"fire-rtdb-compat",[Jw]:"fire-fn",[Zw]:"fire-fn-compat",[Ww]:"fire-iid",[e2]:"fire-iid-compat",[t2]:"fire-fcm",[n2]:"fire-fcm-compat",[s2]:"fire-perf",[i2]:"fire-perf-compat",[r2]:"fire-rc",[a2]:"fire-rc-compat",[o2]:"fire-gcs",[l2]:"fire-gcs-compat",[u2]:"fire-fst",[h2]:"fire-fst-compat",[c2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};const ph=new Map,p2=new Map,Mm=new Map;function H_(i,e){try{i.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ta(i){const e=i.name;if(Mm.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,i);for(const n of ph.values())H_(n,i);for(const n of p2.values())H_(n,i);return!0}function Uh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ln(i){return i==null?!1:i.settings!==void 0}const g2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new lu("app","Firebase",g2);class y2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const la=d2;function Lb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Om,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw nr.create("bad-app-name",{appName:String(o)});if(n||(n=Ob()),!n)throw nr.create("no-options");const u=ph.get(o);if(u){if(ea(n,u.options)&&ea(r,u.config))return u;throw nr.create("duplicate-app",{appName:o})}const f=new Tw(o);for(const y of Mm.values())f.addComponent(y);const p=new y2(n,r,f);return ph.set(o,p),p}function cp(i=Om){const e=ph.get(i);if(!e&&i===Om&&Ob())return Lb();if(!e)throw nr.create("no-app",{appName:i});return e}function js(i,e,n){let r=m2[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(f.join(" "));return}ta(new ar(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const _2="firebase-heartbeat-database",v2=1,Yl="firebase-heartbeat-store";let xm=null;function zb(){return xm||(xm=Vw(_2,v2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(i=>{throw nr.create("idb-open",{originalErrorMessage:i.message})})),xm}async function b2(i){try{const n=(await zb()).transaction(Yl),r=await n.objectStore(Yl).get(Bb(i));return await n.done,r}catch(e){if(e instanceof zs)hi.warn(e.message);else{const n=nr.create("idb-get",{originalErrorMessage:e?.message});hi.warn(n.message)}}}async function F_(i,e){try{const r=(await zb()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(e,Bb(i)),await r.done}catch(n){if(n instanceof zs)hi.warn(n.message);else{const r=nr.create("idb-set",{originalErrorMessage:n?.message});hi.warn(r.message)}}}function Bb(i){return`${i.name}!${i.options.appId}`}const x2=1024,E2=30;class T2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>E2){const o=S2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G_(),{heartbeatsToSend:n,unsentEntries:r}=w2(this._heartbeatsCache.heartbeats),o=mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hi.warn(e),""}}}function G_(){return new Date().toISOString().substring(0,10)}function w2(i,e=x2){const n=[];let r=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),K_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),K_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class A2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hw()?fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function K_(i){return mh(JSON.stringify({version:2,heartbeats:i})).length}function S2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function N2(i){ta(new ar("platform-logger",e=>new Lw(e),"PRIVATE")),ta(new ar("heartbeat",e=>new T2(e),"PRIVATE")),js(km,q_,i),js(km,q_,"esm2020"),js("fire-js","")}N2("");function qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R2=qb,Hb=new lu("auth","Firebase",qb());const gh=new lp("@firebase/auth");function C2(i,...e){gh.logLevel<=Pe.WARN&&gh.warn(`Auth (${la}): ${i}`,...e)}function sh(i,...e){gh.logLevel<=Pe.ERROR&&gh.error(`Auth (${la}): ${i}`,...e)}function is(i,...e){throw hp(i,...e)}function Ds(i,...e){return hp(i,...e)}function Fb(i,e,n){const r={...R2(),[e]:n};return new lu("auth","Firebase",r).create(e,{appName:i.name})}function sr(i){return Fb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return Hb.create(i,...e)}function be(i,e,...n){if(!i)throw hp(e,...n)}function li(i){const e="INTERNAL ASSERTION FAILED: "+i;throw sh(e),new Error(e)}function fi(i,e){i||li(e)}function Vm(){return typeof self<"u"&&self.location?.href||""}function I2(){return Y_()==="http:"||Y_()==="https:"}function Y_(){return typeof self<"u"&&self.location?.protocol||null}function j2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I2()||ow()||"connection"in navigator)?navigator.onLine:!0}function D2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=iw()||lw()}get(){return j2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fp(i,e){fi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Gb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const O2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M2=new cu(3e4,6e4);function ua(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function dr(i,e,n,r,o={}){return Kb(i,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=uu({key:i.config.apiKey,...f}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const _={method:e,headers:y,...u};return aw()||(_.referrerPolicy="no-referrer"),i.emulatorConfig&&oa(i.emulatorConfig.host)&&(_.credentials="include"),Gb.fetch()(await Yb(i,i.config.apiHost,n,p),_)})}async function Kb(i,e,n){i._canInitEmulator=!1;const r={...k2,...e};try{const o=new P2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",f);if(y==="USER_DISABLED")throw Xc(i,"user-disabled",f);const x=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fb(i,x,_);is(i,x)}}catch(o){if(o instanceof zs)throw o;is(i,"network-request-failed",{message:String(o)})}}async function Lh(i,e,n,r,o={}){const u=await dr(i,e,n,r,o);return"mfaPendingCredential"in u&&is(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Yb(i,e,n,r){const o=`${e}${n}?${r}`,u=i,f=u.config.emulator?fp(i.config,o):`${i.config.apiScheme}://${o}`;return O2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function V2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ds(this.auth,"network-request-failed")),M2.get())})}}function Xc(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ds(i,e,r);return o.customData._tokenResponse=n,o}function Q_(i){return i!==void 0&&i.enterprise!==void 0}class U2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return V2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function L2(i,e){return dr(i,"GET","/v2/recaptchaConfig",ua(i,e))}async function z2(i,e){return dr(i,"POST","/v1/accounts:delete",e)}async function yh(i,e){return dr(i,"POST","/v1/accounts:lookup",e)}function Bl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B2(i,e=!1){const n=kt(i),r=await n.getIdToken(e),o=dp(r);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Bl(Em(o.auth_time)),issuedAtTime:Bl(Em(o.iat)),expirationTime:Bl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Em(i){return Number(i)*1e3}function dp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=jb(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function X_(i){const e=dp(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zs&&q2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function q2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class H2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(i){const e=i.auth,n=await i.getIdToken(),r=await Ql(i,yh(e,{idToken:n}));be(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Qb(o.providerUserInfo):[],f=G2(i.providerData,u),p=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!f?.length,_=p?y:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(i,x)}async function F2(i){const e=kt(i);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G2(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Qb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function K2(i,e){const n=await Kb(i,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Yb(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return i.emulatorConfig&&oa(i.emulatorConfig.host)&&(y.credentials="include"),Gb.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y2(i,e){return dr(i,"POST","/v2/accounts:revokeToken",ua(i,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=X_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await K2(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new oo;return r&&(be(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return li("not implemented")}}function Xi(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new H2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B2(this,e)}reload(){return F2(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await Ql(this,z2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:w,emailVerified:R,isAnonymous:z,providerData:ne,stsTokenManager:X}=n;be(w&&X,e,"internal-error");const Y=oo.fromJSON(this.name,X);be(typeof w=="string",e,"internal-error"),Xi(r,e.name),Xi(o,e.name),be(typeof R=="boolean",e,"internal-error"),be(typeof z=="boolean",e,"internal-error"),Xi(u,e.name),Xi(f,e.name),Xi(p,e.name),Xi(y,e.name),Xi(_,e.name),Xi(x,e.name);const se=new ts({uid:w,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:Y,createdAt:_,lastLoginAt:x});return ne&&Array.isArray(ne)&&(se.providerData=ne.map(re=>({...re}))),y&&(se._redirectEventId=y),se}static async _fromIdTokenResponse(e,n,r=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ts({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await _h(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Qb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new oo;p.updateFromIdToken(r);const y=new ts({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const $_=new Map;function ui(i){fi(i instanceof Function,"Expected a class definition");let e=$_.get(i);return e?(fi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,$_.set(i,e),e)}class Xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xb.type="NONE";const J_=Xb;function ih(i,e,n){return`firebase:${i}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo(ui(J_),e,r);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ui(J_);const f=ih(r,e.config.apiKey,e.name);let p=null;for(const _ of n)try{const x=await _._get(f);if(x){let w;if(typeof x=="string"){const R=await yh(e,{idToken:x}).catch(()=>{});if(!R)break;w=await ts._fromGetAccountInfoResponse(e,R,x)}else w=ts._fromJSON(e,x);_!==u&&(p=w),u=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new lo(u,e,r):(u=y[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new lo(u,e,r))}}function Z_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t1(e))return"Blackberry";if(n1(e))return"Webos";if(Jb(e))return"Safari";if((e.includes("chrome/")||Zb(e))&&!e.includes("edge/"))return"Chrome";if(e1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function $b(i=tn()){return/firefox\//i.test(i)}function Jb(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zb(i=tn()){return/crios\//i.test(i)}function Wb(i=tn()){return/iemobile/i.test(i)}function e1(i=tn()){return/android/i.test(i)}function t1(i=tn()){return/blackberry/i.test(i)}function n1(i=tn()){return/webos/i.test(i)}function mp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Q2(i=tn()){return mp(i)&&!!window.navigator?.standalone}function X2(){return uw()&&document.documentMode===10}function s1(i=tn()){return mp(i)||e1(i)||n1(i)||t1(i)||/windows phone/i.test(i)||Wb(i)}function i1(i,e=[]){let n;switch(i){case"Browser":n=Z_(tn());break;case"Worker":n=`${Z_(tn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}class $2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,p)=>{try{const y=e(u);f(y)}catch(y){p(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function J2(i,e={}){return dr(i,"GET","/v2/passwordPolicy",ua(i,e))}const Z2=6;class W2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Z2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class eA{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new $2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(sr(this));const n=e?kt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J2(this),n=new W2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Y2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&C2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xo(i){return kt(i)}class W_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yw(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tA(i){zh=i}function r1(i){return zh.loadJS(i)}function nA(){return zh.recaptchaEnterpriseScript}function sA(){return zh.gapiScript}function iA(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class rA{constructor(){this.enterprise=new aA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const oA="recaptcha-enterprise",a1="NO_RECAPTCHA";class lA{constructor(e){this.type=oA,this.auth=xo(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{L2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new U2(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(y=>{p(y)})})}function o(u,f,p){const y=window.grecaptcha;Q_(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(a1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rA().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(p=>{if(!n&&Q_(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=nA();y.length!==0&&(y+=p),r1(y).then(()=>{o(p,u,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function ev(i,e,n,r=!1,o=!1){const u=new lA(i);let f;if(o)f=a1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function tv(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ev(i,e,n,n==="getOobCode");return r(i,u)}else return r(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ev(i,e,n,n==="getOobCode");return r(i,f)}else return Promise.reject(u)})}function uA(i,e){const n=Uh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;is(o,"already-initialized")}return n.initialize({options:e})}function cA(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ui);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function hA(i,e,n){const r=xo(i);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=o1(e),{host:f,port:p}=fA(e),y=p===null?"":`:${p}`,_={url:`${u}//${f}${y}/`},x=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(ea(_,r.config.emulator)&&ea(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,oa(f)?(ap(`${u}//${f}${y}`),op("Auth",!0)):dA()}function o1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function fA(i){const e=o1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:nv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:nv(f)}}}function nv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function dA(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function mA(i,e){return dr(i,"POST","/v1/accounts:signUp",e)}async function pA(i,e){return Lh(i,"POST","/v1/accounts:signInWithPassword",ua(i,e))}async function gA(i,e){return Lh(i,"POST","/v1/accounts:signInWithEmailLink",ua(i,e))}async function yA(i,e){return Lh(i,"POST","/v1/accounts:signInWithEmailLink",ua(i,e))}class Xl extends pp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Xl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,n,"signInWithPassword",pA);case"emailLink":return gA(e,{email:this._email,oobCode:this._password});default:is(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,r,"signUpPassword",mA);case"emailLink":return yA(e,{idToken:n,email:this._email,oobCode:this._password});default:is(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uo(i,e){return Lh(i,"POST","/v1/accounts:signInWithIdp",ua(i,e))}const _A="http://localhost";class na extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new na(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:_A,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}function vA(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bA(i){const e=Ol(Ml(i)).link,n=e?Ol(Ml(e)).deep_link_id:null,r=Ol(Ml(i)).deep_link_id;return(r?Ol(Ml(r)).link:null)||r||n||e||i}class gp{constructor(e){const n=Ol(Ml(e)),r=n.apiKey??null,o=n.oobCode??null,u=vA(n.mode??null);be(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=bA(e);try{return new gp(n)}catch{return null}}}class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return Xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gp.parseLink(n);return be(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class l1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hu extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $i extends hu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";class Ji extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class Zi extends hu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";class Wi extends hu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ts._fromIdTokenResponse(e,r,o),f=sv(r);return new ho({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=sv(r);return new ho({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function sv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class vh extends zs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new vh(e,n,r,o)}}function u1(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(i,u,e,r):u})}async function xA(i,e,n=!1){const r=await Ql(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ho._forOperation(i,"link",r)}async function EA(i,e,n=!1){const{auth:r}=i;if(Ln(r.app))return Promise.reject(sr(r));const o="reauthenticate";try{const u=await Ql(i,u1(r,o,e,i),n);be(u.idToken,r,"internal-error");const f=dp(u.idToken);be(f,r,"internal-error");const{sub:p}=f;return be(i.uid===p,r,"user-mismatch"),ho._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&is(r,"user-mismatch"),u}}async function c1(i,e,n=!1){if(Ln(i.app))return Promise.reject(sr(i));const r="signIn",o=await u1(i,r,e),u=await ho._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(u.user),u}async function TA(i,e){return c1(xo(i),e)}async function wA(i){const e=xo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function AA(i,e,n){return Ln(i.app)?Promise.reject(sr(i)):TA(kt(i),Eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wA(i),r})}function SA(i,e,n,r){return kt(i).onIdTokenChanged(e,n,r)}function NA(i,e,n){return kt(i).beforeAuthStateChanged(e,n)}function RA(i,e,n,r){return kt(i).onAuthStateChanged(e,n,r)}function CA(i){return kt(i).signOut()}const bh="__sak";class h1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const IA=1e3,jA=10;class f1 extends h1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,y)=>{this.notifyListeners(f,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);X2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jA):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}f1.type="LOCAL";const DA=f1;class d1 extends h1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d1.type="SESSION";const m1=d1;function kA(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async _=>_(n.origin,u)),y=await kA(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];function yp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class OA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,y)=>{const _=yp("",20);o.port1.start();const x=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(x),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function ks(){return window}function MA(i){ks().location.href=i}function p1(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function VA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PA(){return navigator?.serviceWorker?.controller||null}function UA(){return p1()?self:null}const g1="firebaseLocalStorageDb",LA=1,xh="firebaseLocalStorage",y1="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(i,e){return i.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function zA(){const i=indexedDB.deleteDatabase(g1);return new fu(i).toPromise()}function Um(){const i=indexedDB.open(g1,LA);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(xh,{keyPath:y1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),await zA(),e(await Um()))})})}async function iv(i,e,n){const r=qh(i,!0).put({[y1]:e,value:n});return new fu(r).toPromise()}async function BA(i,e){const n=qh(i,!1).get(e),r=await new fu(n).toPromise();return r===void 0?null:r.value}function rv(i,e){const n=qh(i,!0).delete(e);return new fu(n).toPromise()}const qA=800,HA=3;class _1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(UA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VA(),!this.activeServiceWorker)return;this.sender=new OA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await iv(e,bh,"1"),await rv(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_1.type="LOCAL";const FA=_1;new cu(3e4,6e4);function GA(i,e){return e?ui(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class _p extends pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KA(i){return c1(i.auth,new _p(i),i.bypassAuthState)}function YA(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),EA(n,new _p(i),i.bypassAuthState)}async function QA(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),xA(n,new _p(i),i.bypassAuthState)}class v1{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KA;case"linkViaPopup":case"linkViaRedirect":return QA;case"reauthViaPopup":case"reauthViaRedirect":return YA;default:is(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XA=new cu(2e3,1e4);class ao extends v1{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XA.get())};e()}}ao.currentPopupAction=null;const $A="pendingRedirect",rh=new Map;class JA extends v1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const r=await ZA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZA(i,e){const n=tS(e),r=eS(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function WA(i,e){rh.set(i._key(),e)}function eS(i){return ui(i._redirectPersistence)}function tS(i){return ih($A,i.config.apiKey,i.name)}async function nS(i,e,n=!1){if(Ln(i.app))return Promise.reject(sr(i));const r=xo(i),o=GA(r,e),f=await new JA(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const sS=600*1e3;class iS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rS(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!b1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ds(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sS&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(e))}saveEventToCache(e){this.cachedEventUids.add(av(e)),this.lastProcessedEventTime=Date.now()}}function av(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function b1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function rS(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(i);default:return!1}}async function aS(i,e={}){return dr(i,"GET","/v1/projects",e)}const oS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lS=/^https?/;async function uS(i){if(i.config.emulator)return;const{authorizedDomains:e}=await aS(i);for(const n of e)try{if(cS(n))return}catch{}is(i,"unauthorized-domain")}function cS(i){const e=Vm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!lS.test(n))return!1;if(oS.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const hS=new cu(3e4,6e4);function ov(){const i=ks().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function fS(i){return new Promise((e,n)=>{function r(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),n(Ds(i,"network-request-failed"))},timeout:hS.get()})}if(ks().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ks().gapi?.load)r();else{const o=iA("iframefcb");return ks()[o]=()=>{gapi.load?r():n(Ds(i,"network-request-failed"))},r1(`${sA()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function dS(i){return ah=ah||fS(i),ah}const mS=new cu(5e3,15e3),pS="__/auth/iframe",gS="emulator/auth/iframe",yS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_S=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vS(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?fp(e,gS):`https://${i.config.authDomain}/${pS}`,r={apiKey:e.apiKey,appName:i.name,v:la},o=_S.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${uu(r).slice(1)}`}async function bS(i){const e=await dS(i),n=ks().gapi;return be(n,i,"internal-error"),e.open({where:document.body,url:vS(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yS,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Ds(i,"network-request-failed"),p=ks().setTimeout(()=>{u(f)},mS.get());function y(){ks().clearTimeout(p),o(r)}r.ping(y).then(y,()=>{u(f)})}))}const xS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ES=500,TS=600,wS="_blank",AS="http://localhost";class lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SS(i,e,n,r=ES,o=TS){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...xS,width:r.toString(),height:o.toString(),top:u,left:f},_=tn().toLowerCase();n&&(p=Zb(_)?wS:n),$b(_)&&(e=e||AS,y.scrollbars="yes");const x=Object.entries(y).reduce((R,[z,ne])=>`${R}${z}=${ne},`,"");if(Q2(_)&&p!=="_self")return NS(e||"",p),new lv(null);const w=window.open(e||"",p,x);be(w,i,"popup-blocked");try{w.focus()}catch{}return new lv(w)}function NS(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const RS="__/auth/handler",CS="emulator/auth/handler",IS=encodeURIComponent("fac");async function uv(i,e,n,r,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:la,eventId:o};if(e instanceof l1){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",gw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))f[x]=w}if(e instanceof hu){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(f.scopes=x.join(","))}i.tenantId&&(f.tid=i.tenantId);const p=f;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const y=await i._getAppCheckToken(),_=y?`#${IS}=${encodeURIComponent(y)}`:"";return`${jS(i)}?${uu(p).slice(1)}${_}`}function jS({config:i}){return i.emulator?fp(i,CS):`https://${i.authDomain}/${RS}`}const Tm="webStorageSupport";class DS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m1,this._completeRedirectFn=nS,this._overrideRedirectResult=WA}async _openPopup(e,n,r,o){fi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await uv(e,n,r,Vm(),o);return SS(e,u,yp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await uv(e,n,r,Vm(),o);return MA(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bS(e),r=new iS(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uS(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return s1()||Jb()||mp()}}const kS=DS;var cv="@firebase/auth",hv="1.11.1";class OS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MS(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VS(i){ta(new ar("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i1(i)},_=new eA(r,o,u,y);return cA(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ta(new ar("auth-internal",e=>{const n=xo(e.getProvider("auth").getImmediate());return(r=>new OS(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(cv,hv,MS(i)),js(cv,hv,"esm2020")}const PS=300,US=Mb("authIdTokenMaxAge")||PS;let fv=null;const LS=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>US)return;const o=n?.token;fv!==o&&(fv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zS(i=cp()){const e=Uh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=uA(i,{popupRedirectResolver:kS,persistence:[FA,DA,m1]}),r=Mb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=LS(u.toString());NA(n,f,()=>f(n.currentUser)),SA(n,p=>f(p))}}const o=Db("auth");return o&&hA(n,`http://${o}`),n}function BS(){return document.getElementsByTagName("head")?.[0]??document}tA({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=Ds("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",BS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VS("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,x1;(function(){var i;function e(C,A){function N(){}N.prototype=A.prototype,C.F=A.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(I,D,M){for(var S=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)S[Ne-2]=arguments[Ne];return A.prototype[D].apply(I,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,N){N||(N=0);const I=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)I[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;D<16;++D)I[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=C.g[0],N=C.g[1],D=C.g[2];let M=C.g[3],S;S=A+(M^N&(D^M))+I[0]+3614090360&4294967295,A=N+(S<<7&4294967295|S>>>25),S=M+(D^A&(N^D))+I[1]+3905402710&4294967295,M=A+(S<<12&4294967295|S>>>20),S=D+(N^M&(A^N))+I[2]+606105819&4294967295,D=M+(S<<17&4294967295|S>>>15),S=N+(A^D&(M^A))+I[3]+3250441966&4294967295,N=D+(S<<22&4294967295|S>>>10),S=A+(M^N&(D^M))+I[4]+4118548399&4294967295,A=N+(S<<7&4294967295|S>>>25),S=M+(D^A&(N^D))+I[5]+1200080426&4294967295,M=A+(S<<12&4294967295|S>>>20),S=D+(N^M&(A^N))+I[6]+2821735955&4294967295,D=M+(S<<17&4294967295|S>>>15),S=N+(A^D&(M^A))+I[7]+4249261313&4294967295,N=D+(S<<22&4294967295|S>>>10),S=A+(M^N&(D^M))+I[8]+1770035416&4294967295,A=N+(S<<7&4294967295|S>>>25),S=M+(D^A&(N^D))+I[9]+2336552879&4294967295,M=A+(S<<12&4294967295|S>>>20),S=D+(N^M&(A^N))+I[10]+4294925233&4294967295,D=M+(S<<17&4294967295|S>>>15),S=N+(A^D&(M^A))+I[11]+2304563134&4294967295,N=D+(S<<22&4294967295|S>>>10),S=A+(M^N&(D^M))+I[12]+1804603682&4294967295,A=N+(S<<7&4294967295|S>>>25),S=M+(D^A&(N^D))+I[13]+4254626195&4294967295,M=A+(S<<12&4294967295|S>>>20),S=D+(N^M&(A^N))+I[14]+2792965006&4294967295,D=M+(S<<17&4294967295|S>>>15),S=N+(A^D&(M^A))+I[15]+1236535329&4294967295,N=D+(S<<22&4294967295|S>>>10),S=A+(D^M&(N^D))+I[1]+4129170786&4294967295,A=N+(S<<5&4294967295|S>>>27),S=M+(N^D&(A^N))+I[6]+3225465664&4294967295,M=A+(S<<9&4294967295|S>>>23),S=D+(A^N&(M^A))+I[11]+643717713&4294967295,D=M+(S<<14&4294967295|S>>>18),S=N+(M^A&(D^M))+I[0]+3921069994&4294967295,N=D+(S<<20&4294967295|S>>>12),S=A+(D^M&(N^D))+I[5]+3593408605&4294967295,A=N+(S<<5&4294967295|S>>>27),S=M+(N^D&(A^N))+I[10]+38016083&4294967295,M=A+(S<<9&4294967295|S>>>23),S=D+(A^N&(M^A))+I[15]+3634488961&4294967295,D=M+(S<<14&4294967295|S>>>18),S=N+(M^A&(D^M))+I[4]+3889429448&4294967295,N=D+(S<<20&4294967295|S>>>12),S=A+(D^M&(N^D))+I[9]+568446438&4294967295,A=N+(S<<5&4294967295|S>>>27),S=M+(N^D&(A^N))+I[14]+3275163606&4294967295,M=A+(S<<9&4294967295|S>>>23),S=D+(A^N&(M^A))+I[3]+4107603335&4294967295,D=M+(S<<14&4294967295|S>>>18),S=N+(M^A&(D^M))+I[8]+1163531501&4294967295,N=D+(S<<20&4294967295|S>>>12),S=A+(D^M&(N^D))+I[13]+2850285829&4294967295,A=N+(S<<5&4294967295|S>>>27),S=M+(N^D&(A^N))+I[2]+4243563512&4294967295,M=A+(S<<9&4294967295|S>>>23),S=D+(A^N&(M^A))+I[7]+1735328473&4294967295,D=M+(S<<14&4294967295|S>>>18),S=N+(M^A&(D^M))+I[12]+2368359562&4294967295,N=D+(S<<20&4294967295|S>>>12),S=A+(N^D^M)+I[5]+4294588738&4294967295,A=N+(S<<4&4294967295|S>>>28),S=M+(A^N^D)+I[8]+2272392833&4294967295,M=A+(S<<11&4294967295|S>>>21),S=D+(M^A^N)+I[11]+1839030562&4294967295,D=M+(S<<16&4294967295|S>>>16),S=N+(D^M^A)+I[14]+4259657740&4294967295,N=D+(S<<23&4294967295|S>>>9),S=A+(N^D^M)+I[1]+2763975236&4294967295,A=N+(S<<4&4294967295|S>>>28),S=M+(A^N^D)+I[4]+1272893353&4294967295,M=A+(S<<11&4294967295|S>>>21),S=D+(M^A^N)+I[7]+4139469664&4294967295,D=M+(S<<16&4294967295|S>>>16),S=N+(D^M^A)+I[10]+3200236656&4294967295,N=D+(S<<23&4294967295|S>>>9),S=A+(N^D^M)+I[13]+681279174&4294967295,A=N+(S<<4&4294967295|S>>>28),S=M+(A^N^D)+I[0]+3936430074&4294967295,M=A+(S<<11&4294967295|S>>>21),S=D+(M^A^N)+I[3]+3572445317&4294967295,D=M+(S<<16&4294967295|S>>>16),S=N+(D^M^A)+I[6]+76029189&4294967295,N=D+(S<<23&4294967295|S>>>9),S=A+(N^D^M)+I[9]+3654602809&4294967295,A=N+(S<<4&4294967295|S>>>28),S=M+(A^N^D)+I[12]+3873151461&4294967295,M=A+(S<<11&4294967295|S>>>21),S=D+(M^A^N)+I[15]+530742520&4294967295,D=M+(S<<16&4294967295|S>>>16),S=N+(D^M^A)+I[2]+3299628645&4294967295,N=D+(S<<23&4294967295|S>>>9),S=A+(D^(N|~M))+I[0]+4096336452&4294967295,A=N+(S<<6&4294967295|S>>>26),S=M+(N^(A|~D))+I[7]+1126891415&4294967295,M=A+(S<<10&4294967295|S>>>22),S=D+(A^(M|~N))+I[14]+2878612391&4294967295,D=M+(S<<15&4294967295|S>>>17),S=N+(M^(D|~A))+I[5]+4237533241&4294967295,N=D+(S<<21&4294967295|S>>>11),S=A+(D^(N|~M))+I[12]+1700485571&4294967295,A=N+(S<<6&4294967295|S>>>26),S=M+(N^(A|~D))+I[3]+2399980690&4294967295,M=A+(S<<10&4294967295|S>>>22),S=D+(A^(M|~N))+I[10]+4293915773&4294967295,D=M+(S<<15&4294967295|S>>>17),S=N+(M^(D|~A))+I[1]+2240044497&4294967295,N=D+(S<<21&4294967295|S>>>11),S=A+(D^(N|~M))+I[8]+1873313359&4294967295,A=N+(S<<6&4294967295|S>>>26),S=M+(N^(A|~D))+I[15]+4264355552&4294967295,M=A+(S<<10&4294967295|S>>>22),S=D+(A^(M|~N))+I[6]+2734768916&4294967295,D=M+(S<<15&4294967295|S>>>17),S=N+(M^(D|~A))+I[13]+1309151649&4294967295,N=D+(S<<21&4294967295|S>>>11),S=A+(D^(N|~M))+I[4]+4149444226&4294967295,A=N+(S<<6&4294967295|S>>>26),S=M+(N^(A|~D))+I[11]+3174756917&4294967295,M=A+(S<<10&4294967295|S>>>22),S=D+(A^(M|~N))+I[2]+718787259&4294967295,D=M+(S<<15&4294967295|S>>>17),S=N+(M^(D|~A))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const N=A-this.blockSize,I=this.C;let D=this.h,M=0;for(;M<A;){if(D==0)for(;M<=N;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<A;)if(I[D++]=C.charCodeAt(M++),D==this.blockSize){o(this,I),D=0;break}}else for(;M<A;)if(I[D++]=C[M++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,N=0;N<4;++N)for(let I=0;I<32;I+=8)C[A++]=this.g[N]>>>I&255;return C};function u(C,A){var N=p;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=A(C)}function f(C,A){this.h=A;const N=[];let I=!0;for(let D=C.length-1;D>=0;D--){const M=C[D]|0;I&&M==A||(N[D]=M,I=!1)}this.g=N}var p={};function y(C){return-128<=C&&C<128?u(C,function(A){return new f([A|0],A<0?-1:0)}):new f([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return Y(_(-C));const A=[];let N=1;for(let I=0;C>=N;I++)A[I]=C/N|0,N*=4294967296;return new f(A,0)}function x(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return Y(x(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(A,8));let I=w;for(let M=0;M<C.length;M+=8){var D=Math.min(8,C.length-M);const S=parseInt(C.substring(M,M+D),A);D<8?(D=_(Math.pow(A,D)),I=I.j(D).add(_(S))):(I=I.j(N),I=I.add(_(S)))}return I}var w=y(0),R=y(1),z=y(16777216);i=f.prototype,i.m=function(){if(X(this))return-Y(this).m();let C=0,A=1;for(let N=0;N<this.g.length;N++){const I=this.i(N);C+=(I>=0?I:4294967296+I)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ne(this))return"0";if(X(this))return"-"+Y(this).toString(C);const A=_(Math.pow(C,6));var N=this;let I="";for(;;){const D=me(N,A).g;N=se(N,D.j(A));let M=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,ne(N))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ne(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function X(C){return C.h==-1}i.l=function(C){return C=se(this,C),X(C)?-1:ne(C)?0:1};function Y(C){const A=C.g.length,N=[];for(let I=0;I<A;I++)N[I]=~C.g[I];return new f(N,~C.h).add(R)}i.abs=function(){return X(this)?Y(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),N=[];let I=0;for(let D=0;D<=A;D++){let M=I+(this.i(D)&65535)+(C.i(D)&65535),S=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);I=S>>>16,M&=65535,S&=65535,N[D]=S<<16|M}return new f(N,N[N.length-1]&-2147483648?-1:0)};function se(C,A){return C.add(Y(A))}i.j=function(C){if(ne(this)||ne(C))return w;if(X(this))return X(C)?Y(this).j(Y(C)):Y(Y(this).j(C));if(X(C))return Y(this.j(Y(C)));if(this.l(z)<0&&C.l(z)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,N=[];for(var I=0;I<2*A;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<C.g.length;D++){const M=this.i(I)>>>16,S=this.i(I)&65535,Ne=C.i(D)>>>16,De=C.i(D)&65535;N[2*I+2*D]+=S*De,re(N,2*I+2*D),N[2*I+2*D+1]+=M*De,re(N,2*I+2*D+1),N[2*I+2*D+1]+=S*Ne,re(N,2*I+2*D+1),N[2*I+2*D+2]+=M*Ne,re(N,2*I+2*D+2)}for(C=0;C<A;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=A;C<2*A;C++)N[C]=0;return new f(N,0)};function re(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function oe(C,A){this.g=C,this.h=A}function me(C,A){if(ne(A))throw Error("division by zero");if(ne(C))return new oe(w,w);if(X(C))return A=me(Y(C),A),new oe(Y(A.g),Y(A.h));if(X(A))return A=me(C,Y(A)),new oe(Y(A.g),A.h);if(C.g.length>30){if(X(C)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var N=R,I=A;I.l(C)<=0;)N=Ee(N),I=Ee(I);var D=pe(N,1),M=pe(I,1);for(I=pe(I,2),N=pe(N,2);!ne(I);){var S=M.add(I);S.l(C)<=0&&(D=D.add(N),M=S),I=pe(I,1),N=pe(N,1)}return A=se(C,D.j(A)),new oe(D,A)}for(D=w;C.l(A)>=0;){for(N=Math.max(1,Math.floor(C.m()/A.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=_(N),S=M.j(A);X(S)||S.l(C)>0;)N-=I,M=_(N),S=M.j(A);ne(M)&&(M=R),D=D.add(M),C=se(C,S)}return new oe(D,C)}i.B=function(C){return me(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let I=0;I<A;I++)N[I]=this.i(I)&C.i(I);return new f(N,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let I=0;I<A;I++)N[I]=this.i(I)|C.i(I);return new f(N,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let I=0;I<A;I++)N[I]=this.i(I)^C.i(I);return new f(N,this.h^C.h)};function Ee(C){const A=C.g.length+1,N=[];for(let I=0;I<A;I++)N[I]=C.i(I)<<1|C.i(I-1)>>>31;return new f(N,C.h)}function pe(C,A){const N=A>>5;A%=32;const I=C.g.length-N,D=[];for(let M=0;M<I;M++)D[M]=A>0?C.i(M+N)>>>A|C.i(M+N+1)<<32-A:C.i(M+N);return new f(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,x1=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=x,ir=f}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E1,Vl,T1,oh,Lm,w1,A1,S1;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var b=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var P=c[T];if(!(P in b))break e;b=b[P]}c=c[c.length-1],T=b[c],g=g(T),g!=T&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],T;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&b.push([T,g[T]]);return b}});var u=u||{},f=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,b){return c.call.apply(c.bind,arguments)}function _(c,g,b){return _=y,_.apply(null,arguments)}function x(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function w(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,P,q){for(var ie=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ie[Re-2]=arguments[Re];return g.prototype[P].apply(T,ie)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const g=c.length;if(g>0){const b=Array(g);for(let T=0;T<g;T++)b[T]=c[T];return b}return[]}function ne(c,g){for(let T=1;T<arguments.length;T++){const P=arguments[T];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=c.length||0;const q=P.length||0;c.length=b+q;for(let ie=0;ie<q;ie++)c[b+ie]=P[ie]}else c.push(P)}}class X{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Y(c){f.setTimeout(()=>{throw c},0)}function se(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,b){const T=oe.get();T.set(g,b),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new X(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,pe=!1,C=new re,A=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(N)}};function N(){for(var c;c=se();){try{c.h.call(c.g)}catch(b){Y(b)}var g=oe;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}pe=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,g),f.removeEventListener("test",b,g)}catch{}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function Ne(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}w(Ne,D),Ne.prototype.init=function(c,g){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),F=0;function $(c,g,b,T,P){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!T,this.ha=P,this.key=++F,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,g,b){for(const T in c)g.call(b,c[T],T,c)}function ze(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function O(c){const g={};for(const b in c)g[b]=c[b];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let b,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(b in T)c[b]=T[b];for(let q=0;q<J.length;q++)b=J[q],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function G(c){this.src=c,this.g={},this.h=0}G.prototype.add=function(c,g,b,T,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ie=_e(c,g,T,P);return ie>-1?(g=c[ie],b||(g.fa=!1)):(g=new $(g,this.src,q,!!T,P),g.fa=b,c.push(g)),g};function ue(c,g){const b=g.type;if(b in c.g){var T=c.g[b],P=Array.prototype.indexOf.call(T,g,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(fe(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function _e(c,g,b,T){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==g&&q.capture==!!b&&q.ha==T)return P}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Xe={};function $e(c,g,b,T,P){if(Array.isArray(g)){for(let q=0;q<g.length;q++)$e(c,g[q],b,T,P);return null}return b=Io(b),c&&c[De]?c.J(g,b,p(T)?!!T.capture:!1,P):yr(c,g,b,!1,T,P)}function yr(c,g,b,T,P,q){if(!g)throw Error("Invalid event type");const ie=p(P)?!!P.capture:!!P;let Re=_r(c);if(Re||(c[we]=Re=new G(c)),b=Re.add(g,b,T,ie,q),b.proxy)return b;if(T=fa(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)M||(P=ie),P===void 0&&(P=!1),c.addEventListener(g.toString(),T,P);else if(c.attachEvent)c.attachEvent(os(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function fa(){function c(b){return g.call(c.src,c.listener,b)}const g=Ro;return c}function da(c,g,b,T,P){if(Array.isArray(g))for(var q=0;q<g.length;q++)da(c,g[q],b,T,P);else T=p(T)?!!T.capture:!!T,b=Io(b),c&&c[De]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],b=_e(g,b,T,P),b>-1&&(fe(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=_r(c))&&(g=c.g[g.toString()],c=-1,g&&(c=_e(g,b,T,P)),(b=c>-1?g[c]:null)&&ma(b))}function ma(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[De])ue(g.i,c);else{var b=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(b,T,c.capture):g.detachEvent?g.detachEvent(os(b),T):g.addListener&&g.removeListener&&g.removeListener(T),(b=_r(g))?(ue(b,c),b.h==0&&(b.src=null,g[we]=null)):fe(c)}}}function os(c){return c in Xe?Xe[c]:Xe[c]="on"+c}function Ro(c,g){if(c.da)c=!0;else{g=new Ne(g,this);const b=c.listener,T=c.ha||c.src;c.fa&&ma(c),c=b.call(T,g)}return c}function _r(c){return c=c[we],c instanceof G?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(g){return c.handleEvent(g)}),c[Co])}function xt(){I.call(this),this.i=new G(this),this.M=this,this.G=null}w(xt,I),xt.prototype[De]=!0,xt.prototype.removeEventListener=function(c,g,b,T){da(this,c,g,b,T)};function Ot(c,g){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var P=g;g=new D(T,c),ae(g,P)}P=!0;let q,ie;if(b)for(ie=b.length-1;ie>=0;ie--)q=g.g=b[ie],P=gi(q,T,!0,g)&&P;if(q=g.g=c,P=gi(q,T,!0,g)&&P,P=gi(q,T,!1,g)&&P,b)for(ie=0;ie<b.length;ie++)q=g.g=b[ie],P=gi(q,T,!1,g)&&P}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let T=0;T<b.length;T++)fe(b[T]);delete c.g[g],c.h--}}this.G=null},xt.prototype.J=function(c,g,b,T){return this.i.add(String(c),g,!1,b,T)},xt.prototype.K=function(c,g,b,T){return this.i.add(String(c),g,!0,b,T)};function gi(c,g,b,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let q=0;q<g.length;++q){const ie=g[q];if(ie&&!ie.da&&ie.capture==b){const Re=ie.listener,yt=ie.ha||ie.src;ie.fa&&ue(c.i,ie),P=Re.call(yt,T)!==!1&&P}}return P&&!T.defaultPrevented}function df(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function bu(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class nn extends I{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(c){I.call(this),this.h=c,this.g={}}w(vr,I);var jo=[];function Do(c){je(c.g,function(g,b){this.g.hasOwnProperty(b)&&ma(g)},c),c.g={}}vr.prototype.N=function(){vr.Z.N.call(this),Do(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=f.JSON.stringify,mf=f.JSON.parse,xu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Eu(){}function Tu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}w(Bt,D);function Sn(){D.call(this,"c")}w(Sn,D);var gt={},wu=null;function pa(){return wu=wu||new xt}gt.Ia="serverreachability";function Au(c){D.call(this,gt.Ia,c)}w(Au,D);function ls(c){const g=pa();Ot(g,new Au(g))}gt.STAT_EVENT="statevent";function br(c,g){D.call(this,gt.STAT_EVENT,c),this.stat=g}w(br,D);function Et(c){const g=pa();Ot(g,new br(g,c))}gt.Ja="timingevent";function us(c,g){D.call(this,gt.Ja,c),this.size=g}w(us,D);function cs(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function pf(c,g,b,T,P,q){c.info(function(){if(c.g)if(q){var ie="",Re=q.split("&");for(let Ke=0;Ke<Re.length;Ke++){var yt=Re[Ke].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const In=ct.split("_");ie=In.length>=2&&In[1]=="type"?ie+(ct+"="+yt+"&"):ie+(ct+"=redacted&")}}}else ie=null;else ie=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+g+`
`+b+`
`+ie})}function Su(c,g,b,T,P,q,ie){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+g+`
`+b+`
`+q+" "+ie})}function hs(c,g,b,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+gf(c,b)+(T?" "+T:"")})}function xr(c,g){c.info(function(){return"TIMEOUT: "+g})}Fn.prototype.info=function(){};function gf(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var b=q[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<T.length;ie++)T[ie]=""}}}}return yi(q)}catch{return g}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Tr(){}w(Tr,Eu),Tr.prototype.g=function(){return new XMLHttpRequest},Oo=new Tr;function qs(c){return encodeURIComponent(String(c))}function Nu(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function Gn(c,g,b,T){this.j=c,this.i=g,this.l=b,this.S=T||1,this.V=new vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function fs(c,g,b){c.M=1,c.A=wr(At(g)),c.u=b,c.R=!0,ga(c,null)}function ga(c,g){c.F=Date.now(),ds(c),c.B=At(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),ba(b.i,"t",T),c.C=0,b=c.j.L,c.h=new Kn,c.g=qu(c.j,b?g:null,!c.u),c.P>0&&(c.O=new nn(_(c.Y,c,c.g),c.P)),g=c.V,b=c.g,T=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(jo[0]=P.toString()),P=jo);for(let q=0;q<P.length;q++){const ie=$e(b,P[q],T||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ls(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Xn(c)==3?g.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Xn(this.g),yt=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Re!=4||yt==7||(yt==8||Ke<=0?ls(3):ls(2)),ms(this);var g=this.g.ca();this.X=g;var b=yf(this);if(this.o=g==200,Su(this.i,this.v,this.B,this.l,this.S,Re,g),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var q=T;break t}}q=null}if(c=q)hs(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ps(this,c);else{this.o=!1,this.m=3,Et(12),gn(this),Nn(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=Cu(this,b),ct==Pt){Re==4&&(this.m=4,Et(14),c=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Tt){this.m=4,Et(15),hs(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else hs(this.i,this.l,ct,null),ps(this,ct);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)hs(this.i,this.l,b,"[Invalid Chunked Response]"),gn(this),Nn(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Xo(ie),ie.P=!0,Et(11))}}else hs(this.i,this.l,b,null),ps(this,b);Re==4&&gn(this),this.o&&!this.K&&(Re==4?Uu(this.j,this):(this.o=!1,ds(this)))}else Fs(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),Nn(this)}}}catch{}finally{}};function yf(c){if(!Ru(c))return c.g.la();const g=qt(c.g);if(g==="")return"";let b="";const T=g.length,P=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Nn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<T;q++)c.h.h=!0,b+=c.h.i.decode(g[q],{stream:!(P&&q==T-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function Ru(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,g){var b=c.C,T=g.indexOf(`
`,b);return T==-1?Pt:(b=Number(g.substring(b,T)),isNaN(b)?Tt:(T+=1,T+b>g.length?Pt:(g=g.slice(T,T+b),c.C=T+b,g)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function ds(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=cs(_(c.aa,c),g)}function ms(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(xr(this.i,this.B),this.M!=2&&(ls(),Et(17)),gn(this),this.m=2,Nn(this)):ya(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Uu(c.j,c)}function gn(c){ms(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Do(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function ps(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||ys(b.h,c))){if(!c.L&&ys(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Aa(b),Ai(b);else break e;jr(b),Et(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=cs(_(b.Va,b),6e3));gs(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ts(b,11)}else if((c.L||b.g==c)&&Aa(b),!S(g))for(P=b.Ba.g.parse(g),g=0;g<P.length;g++){let Ke=P[g];const ct=Ke[0];if(!(ct<=b.K))if(b.K=ct,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const In=Ke[3];In!=null&&(b.ka=In,b.j.info("VER="+b.ka));const ws=Ke[4];ws!=null&&(b.za=ws,b.j.info("SVER="+b.za));const $n=Ke[5];$n!=null&&typeof $n=="number"&&$n>0&&(T=1.5*$n,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Jn=c.g;if(Jn){const Dr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var q=T.h;q.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Po(q,q.h),q.h=null))}if(T.G){const Sa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(T.wa=Sa,Je(T.J,T.G,Sa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ie=c;if(T.na=Bu(T,T.L?T.ba:null,T.W),ie.L){Uo(T.h,ie);var Re=ie,yt=T.O;yt&&(Re.H=yt),Re.D&&(ms(Re),ds(Re)),T.g=ie}else Vu(T);b.i.length>0&&Es(b)}else Ke[0]!="stop"&&Ke[0]!="close"||Ts(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ts(b,7):Yo(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}ls(4)}catch{}}var wt=class{constructor(c,g){this.g=c,this.map=g}};function Mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gs(c){return c.h?1:c.g?c.g.size:0}function ys(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Po(c,g){c.g?c.g.add(g):c.h=g}function Uo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Mo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return z(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let P,q=null;T>=0?(P=c[b].substring(0,T),q=c[b].substring(T+1)):P=c[b],g(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof yn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,_i(this,c.u),this.h=c.h,zo(this,Ou(c.i)),this.m=c.m):c&&(g=String(c).match(Iu))?(this.l=!1,Ut(this,g[1]||"",!0),this.o=_s(g[2]||""),this.g=_s(g[3]||"",!0),_i(this,g[4]),this.h=_s(g[5]||"",!0),zo(this,g[6]||"",!0),this.m=_s(g[7]||"")):(this.l=!1,this.i=new bi(null,this.l))}yn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ar(g,va,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ar(g,va,!0),"@"),c.push(qs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Ar(b,b.charAt(0)=="/"?Bo:ju,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Ar(b,Du)),c.join("")},yn.prototype.resolve=function(c){const g=At(this);let b=!!c.j;b?Ut(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var T=c.h;if(b)_i(g,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=g.h.lastIndexOf("/");P!=-1&&(T=g.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let ie=0;ie<P.length;){const Re=P[ie++];Re=="."?T&&ie==P.length&&q.push(""):Re==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ie==P.length&&q.push("")):(q.push(Re),T=!0)}T=q.join("/")}else T=P}return b?g.h=T:b=c.i.toString()!=="",b?zo(g,Ou(c.i)):b=!!c.m,b&&(g.m=c.m),g};function At(c){return new yn(c)}function Ut(c,g,b){c.j=b?_s(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function _i(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function zo(c,g,b){g instanceof bi?(c.i=g,xa(c.i,c.l)):(b||(g=Ar(g,vi)),c.i=new bi(g,c.l))}function Je(c,g,b){c.i.set(g,b)}function wr(c){return Je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _s(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ar(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,an),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,ju=/[#\?:]/g,Bo=/[#\?]/g,vi=/[#\?@]/g,Du=/#/g;function bi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}i=bi.prototype,i.add=function(c,g){on(this),this.i=null,c=xi(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function ku(c,g){on(c),g=xi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function qo(c,g){return on(c),g=xi(c,g),c.g.has(g)}i.forEach=function(c,g){on(this),this.g.forEach(function(b,T){b.forEach(function(P){c.call(g,P,T,this)},this)},this)};function Ho(c,g){on(c);let b=[];if(typeof g=="string")qo(c,g)&&(b=b.concat(c.g.get(xi(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}i.set=function(c,g){return on(this),this.i=null,c=xi(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=Ho(this,c),c.length>0?String(c[0]):g):g};function ba(c,g,b){ku(c,g),b.length>0&&(c.i=null,c.g.set(xi(c,g),z(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let T=0;T<g.length;T++){var b=g[T];const P=qs(b);b=Ho(this,b);for(let q=0;q<b.length;q++){let ie=P;b[q]!==""&&(ie+="="+qs(b[q])),c.push(ie)}}return this.i=c.join("&")};function Ou(c){const g=new bi;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function xi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function xa(c,g){g&&!c.j&&(on(c),c.i=null,c.g.forEach(function(b,T){const P=T.toLowerCase();T!=P&&(ku(this,T),ba(this,P,b))},c)),c.j=g}function Yn(c,g){const b=new Fn;if(f.Image){const T=new Image;T.onload=x(Rn,b,"TestLoadImage: loaded",!0,g,T),T.onerror=x(Rn,b,"TestLoadImage: error",!1,g,T),T.onabort=x(Rn,b,"TestLoadImage: abort",!1,g,T),T.ontimeout=x(Rn,b,"TestLoadImage: timeout",!1,g,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Fo(c,g){const b=new Fn,T=new AbortController,P=setTimeout(()=>{T.abort(),Rn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Rn(b,"TestPingServer: ok",!0,g):Rn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Rn(b,"TestPingServer: error",!1,g)})}function Rn(c,g,b,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(b)}catch{}}function Ei(){this.g=new xu}function vs(c){this.i=c.Sb||null,this.h=c.ab||!1}w(vs,Eu),vs.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(c,g){xt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Sr,xt),i=Sr.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Qn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ti(this):Qn(this),this.readyState==3&&Ea(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ti(this))},i.Na=function(c){this.g&&(this.response=c,Ti(this))},i.ga=function(){this.g&&Ti(this)};function Ti(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}i.setRequestHeader=function(c,g){this.A.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let g="";return je(c,function(b,T){g+=T,g+=":",g+=b,g+=`\r
`}),g}function Nr(c,g,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Cn(b),typeof c=="string"?b!=null&&qs(b):Je(c,g,b))}function et(c){xt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(et,xt);var bs=/^https?$/i,Go=["POST","PUT"];i=et.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,g,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=R(_(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Rr(this,q);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)b.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())b.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Go,g,void 0)>=0)||T||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of b)this.g.setRequestHeader(q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Rr(this,q)}};function Rr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Ko(c),Hs(c)}function Ko(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Hs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hs(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},i.Xa=function(){Cr(this)};function Cr(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var T;if(T=q===0){let ie=String(c.D).match(Iu)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),T=!bs.test(ie?ie.toLowerCase():"")}b=T}if(b)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var P=Xn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Ko(c)}}finally{Hs(c)}}}}function Hs(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||Ot(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),mf(g)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(c){const g={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(S(c[T]))continue;var b=Nu(c[T]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=g[P]||[];g[P]=q,q.push(b)}ze(g,function(T){return T.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function wi(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,c),this.Za=xs("retryDelaySeedMs",1e4,c),this.Ta=xs("forwardChannelMaxRetries",2,c),this.va=xs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new Ei,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=wi.prototype,i.ka=8,i.I=1,i.connect=function(c,g,b,T){Et(0),this.W=c,this.H=g||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Bu(this,null,this.W),Es(this)};function Yo(c){if(Ta(c),c.I==3){var g=c.V++,b=At(c.J);if(Je(b,"SID",c.M),Je(b,"RID",g),Je(b,"TYPE","terminate"),Ir(c,b),g=new Gn(c,c.j,g),g.M=2,g.A=wr(At(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=g.A,b=!0),b||(g.g=qu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ds(g)}zu(c)}function Ai(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function Ta(c){Ai(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Es(c){if(!Vo(c.h)&&!c.m){c.m=!0;var g=c.Ea;Ee||A(),pe||(Ee(),pe=!0),C.add(g,c),c.D=0}}function wa(c,g){return gs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=cs(_(c.Ea,c,g),Lu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Gn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=O(q),ae(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Mu(this,P,g),b=At(this.J),Je(b,"RID",c),Je(b,"CVER",22),this.G&&Je(b,"X-HTTP-Session-Id",this.G),Ir(this,b),q&&(this.R?g="headers="+qs(Cn(q))+"&"+g:this.u&&Nr(b,this.u,q)),Po(this.h,P),this.Ra&&Je(b,"TYPE","init"),this.S?(Je(b,"$req",g),Je(b,"SID","null"),P.U=!0,fs(P,b,null)):fs(P,b,g),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||Vo(this.h)||Qo(this))};function Qo(c,g){var b;g?b=g.l:b=c.V++;const T=At(c.J);Je(T,"SID",c.M),Je(T,"RID",b),Je(T,"AID",c.K),Ir(c,T),c.u&&c.o&&Nr(T,c.u,c.o),b=new Gn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Mu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,b),fs(b,T,g)}function Ir(c,g){c.H&&je(c.H,function(b,T){Je(g,T,b)}),c.l&&je({},function(b,T){Je(g,T,b)})}function Mu(c,g,b){b=Math.min(c.i.length,b);const T=c.l?_(c.l.Ka,c.l,c):null;e:{var P=c.i;let Re=-1;for(;;){const yt=["count="+b];Re==-1?b>0?(Re=P[0].g,yt.push("ofs="+Re)):Re=0:yt.push("ofs="+Re);let Ke=!0;for(let ct=0;ct<b;ct++){var q=P[ct].g;const In=P[ct].map;if(q-=Re,q<0)Re=Math.max(0,P[ct].g-100),Ke=!1;else try{q="req"+q+"_"||"";try{var ie=In instanceof Map?In:Object.entries(In);for(const[ws,$n]of ie){let Jn=$n;p($n)&&(Jn=yi($n)),yt.push(q+ws+"="+encodeURIComponent(Jn))}}catch(ws){throw yt.push(q+"type="+encodeURIComponent("_badmap")),ws}}catch{T&&T(In)}}if(Ke){ie=yt.join("&");break e}}ie=void 0}return c=c.i.splice(0,b),g.G=c,ie}function Vu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Ee||A(),pe||(Ee(),pe=!0),C.add(g,c),c.A=0}}function jr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=cs(_(c.Da,c),Lu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=cs(_(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ai(this),Pu(this))};function Xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=At(c.na);Je(g,"RID","rpc"),Je(g,"SID",c.M),Je(g,"AID",c.K),Je(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Je(g,"TO",c.ia),Je(g,"TYPE","xmlhttp"),Ir(c,g),c.u&&c.o&&Nr(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=wr(At(g)),b.u=null,b.R=!0,ga(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Ai(this),jr(this),Et(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Uu(c,g){var b=null;if(c.g==g){Aa(c),Xo(c),c.g=null;var T=2}else if(ys(c.h,g))b=g.G,Uo(c.h,g),T=1;else return;if(c.I!=0){if(g.o)if(T==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;T=pa(),Ot(T,new us(T,b)),Es(c)}else Vu(c);else if(P=g.m,P==3||P==0&&g.X>0||!(T==1&&wa(c,g)||T==2&&jr(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),P){case 1:Ts(c,5);break;case 4:Ts(c,10);break;case 3:Ts(c,6);break;default:Ts(c,2)}}}function Lu(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function Ts(c,g){if(c.j.info("Error code "+g),g==2){var b=_(c.bb,c),T=c.Ua;const P=!T;T=new yn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(T,"https"),wr(T),P?Yn(T.toString(),b):Fo(T.toString(),b)}else Et(2);c.I=0,c.l&&c.l.pa(g),zu(c),Ta(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const g=Lo(c.h);(g.length!=0||c.i.length!=0)&&(ne(c.ja,g),ne(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Bu(c,g,b){var T=b instanceof yn?At(b):new yn(b);if(T.g!="")g&&(T.g=g+"."+T.g),_i(T,T.u);else{var P=f.location;T=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const q=new yn(null);T&&Ut(q,T),g&&(q.g=g),P&&_i(q,P),b&&(q.h=b),T=q}return b=c.G,g=c.wa,b&&g&&Je(T,b,g),Je(T,"VER",c.ka),Ir(c,T),T}function qu(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new et(new vs({ab:b})):new et(c.ma),g.Fa(c.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}i=Hu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Si(){}Si.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){xt.call(this),this.g=new wi(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!S(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!S(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Gs(this)}w(sn,xt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Yo(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=yi(c),c=b);g.i.push(new wt(g.Ya++,c)),g.I==3&&Es(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,sn.Z.N.call(this)};function Fu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}w(Fu,Bt);function Gu(){Sn.call(this),this.status=1}w(Gu,Sn);function Gs(c){this.g=c}w(Gs,Hu),Gs.prototype.ra=function(){Ot(this.g,"a")},Gs.prototype.qa=function(c){Ot(this.g,new Fu(c))},Gs.prototype.pa=function(c){Ot(this.g,new Gu)},Gs.prototype.oa=function(){Ot(this.g,"b")},Si.prototype.createWebChannel=Si.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,S1=function(){return new Si},A1=function(){return pa()},w1=gt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,oh=Er,ko.COMPLETE="complete",T1=ko,Tu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Vl=Tu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,E1=et}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.9.2";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let To="12.3.0";const sa=new lp("@firebase/firestore");function no(){return sa.logLevel}function ce(i,...e){if(sa.logLevel<=Pe.DEBUG){const n=e.map(vp);sa.debug(`Firestore (${To}): ${i}`,...n)}}function di(i,...e){if(sa.logLevel<=Pe.ERROR){const n=e.map(vp);sa.error(`Firestore (${To}): ${i}`,...n)}}function fo(i,...e){if(sa.logLevel<=Pe.WARN){const n=e.map(vp);sa.warn(`Firestore (${To}): ${i}`,...n)}}function vp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function xe(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,N1(i,r,n)}function N1(i,e,n){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw di(r),new Error(r)}function Qe(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||N1(e,o,r)}function Se(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class R1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class HS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class FS{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ci,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ci)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new R1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class GS{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KS{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new GS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=QS(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ue(i,e){return i<e?-1:i>e?1:0}function zm(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return wm(o)===wm(u)?Ue(o,u):wm(o)?1:-1}return Ue(i.length,e.length)}const XS=55296,$S=57343;function wm(i){const e=i.charCodeAt(0);return e>=XS&&e<=$S}function mo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}const yv="__name__";class Cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Cs.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Cs.isNumericId(e),o=Cs.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Cs.extractNumericId(e).compare(Cs.extractNumericId(n)):zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ir.fromString(e.substring(4,e.length-2))}}class at extends Cs{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const JS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Cs{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return JS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Qt([yv])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}function C1(i,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZS(i,e,n,r){if(e===!0&&r===!0)throw new le(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function _v(i){if(!ye.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function vv(i){if(ye.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function I1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Hh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function pn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function du(i,e){if(!I1(i))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const f=i[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}const bv=-62135596800,xv=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xv);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bv)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Dt("string",ut._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ut(0,0))}static max(){return new Te(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function WS(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new or(o,ye.empty(),e)}function eN(i){return new or(i.readTime,i.key,$l)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(Te.min(),ye.empty(),$l)}static max(){return new or(Te.max(),ye.empty(),$l)}}function tN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}const nN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==nN)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(y=>r(y)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((o=>o?te.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,o)=>{const u=e.length,f=new Array(u);let p=0;for(let y=0;y<u;y++){const _=y;n(e[_]).next((x=>{f[_]=x,++p,p===u&&r(f)}),(x=>o(x)))}}))}static doWhile(e,n){return new te(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function iN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(i){return i.name==="IndexedDbTransactionError"}class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fh.ce=-1;const xp=-1;function Gh(i){return i==null}function Eh(i){return i===0&&1/i==-1/0}function rN(i){return typeof i=="number"&&Number.isInteger(i)&&!Eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const j1="";function aN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Ev(e)),e=oN(i.get(n),e);return Ev(e)}function oN(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case j1:n+="";break;default:n+=u}}return n}function Ev(i){return i+j1+""}function Tv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function mr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function D1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(e){return new wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Vt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class k1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new k1("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const lN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const n=lN.exec(i);if(Qe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ur(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}const O1="server_timestamp",M1="__type__",V1="__previous_value__",P1="__local_write_time__";function Ep(i){return(i?.mapValue?.fields||{})[M1]?.stringValue===O1}function Kh(i){const e=i.mapValue.fields[V1];return Ep(e)?Kh(e):e}function Jl(i){const e=lr(i.mapValue.fields[P1].timestampValue);return new ut(e.seconds,e.nanos)}class uN{constructor(e,n,r,o,u,f,p,y,_,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=x}}const Th="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}const U1="__type__",cN="__max__",Zc={mapValue:{}},L1="__vector__",wh="value";function cr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ep(i)?4:fN(i)?9007199254740991:hN(i)?10:11:xe(28295,{value:i})}function Us(i,e){if(i===e)return!0;const n=cr(i);if(n!==cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jl(i).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=lr(o.timestampValue),p=lr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ur(o.bytesValue).isEqual(ur(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),p=bt(u.doubleValue);return f===p?Eh(f)===Eh(p):isNaN(f)&&isNaN(p)}return!1})(i,e);case 9:return mo(i.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Tv(f)!==Tv(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!Us(f[y],p[y])))return!1;return!0})(i,e);default:return xe(52216,{left:i})}}function Wl(i,e){return(i.values||[]).find((n=>Us(n,e)))!==void 0}function po(i,e){if(i===e)return 0;const n=cr(i),r=cr(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=bt(u.integerValue||u.doubleValue),y=bt(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(i,e);case 3:return Av(i.timestampValue,e.timestampValue);case 4:return Av(Jl(i),Jl(e));case 5:return zm(i.stringValue,e.stringValue);case 6:return(function(u,f){const p=ur(u),y=ur(f);return p.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),y=f.split("/");for(let _=0;_<p.length&&_<y.length;_++){const x=Ue(p[_],y[_]);if(x!==0)return x}return Ue(p.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Ue(bt(u.latitude),bt(f.latitude));return p!==0?p:Ue(bt(u.longitude),bt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Sv(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},y=f.fields||{},_=p[wh]?.arrayValue,x=y[wh]?.arrayValue,w=Ue(_?.values?.length||0,x?.values?.length||0);return w!==0?w:Sv(_,x)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Zc.mapValue&&f===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(f===Zc.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),_=f.fields||{},x=Object.keys(_);y.sort(),x.sort();for(let w=0;w<y.length&&w<x.length;++w){const R=zm(y[w],x[w]);if(R!==0)return R;const z=po(p[y[w]],_[x[w]]);if(z!==0)return z}return Ue(y.length,x.length)})(i.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function Av(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=lr(i),r=lr(e),o=Ue(n.seconds,r.seconds);return o!==0?o:Ue(n.nanos,r.nanos)}function Sv(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=po(n[o],r[o]);if(u)return u}return Ue(n.length,r.length)}function go(i){return Bm(i)}function Bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=lr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ur(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Bm(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Bm(n.fields[f])}`;return o+"}"})(i.mapValue):xe(61005,{value:i})}function lh(i){switch(cr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(i);return e?16+lh(e):16;case 5:return 2*i.stringValue.length;case 6:return ur(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+lh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return mr(r.fields,((u,f)=>{o+=u.length+lh(f)})),o})(i.mapValue);default:throw xe(13486,{value:i})}}function Nv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function qm(i){return!!i&&"integerValue"in i}function Tp(i){return!!i&&"arrayValue"in i}function Rv(i){return!!i&&"nullValue"in i}function Cv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uh(i){return!!i&&"mapValue"in i}function hN(i){return(i?.mapValue?.fields||{})[U1]?.stringValue===L1}function ql(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return mr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ql(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(i.arrayValue.values[n]);return e}return{...i}}function fN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Qt.emptyPath(),r={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=ql(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){mr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new mn(ql(this.value))}}function z1(i){const e=[];return mr(i.fields,((n,r)=>{const o=new Qt([n]);if(uh(r)){const u=z1(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new An(e)}class en{constructor(e,n,r,o,u,f,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new en(e,0,Te.min(),Te.min(),Te.min(),mn.empty(),0)}static newFoundDocument(e,n,r,o){return new en(e,1,n,Te.min(),r,o,0)}static newNoDocument(e,n){return new en(e,2,n,Te.min(),Te.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Te.min(),Te.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function Iv(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?r=ye.comparator(ye.fromName(f.referenceValue),n.key):r=po(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function jv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Us(i.position[n],e.position[n]))return!1;return!0}class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function dN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class B1{}class jt extends B1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pN(e,n,r):n==="array-contains"?new _N(e,r):n==="in"?new vN(e,r):n==="not-in"?new bN(e,r):n==="array-contains-any"?new xN(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gN(e,r):new yN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&cr(this.value)===cr(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rs extends B1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new rs(e,n)}matches(e){return q1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q1(i){return i.op==="and"}function H1(i){return mN(i)&&q1(i)}function mN(i){for(const e of i.filters)if(e instanceof rs)return!1;return!0}function Hm(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+go(i.value);if(H1(i))return i.filters.map((e=>Hm(e))).join(",");{const e=i.filters.map((n=>Hm(n))).join(",");return`${i.op}(${e})`}}function F1(i,e){return i instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Us(r.value,o.value)})(i,e):i instanceof rs?(function(r,o){return o instanceof rs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&F1(f,o.filters[p])),!0):!1})(i,e):void xe(19439)}function G1(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`})(i):i instanceof rs?(function(n){return n.op.toString()+" {"+n.getFilters().map(G1).join(" ,")+"}"})(i):"Filter"}class pN extends jt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class gN extends jt{constructor(e,n){super(e,"in",n),this.keys=K1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yN extends jt{constructor(e,n){super(e,"not-in",n),this.keys=K1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function K1(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class _N extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tp(n)&&Wl(n.arrayValue,this.value)}}class vN extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class bN extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class xN extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class EN{constructor(e,n=null,r=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function Dv(i,e=null,n=[],r=[],o=null,u=null,f=null){return new EN(i,e,n,r,o,u,f)}function wp(i){const e=Se(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Hm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>go(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>go(r))).join(",")),e.Te=n}return e.Te}function Ap(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!dN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!F1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jv(i.startAt,e.startAt)&&jv(i.endAt,e.endAt)}function Fm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class So{constructor(e,n=null,r=[],o=[],u=null,f="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TN(i,e,n,r,o,u,f,p){return new So(i,e,n,r,o,u,f,p)}function Yh(i){return new So(i)}function kv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Y1(i){return i.collectionGroup!==null}function Hl(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Vt(Qt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new eu(u,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new eu(Qt.keyField(),r))}return e.Ie}function Os(i){const e=Se(i);return e.Ee||(e.Ee=wN(e,Hl(i))),e.Ee}function wN(i,e){if(i.limitType==="F")return Dv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new eu(o.field,u)}));const n=i.endAt?new Ah(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Ah(i.startAt.position,i.startAt.inclusive):null;return Dv(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function Gm(i,e){const n=i.filters.concat([e]);return new So(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Km(i,e,n){return new So(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Qh(i,e){return Ap(Os(i),Os(e))&&i.limitType===e.limitType}function Q1(i){return`${wp(Os(i))}|lt:${i.limitType}`}function so(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>G1(o))).join(", ")}]`),Gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>go(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>go(o))).join(",")),`Target(${r})`})(Os(i))}; limitType=${i.limitType})`}function Xh(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ye.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of Hl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(f,p,y){const _=Iv(f,p,y);return f.inclusive?_<=0:_<0})(r.startAt,Hl(r),o)||r.endAt&&!(function(f,p,y){const _=Iv(f,p,y);return f.inclusive?_>=0:_>0})(r.endAt,Hl(r),o))})(i,e)}function AN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function X1(i){return(e,n)=>{let r=!1;for(const o of Hl(i)){const u=SN(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function SN(i,e,n){const r=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,p){const y=f.data.field(u),_=p.data.field(u);return y!==null&&_!==null?po(y,_):xe(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:i.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return D1(this.inner)}size(){return this.innerSize}}const NN=new ft(ye.comparator);function mi(){return NN}const $1=new ft(ye.comparator);function Pl(...i){let e=$1;for(const n of i)e=e.insert(n.key,n);return e}function J1(i){let e=$1;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $r(){return Fl()}function Z1(){return Fl()}function Fl(){return new ca((i=>i.toString()),((i,e)=>i.isEqual(e)))}const RN=new ft(ye.comparator),CN=new Vt(ye.comparator);function Le(...i){let e=CN;for(const n of i)e=e.add(n);return e}const IN=new Vt(Ue);function jN(){return IN}function Sp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function W1(i){return{integerValue:""+i}}function DN(i,e){return rN(e)?W1(e):Sp(i,e)}class $h{constructor(){this._=void 0}}function kN(i,e,n){return i instanceof tu?(function(o,u){const f={fields:{[M1]:{stringValue:O1},[P1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ep(u)&&(u=Kh(u)),u&&(f.fields[V1]=u),{mapValue:f}})(n,e):i instanceof nu?tx(i,e):i instanceof su?nx(i,e):(function(o,u){const f=ex(o,u),p=Ov(f)+Ov(o.Ae);return qm(f)&&qm(o.Ae)?W1(p):Sp(o.serializer,p)})(i,e)}function ON(i,e,n){return i instanceof nu?tx(i,e):i instanceof su?nx(i,e):n}function ex(i,e){return i instanceof Sh?(function(r){return qm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class tu extends $h{}class nu extends $h{constructor(e){super(),this.elements=e}}function tx(i,e){const n=sx(e);for(const r of i.elements)n.some((o=>Us(o,r)))||n.push(r);return{arrayValue:{values:n}}}class su extends $h{constructor(e){super(),this.elements=e}}function nx(i,e){let n=sx(e);for(const r of i.elements)n=n.filter((o=>!Us(o,r)));return{arrayValue:{values:n}}}class Sh extends $h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ov(i){return bt(i.integerValue||i.doubleValue)}function sx(i){return Tp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class MN{constructor(e,n){this.field=e,this.transform=n}}function VN(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof nu&&o instanceof nu||r instanceof su&&o instanceof su?mo(r.elements,o.elements,Us):r instanceof Sh&&o instanceof Sh?Us(r.Ae,o.Ae):r instanceof tu&&o instanceof tu})(i.transform,e.transform)}class PN{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Jh{}function ix(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Np(i.key,Bn.none()):new mu(i.key,i.data,Bn.none());{const n=i.data,r=mn.empty();let o=new Vt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new pr(i.key,r,new An(o.toArray()),Bn.none())}}function UN(i,e,n){i instanceof mu?(function(o,u,f){const p=o.value.clone(),y=Vv(o.fieldTransforms,u,f.transformResults);p.setAll(y),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):i instanceof pr?(function(o,u,f){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Vv(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(rx(o)),y.setAll(p),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(i,e,n,r){return i instanceof mu?(function(u,f,p,y){if(!ch(u.precondition,f))return p;const _=u.value.clone(),x=Pv(u.fieldTransforms,y,f);return _.setAll(x),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(i,e,n,r):i instanceof pr?(function(u,f,p,y){if(!ch(u.precondition,f))return p;const _=Pv(u.fieldTransforms,y,f),x=f.data;return x.setAll(rx(u)),x.setAll(_),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(i,e,n,r):(function(u,f,p){return ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(i,e,n)}function LN(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=ex(r.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(r.field,u))}return n||null}function Mv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&mo(r,o,((u,f)=>VN(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class mu extends Jh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pr extends Jh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rx(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function Vv(i,e,n){const r=new Map;Qe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,p=e.data.field(u.field);r.set(u.field,ON(f,p,n[o]))}return r}function Pv(i,e,n){const r=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);r.set(o.field,kN(u,f,e))}return r}class Np extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zN extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UN(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Z1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const y=ix(f,p);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,r)=>Mv(n,r)))&&mo(this.baseMutations,e.baseMutations,((n,r)=>Mv(n,r)))}}class Rp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return RN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Rp(e,n,r,o)}}class qN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HN{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,qe;function FN(i){switch(i){case W.OK:return xe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function ax(i){if(i===void 0)return di("GRPC error has no .code"),W.UNKNOWN;switch(i){case It.OK:return W.OK;case It.CANCELLED:return W.CANCELLED;case It.UNKNOWN:return W.UNKNOWN;case It.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case It.INTERNAL:return W.INTERNAL;case It.UNAVAILABLE:return W.UNAVAILABLE;case It.UNAUTHENTICATED:return W.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case It.NOT_FOUND:return W.NOT_FOUND;case It.ALREADY_EXISTS:return W.ALREADY_EXISTS;case It.PERMISSION_DENIED:return W.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case It.ABORTED:return W.ABORTED;case It.OUT_OF_RANGE:return W.OUT_OF_RANGE;case It.UNIMPLEMENTED:return W.UNIMPLEMENTED;case It.DATA_LOSS:return W.DATA_LOSS;default:return xe(39323,{code:i})}}(qe=It||(It={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function GN(){return new TextEncoder}const KN=new ir([4294967295,4294967295],0);function Uv(i){const e=GN().encode(i),n=new x1;return n.update(e),new Uint8Array(n.digest())}function Lv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ir([n,r],0),new ir([o,u],0)]}class Cp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ir.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(ir.fromNumber(r)));return o.compare(KN)===1&&(o=new ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Uv(e),[r,o]=Lv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Cp(u,o,n);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=Uv(e),[r,o]=Lv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zh(Te.min(),o,new ft(Ue),mi(),Le())}}class pu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pu(r,n,Le(),Le(),Le())}}class hh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class ox{constructor(e,n){this.targetId=e,this.Ce=n}}class lx{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class zv{constructor(){this.ve=0,this.Fe=Bv(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Bv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YN{constructor(e){this.Ge=e,this.ze=new Map,this.je=mi(),this.Je=Wc(),this.He=Wc(),this.Ye=new ft(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Fm(u))if(r===0){const f=new ye(u.path);this.et(n,f,en.newNoDocument(f,Te.min()))}else Qe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(e),y=p?this.ct(p,e,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ur(r).toUint8Array()}catch(y){if(y instanceof k1)return fo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Cp(f,o,u)}catch(y){return fo(y instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Fm(p.target)){const y=new ye(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,en.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Le();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Zh(e,n,this.Ye,this.je,r);return this.je=mi(),this.Je=Wc(),this.He=Wc(),this.Ye=new ft(Ue),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new ft(ye.comparator)}function Bv(){return new ft(ye.comparator)}const QN={asc:"ASCENDING",desc:"DESCENDING"},XN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$N={and:"AND",or:"OR"};class JN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(i,e){return i.useProto3Json||Gh(e)?e:{value:e}}function Nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ux(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZN(i,e){return Nh(i,e.toTimestamp())}function Ms(i){return Qe(!!i,49232),Te.fromTimestamp((function(n){const r=lr(n);return new ut(r.seconds,r.nanos)})(i))}function Ip(i,e){return Qm(i,e).canonicalString()}function Qm(i,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function cx(i){const e=at.fromString(i);return Qe(px(e),10190,{key:e.toString()}),e}function Xm(i,e){return Ip(i.databaseId,e.path)}function Am(i,e){const n=cx(e);if(n.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(fx(n))}function hx(i,e){return Ip(i.databaseId,e)}function WN(i){const e=cx(i);return e.length===4?at.emptyPath():fx(e)}function $m(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function fx(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function qv(i,e,n){return{name:Xm(i,e),fields:n.value.mapValue.fields}}function eR(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:xe(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,x){return _.useProto3Json?(Qe(x===void 0||typeof x=="string",58123),Xt.fromBase64String(x||"")):(Qe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Xt.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(_){const x=_.code===void 0?W.UNKNOWN:ax(_.code);return new le(x,_.message||"")})(f);n=new lx(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Am(i,r.document.name),u=Ms(r.document.updateTime),f=r.document.createTime?Ms(r.document.createTime):Te.min(),p=new mn({mapValue:{fields:r.document.fields}}),y=en.newFoundDocument(o,u,f,p),_=r.targetIds||[],x=r.removedTargetIds||[];n=new hh(_,x,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Am(i,r.document),u=r.readTime?Ms(r.readTime):Te.min(),f=en.newNoDocument(o,u),p=r.removedTargetIds||[];n=new hh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Am(i,r.document),u=r.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new HN(o,u),p=r.targetId;n=new ox(p,f)}}return n}function tR(i,e){let n;if(e instanceof mu)n={update:qv(i,e.key,e.value)};else if(e instanceof Np)n={delete:Xm(i,e.key)};else if(e instanceof pr)n={update:qv(i,e.key,e.data),updateMask:cR(e.fieldMask)};else{if(!(e instanceof zN))return xe(16599,{Vt:e.type});n={verify:Xm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof tu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Sh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw xe(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(i,e.precondition)),n}function nR(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?Ms(o.updateTime):Ms(u);return f.isEqual(Te.min())&&(f=Ms(u)),new PN(f,o.transformResults||[])})(n,e)))):[]}function sR(i,e){return{documents:[hx(i,e.path)]}}function iR(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hx(i,o);const u=(function(_){if(_.length!==0)return mx(rs.create(_,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((x=>(function(R){return{field:io(R.field),direction:oR(R.dir)}})(x)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Ym(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:o}}function rR(i){let e=WN(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];n.where&&(u=(function(w){const R=dx(w);return R instanceof rs&&H1(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((R=>(function(ne){return new eu(ro(ne.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ne.direction))})(R)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let R;return R=typeof w=="object"?w.value:w,Gh(R)?null:R})(n.limit));let y=null;n.startAt&&(y=(function(w){const R=!!w.before,z=w.values||[];return new Ah(z,R)})(n.startAt));let _=null;return n.endAt&&(_=(function(w){const R=!w.before,z=w.values||[];return new Ah(z,R)})(n.endAt)),TN(e,o,f,u,p,"F",y,_)}function aR(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dx(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return rs.create(n.compositeFilter.filters.map((r=>dx(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(i):xe(30097,{filter:i})}function oR(i){return QN[i]}function lR(i){return XN[i]}function uR(i){return $N[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return Qt.fromServerFormat(i.fieldPath)}function mx(i){return i instanceof jt?(function(n){if(n.op==="=="){if(Cv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(Rv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(Rv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:lR(n.op),value:n.value}}})(i):i instanceof rs?(function(n){const r=n.getFilters().map((o=>mx(o)));return r.length===1?r[0]:{compositeFilter:{op:uR(n.op),filters:r}}})(i):xe(54877,{filter:i})}function cR(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function px(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class er{constructor(e,n,r,o,u=Te.min(),f=Te.min(),p=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hR{constructor(e){this.yt=e}}function fR(i){const e=rR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Km(e,e.limit,"L"):e}class dR{constructor(){this.Cn=new mR}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(or.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class mR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(at.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(at.comparator)).toArray()}}const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gx=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(gx,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const Fv="LruGarbageCollector",pR=1048576;function Gv([i,e],[n,r]){const o=Ue(i,n);return o===0?Ue(e,r):o}class gR{constructor(e){this.Ir=e,this.buffer=new Vt(Gv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Gv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(Fv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?ce(Fv,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class _R{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Fh.ce);const r=new gR(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Hv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,f,p,y,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,n)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),no()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-x}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-x}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function vR(i,e){return new _R(i,e)}class bR{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ER{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Gl(r.mutation,o,An.empty(),ut.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const o=$r();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Pl();return u.forEach(((p,y)=>{f=f.insert(p,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,r,o){let u=mi();const f=Fl(),p=(function(){return Fl()})();return n.forEach(((y,_)=>{const x=r.get(_.key);o.has(_.key)&&(x===void 0||x.mutation instanceof pr)?u=u.insert(_.key,_):x!==void 0?(f.set(_.key,x.mutation.getFieldMask()),Gl(x.mutation,_,x.mutation.getFieldMask(),ut.now())):f.set(_.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((_,x)=>f.set(_,x))),n.forEach(((_,x)=>p.set(_,new xR(x,f.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Fl();let o=new ft(((f,p)=>f-p)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let x=r.get(y)||An.empty();x=p.applyToLocalView(_,x),r.set(y,x);const w=(o.get(p.batchId)||Le()).add(y);o=o.insert(p.batchId,w)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,x=y.value,w=Z1();x.forEach((R=>{if(!u.has(R)){const z=ix(n.get(R),r.get(R));z!==null&&w.set(R,z),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,w))}return te.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):te.resolve($r());let p=$l,y=u;return f.next((_=>te.forEach(_,((x,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(x)?te.resolve():this.remoteDocumentCache.getEntry(e,x).next((R=>{y=y.insert(x,R)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,y,_,Le()))).next((x=>({batchId:p,changes:J1(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let o=Pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,u).next((p=>te.forEach(p,(y=>{const _=(function(w,R){return new So(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((x=>{x.forEach(((w,R)=>{f=f.insert(w,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((y,_)=>{const x=_.getKey();f.get(x)===null&&(f=f.insert(x,en.newInvalidDocument(x)))}));let p=Pl();return f.forEach(((y,_)=>{const x=u.get(y);x!==void 0&&Gl(x.mutation,_,An.empty(),ut.now()),Xh(n,_)&&(p=p.insert(y,_))})),p}))}}class TR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ms(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:fR(o.bundledQuery),readTime:Ms(o.readTime)}})(n)),te.resolve()}}class wR{constructor(){this.overlays=new ft(ye.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const o=$r(),u=n.length+1,f=new ye(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ft(((_,x)=>_-x));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let x=u.get(_.largestBatchId);x===null&&(x=$r(),u=u.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const p=$r(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,x)=>p.set(_,x))),!(p.size()>=o)););return te.resolve(p)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new qN(n,r));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class AR{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class jp{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new at([])),r=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new at([])),r=new zt(n,e),o=new zt(n,e+1);let u=Le();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class SR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BN(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new zt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?xp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ue);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let p=new Vt(Ue);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),f),te.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new zt(n,0),o=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class NR{constructor(e){this.ri=e,this.docs=(function(){return new ft(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=mi();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=mi();const f=n.path,p=new ye(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:x}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||tN(eN(x),r)<=0||(o.has(x.key)||Xh(n,x))&&(u=u.insert(x.key,x.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,r,o){xe(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new RR(this)}getSize(e){return te.resolve(this.size)}}class RR extends bR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class CR{constructor(e){this.persistence=e,this.si=new ca((n=>wp(n)),Ap),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class yx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fh(0),this.li=!1,this.li=!0,this.hi=new AR,this.referenceDelegate=e(this),this.Pi=new CR(this),this.indexManager=new dR,this.remoteDocumentCache=(function(o){return new NR(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hR(n),this.Ii=new TR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new SR(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const o=new IR(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class IR extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class Dp{constructor(e){this.persistence=e,this.Ri=new jp,this.Vi=null}static mi(e){return new Dp(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const o=ye.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new ca((r=>aN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=vR(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(r++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kp(e,n.fromCache,r,o)}}class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cw()?8:iN(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new jR;return this.Ss(e,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(no()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(no()<=Pe.DEBUG&&ce("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(no()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Os(n))):te.resolve())}ys(e,n){if(kv(n))return te.resolve(null);let r=Os(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),r=Os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(n,p);return this.Cs(n,_,f,y.readTime)?this.ys(e,Km(n,null,"F")):this.vs(e,_,n,y)}))))})))))}ws(e,n,r,o){return kv(n)||o.isEqual(Te.min())?te.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?te.resolve(null):(no()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(e,f,n,WS(o,$l)).next((p=>p)))}))}Ds(e,n){let r=new Vt(X1(e));return n.forEach(((o,u)=>{Xh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return no()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,or.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Op="LocalStore",kR=3e8;class OR{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Ue),this.xs=new ca((u=>wp(u)),Ap),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ER(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function MR(i,e,n,r){return new OR(i,e,n,r)}async function _x(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let y=Le();for(const _ of o){f.push(_.batchId);for(const x of _.mutations)y=y.add(x.key)}for(const _ of u){p.push(_.batchId);for(const x of _.mutations)y=y.add(x.key)}return n.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:p})))}))}))}function VR(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,x){const w=_.batch,R=w.keys();let z=te.resolve();return R.forEach((ne=>{z=z.next((()=>x.getEntry(y,ne))).next((X=>{const Y=_.docVersions.get(ne);Qe(Y!==null,48541),X.version.compareTo(Y)<0&&(w.applyToRemoteDocument(X,_),X.isValidDocument()&&(X.setReadTime(_.commitVersion),x.addEntry(X)))}))})),z.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Le();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function vx(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function PR(i,e){const n=Se(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((x,w)=>{const R=o.get(w);if(!R)return;p.push(n.Pi.removeMatchingKeys(u,x.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,x.addedDocuments,w))));let z=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?z=z.withResumeToken(Xt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):x.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(x.resumeToken,r)),o=o.insert(w,z),(function(X,Y,se){return X.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=kR?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(R,z,x)&&p.push(n.Pi.updateTargetData(u,z))}));let y=mi(),_=Le();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(UR(u,f,e.documentUpdates).next((x=>{y=x.ks,_=x.qs}))),!r.isEqual(Te.min())){const x=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(x)}return te.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function UR(i,e,n){let r=Le(),o=Le();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let f=mi();return n.forEach(((p,y)=>{const _=u.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(p,y.readTime),f=f.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),f=f.insert(p,y)):ce(Op,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function LR(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zR(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new er(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Jm(i,e,n){const r=Se(i),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;ce(Op,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Kv(i,e,n){const r=Se(i);let o=Te.min(),u=Le();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,_,x){const w=Se(y),R=w.xs.get(x);return R!==void 0?te.resolve(w.Ms.get(R)):w.Pi.getTargetData(_,x)})(r,f,Os(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:Le()))).next((p=>(BR(r,AN(e),p),{documents:p,Qs:u})))))}function BR(i,e,n){let r=i.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class Yv{constructor(){this.activeTargetIds=jN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qR{constructor(){this.Mo=new Yv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Yv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HR{Oo(e){}shutdown(){}}const Qv="ConnectivityMonitor";class Xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Qv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Qv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let eh=null;function Zm(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}const Sm="RestConnection",FR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const f=Zm(),p=this.zo(e,n.toUriEncodedString());ce(Sm,`Sending RPC '${e}' ${f}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:_}=new URL(p),x=oa(_);return this.Jo(e,p,y,r,x).then((w=>(ce(Sm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw fo(Sm,`RPC '${e}' ${f} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,n,r,o,u,f){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=FR[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class KR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class YR extends GR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const f=Zm();return new Promise(((p,y)=>{const _=new E1;_.setWithCredentials(!0),_.listenOnce(T1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case oh.NO_ERROR:const w=_.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),p(w);break;case oh.TIMEOUT:ce(Jt,`RPC '${e}' ${f} timed out`),y(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const R=_.getStatus();if(ce(Jt,`RPC '${e}' ${f} failed with status:`,R,"response text:",_.getResponseText()),R>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const ne=z?.error;if(ne&&ne.status&&ne.message){const X=(function(se){const re=se.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(re)>=0?re:W.UNKNOWN})(ne.status);y(new le(X,ne.message))}else y(new le(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new le(W.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${f} completed.`)}}));const x=JSON.stringify(o);ce(Jt,`RPC '${e}' ${f} sending request:`,o),_.send(n,"POST",x,r,15)}))}T_(e,n,r){const o=Zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=S1(),p=A1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const x=u.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${x}`,y);const w=f.createWebChannel(x,y);this.I_(w);let R=!1,z=!1;const ne=new KR({Yo:Y=>{z?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(R||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),R=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,Y),w.send(Y))},Zo:()=>w.close()}),X=(Y,se,re)=>{Y.listen(se,(oe=>{try{re(oe)}catch(me){setTimeout((()=>{throw me}),0)}}))};return X(w,Vl.EventType.OPEN,(()=>{z||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),ne.o_())})),X(w,Vl.EventType.CLOSE,(()=>{z||(z=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),ne.a_(),this.E_(w))})),X(w,Vl.EventType.ERROR,(Y=>{z||(z=!0,fo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),ne.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),X(w,Vl.EventType.MESSAGE,(Y=>{if(!z){const se=Y.data[0];Qe(!!se,16349);const re=se,oe=re?.error||re[0]?.error;if(oe){ce(Jt,`RPC '${e}' stream ${o} received error:`,oe);const me=oe.status;let Ee=(function(A){const N=It[A];if(N!==void 0)return ax(N)})(me),pe=oe.message;Ee===void 0&&(Ee=W.INTERNAL,pe="Unknown error status: "+me+" with message "+oe.message),z=!0,ne.a_(new le(Ee,pe)),w.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,se),ne.u_(se)}})),X(p,w1.STAT_EVENT,(Y=>{Y.stat===Lm.PROXY?ce(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===Lm.NOPROXY&&ce(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ne.__()}),0),ne}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}function Wh(i){return new JN(i,!0)}class bx{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const $v="PersistentStream";class xx{constructor(e,n,r,o,u,f,p,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce($v,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QR extends xx{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eR(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Ms(f.readTime):Te.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=(function(u,f){let p;const y=f.target;if(p=Fm(y)?{documents:sR(u,y)}:{query:iR(u,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=ux(u,f.resumeToken);const _=Ym(u,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(Te.min())>0){p.readTime=Nh(u,f.snapshotVersion.toTimestamp());const _=Ym(u,f.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=aR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class XR extends xx{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nR(e.writeResults,e.commitTime),r=Ms(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>tR(this.serializer,r)))};this.q_(n)}}class $R{}class JR extends $R{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Qm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Qm(n,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(di(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class WR{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ha(this)&&(ce(ia,"Restarting streams for network reachability change."),await(async function(y){const _=Se(y);_.Ea.add(4),await gu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await ef(_)})(this))}))})),this.Ra=new ZR(r,o)}}async function ef(i){if(ha(i))for(const e of i.da)await e(!0)}async function gu(i){for(const e of i.da)await e(!1)}function Ex(i,e){const n=Se(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Up(n)?Pp(n):No(n).O_()&&Vp(n,e))}function Mp(i,e){const n=Se(i),r=No(n);n.Ia.delete(e),r.O_()&&Tx(n,e),n.Ia.size===0&&(r.O_()?r.L_():ha(n)&&n.Ra.set("Unknown"))}function Vp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(i).Y_(e)}function Tx(i,e){i.Va.Ue(e),No(i).Z_(e)}function Pp(i){i.Va=new YN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),No(i).start(),i.Ra.ua()}function Up(i){return ha(i)&&!No(i).x_()&&i.Ia.size>0}function ha(i){return Se(i).Ea.size===0}function wx(i){i.Va=void 0}async function eC(i){i.Ra.set("Online")}async function tC(i){i.Ia.forEach(((e,n)=>{Vp(i,e)}))}async function nC(i,e){wx(i),Up(i)?(i.Ra.ha(e),Pp(i)):i.Ra.set("Unknown")}async function sC(i,e,n){if(i.Ra.set("Online"),e instanceof lx&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){ce(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ch(i,r)}else if(e instanceof hh?i.Va.Ze(e):e instanceof ox?i.Va.st(e):i.Va.tt(e),!n.isEqual(Te.min()))try{const r=await vx(i.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const x=u.Ia.get(_);x&&u.Ia.set(_,x.withResumeToken(y.resumeToken,f))}})),p.targetMismatches.forEach(((y,_)=>{const x=u.Ia.get(y);if(!x)return;u.Ia.set(y,x.withResumeToken(Xt.EMPTY_BYTE_STRING,x.snapshotVersion)),Tx(u,y);const w=new er(x.target,y,_,x.sequenceNumber);Vp(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){ce(ia,"Failed to raise snapshot:",r),await Ch(i,r)}}async function Ch(i,e,n){if(!Ao(e))throw e;i.Ea.add(1),await gu(i),i.Ra.set("Offline"),n||(n=()=>vx(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(ia,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await ef(i)}))}function Ax(i,e){return e().catch((n=>Ch(i,n,e)))}async function tf(i){const e=Se(i),n=hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;iC(e);)try{const o=await LR(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,rC(e,o)}catch(o){await Ch(e,o)}Sx(e)&&Nx(e)}function iC(i){return ha(i)&&i.Ta.length<10}function rC(i,e){i.Ta.push(e);const n=hr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Sx(i){return ha(i)&&!hr(i).x_()&&i.Ta.length>0}function Nx(i){hr(i).start()}async function aC(i){hr(i).ra()}async function oC(i){const e=hr(i);for(const n of i.Ta)e.ea(n.mutations)}async function lC(i,e,n){const r=i.Ta.shift(),o=Rp.from(r,e,n);await Ax(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await tf(i)}async function uC(i,e){e&&hr(i).X_&&await(async function(r,o){if((function(f){return FN(f)&&f!==W.ABORTED})(o.code)){const u=r.Ta.shift();hr(r).B_(),await Ax(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(r)}})(i,e),Sx(i)&&Nx(i)}async function Jv(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ce(ia,"RemoteStore received new credentials");const r=ha(n);n.Ea.add(3),await gu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function cC(i,e){const n=Se(i);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function No(i){return i.ma||(i.ma=(function(n,r,o){const u=Se(n);return u.sa(),new QR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:eC.bind(null,i),t_:tC.bind(null,i),r_:nC.bind(null,i),H_:sC.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Up(i)?Pp(i):i.Ra.set("Unknown")):(await i.ma.stop(),wx(i))}))),i.ma}function hr(i){return i.fa||(i.fa=(function(n,r,o){const u=Se(n);return u.sa(),new XR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:aC.bind(null,i),r_:uC.bind(null,i),ta:oC.bind(null,i),na:lC.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await tf(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(ia,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Lp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,p=new Lp(e,n,f,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(i,e){if(di("AsyncQueue",`${e}: ${i}`),Ao(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Zv{constructor(){this.ga=new ft(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _o{constructor(e,n,r,o,u,f,p,y,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new _o(e,n,co.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class hC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fC{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Se(n),u=o.queries;o.queries=Wv(),u.forEach(((f,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function Wv(){return new ca((i=>Q1(i)),Qh)}async function Bp(i,e){const n=Se(i);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new hC,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=zp(f,`Initialization of query '${so(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Hp(n)}async function qp(i,e){const n=Se(i),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dC(i,e){const n=Se(i);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&Hp(n)}function mC(i,e,n){const r=Se(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Hp(i){i.Ca.forEach((e=>{e.next()}))}var Wm,eb;(eb=Wm||(Wm={})).Ma="default",eb.Cache="cache";class Fp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}class Rx{constructor(e){this.key=e}}class Cx{constructor(e){this.key=e}}class pC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=X1(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Zv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,w)=>{const R=o.get(x),z=Xh(this.query,w)?w:null,ne=!!R&&this.mutatedKeys.has(R.key),X=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Y=!1;R&&z?R.data.isEqual(z.data)?ne!==X&&(r.track({type:3,doc:z}),Y=!0):this.su(R,z)||(r.track({type:2,doc:z}),Y=!0,(y&&this.eu(z,y)>0||_&&this.eu(z,_)<0)&&(p=!0)):!R&&z?(r.track({type:0,doc:z}),Y=!0):R&&!z&&(r.track({type:1,doc:R}),Y=!0,(y||_)&&(p=!0)),Y&&(z?(f=f.add(z),u=X?u.add(x):u.delete(x)):(f=f.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const x=this.query.limitType==="F"?f.last():f.first();f=f.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((x,w)=>(function(z,ne){const X=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:Y})}};return X(z)-X(ne)})(x.type,w.type)||this.eu(x.doc,w.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Cx(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Rx(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gp="SyncEngine";class gC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yC{constructor(e){this.key=e,this.hu=!1}}class _C{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ca((p=>Q1(p)),Qh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ye.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vC(i,e,n=!0){const r=Mx(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Ix(r,e,n,!0),o}async function bC(i,e){const n=Mx(i);await Ix(n,e,!0,!1)}async function Ix(i,e,n,r){const o=await zR(i.localStore,Os(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await xC(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ex(i.remoteStore,o),p}async function xC(i,e,n,r,o){i.pu=(w,R,z)=>(async function(X,Y,se,re){let oe=Y.view.ru(se);oe.Cs&&(oe=await Kv(X.localStore,Y.query,!1).then((({documents:C})=>Y.view.ru(C,oe))));const me=re&&re.targetChanges.get(Y.targetId),Ee=re&&re.targetMismatches.get(Y.targetId)!=null,pe=Y.view.applyChanges(oe,X.isPrimaryClient,me,Ee);return nb(X,Y.targetId,pe.au),pe.snapshot})(i,w,R,z);const u=await Kv(i.localStore,e,!0),f=new pC(e,u.Qs),p=f.ru(u.documents),y=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),_=f.applyChanges(p,i.isPrimaryClient,y);nb(i,n,_.au);const x=new gC(e,n,f);return i.Tu.set(e,x),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),_.snapshot}async function EC(i,e,n){const r=Se(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Qh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Mp(r.remoteStore,o.targetId),ep(r,o.targetId)})).catch(wo)):(ep(r,o.targetId),await Jm(r.localStore,o.targetId,!0))}async function TC(i,e){const n=Se(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mp(n.remoteStore,r.targetId))}async function wC(i,e,n){const r=jC(i);try{const o=await(function(f,p){const y=Se(f),_=ut.now(),x=p.reduce(((z,ne)=>z.add(ne.key)),Le());let w,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let ne=mi(),X=Le();return y.Ns.getEntries(z,x).next((Y=>{ne=Y,ne.forEach(((se,re)=>{re.isValidDocument()||(X=X.add(se))}))})).next((()=>y.localDocuments.getOverlayedDocuments(z,ne))).next((Y=>{w=Y;const se=[];for(const re of p){const oe=LN(re,w.get(re.key).overlayedDocument);oe!=null&&se.push(new pr(re.key,oe,z1(oe.value.mapValue),Bn.exists(!0)))}return y.mutationQueue.addMutationBatch(z,_,se,p)})).next((Y=>{R=Y;const se=Y.applyToLocalDocumentSet(w,X);return y.documentOverlayCache.saveOverlays(z,Y.batchId,se)}))})).then((()=>({batchId:R.batchId,changes:J1(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,y){let _=f.Vu[f.currentUser.toKey()];_||(_=new ft(Ue)),_=_.insert(p,y),f.Vu[f.currentUser.toKey()]=_})(r,o.batchId,n),await yu(r,o.changes),await tf(r.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function jx(i,e){const n=Se(i);try{const r=await PR(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await yu(n,r,e)}catch(r){await wo(r)}}function tb(i,e,n){const r=Se(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const y=Se(f);y.onlineState=p;let _=!1;y.queries.forEach(((x,w)=>{for(const R of w.Sa)R.va(p)&&(_=!0)})),_&&Hp(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AC(i,e,n){const r=Se(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ft(ye.comparator);f=f.insert(u,en.newNoDocument(u,Te.min()));const p=Le().add(u),y=new Zh(Te.min(),new Map,new ft(Ue),f,p);await jx(r,y),r.du=r.du.remove(u),r.Au.delete(e),Kp(r)}else await Jm(r.localStore,e,!1).then((()=>ep(r,e,n))).catch(wo)}async function SC(i,e){const n=Se(i),r=e.batch.batchId;try{const o=await VR(n.localStore,e);kx(n,r,null),Dx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yu(n,o)}catch(o){await wo(o)}}async function NC(i,e,n){const r=Se(i);try{const o=await(function(f,p){const y=Se(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Qe(w!==null,37113),x=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,x,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>y.localDocuments.getDocuments(_,x)))}))})(r.localStore,e);kx(r,e,n),Dx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yu(r,o)}catch(o){await wo(o)}}function Dx(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function kx(i,e,n){const r=Se(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function ep(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||Ox(i,r)}))}function Ox(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Mp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Kp(i))}function nb(i,e,n){for(const r of n)r instanceof Rx?(i.Ru.addReference(r.key,e),RC(i,r)):r instanceof Cx?(ce(Gp,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||Ox(i,r.key)):xe(19791,{wu:r})}function RC(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ce(Gp,"New document in limbo: "+n),i.Eu.add(r),Kp(i))}function Kp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(at.fromString(e)),r=i.fu.next();i.Au.set(r,new yC(n)),i.du=i.du.insert(n,r),Ex(i.remoteStore,new er(Os(Yh(n.path)),r,"TargetPurposeLimboResolution",Fh.ce))}}async function yu(i,e,n){const r=Se(i),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{f.push(r.pu(y,e,n).then((_=>{if((_||n)&&r.isPrimaryClient){const x=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(_){o.push(_);const x=kp.As(y.targetId,_);u.push(x)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,_){const x=Se(y);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>te.forEach(_,(R=>te.forEach(R.Es,(z=>x.persistence.referenceDelegate.addReference(w,R.targetId,z))).next((()=>te.forEach(R.ds,(z=>x.persistence.referenceDelegate.removeReference(w,R.targetId,z)))))))))}catch(w){if(!Ao(w))throw w;ce(Op,"Failed to update sequence numbers: "+w)}for(const w of _){const R=w.targetId;if(!w.fromCache){const z=x.Ms.get(R),ne=z.snapshotVersion,X=z.withLastLimboFreeSnapshotVersion(ne);x.Ms=x.Ms.insert(R,X)}}})(r.localStore,u))}async function CC(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ce(Gp,"User change. New user:",e.toKey());const r=await _x(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(n,r.Ls)}}function IC(i,e){const n=Se(i),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Mx(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.Pu.H_=dC.bind(null,e.eventManager),e.Pu.yu=mC.bind(null,e.eventManager),e}function jC(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MR(this.persistence,new DR,e.initialUser,this.serializer)}Cu(e){return new yx(Dp.mi,this.serializer)}Du(e){return new qR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class DC extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new yx((r=>Rh.mi(r,n)),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CC.bind(null,this.syncEngine),await cC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fC})()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),r=(function(u){return new YR(u)})(e.databaseInfo);return(function(u,f,p,y){return new JR(u,f,p,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,p){return new WR(r,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>tb(this.syncEngine,n,0)),(function(){return Xv.v()?new Xv:new HR})())}createSyncEngine(e,n){return(function(o,u,f,p,y,_,x){const w=new _C(o,u,f,p,y,_);return x&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Se(n);ce(ia,"RemoteStore shutting down."),r.Ea.add(5),await gu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tp.provider={build:()=>new tp};class Yp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fr="FirestoreClient";class kC{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ce(fr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ce(fr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Rm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(fr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await _x(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function sb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await OC(i);ce(fr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>Jv(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>Jv(e.remoteStore,o))),i._onlineComponents=e}async function OC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(fr,"Using user provided OfflineComponentProvider");try{await Rm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Rm(i,new Ih)}}else ce(fr,"Using default OfflineComponentProvider"),await Rm(i,new DC(void 0));return i._offlineComponents}async function Vx(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(fr,"Using user provided OnlineComponentProvider"),await sb(i,i._uninitializedComponentsProvider._online)):(ce(fr,"Using default OnlineComponentProvider"),await sb(i,new tp))),i._onlineComponents}function MC(i){return Vx(i).then((e=>e.syncEngine))}async function jh(i){const e=await Vx(i),n=e.eventManager;return n.onListen=vC.bind(null,e.syncEngine),n.onUnlisten=EC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TC.bind(null,e.syncEngine),n}function VC(i,e,n={}){const r=new ci;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,y,_){const x=new Yp({next:R=>{x.Nu(),f.enqueueAndForget((()=>qp(u,w)));const z=R.docs.has(p);!z&&R.fromCache?_.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&R.fromCache&&y&&y.source==="server"?_.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),w=new Fp(Yh(p.path),x,{includeMetadataChanges:!0,qa:!0});return Bp(u,w)})(await jh(i),i.asyncQueue,e,n,r))),r.promise}function PC(i,e,n={}){const r=new ci;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,y,_){const x=new Yp({next:R=>{x.Nu(),f.enqueueAndForget((()=>qp(u,w))),R.fromCache&&y.source==="server"?_.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),w=new Fp(p,x,{includeMetadataChanges:!0,qa:!0});return Bp(u,w)})(await jh(i),i.asyncQueue,e,n,r))),r.promise}function Px(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const ib=new Map;const Ux="firestore.googleapis.com",rb=!0;class ab{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ux,this.ssl=rb}else this.host=e.host,this.ssl=e.ssl??rb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pR)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Px(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ab(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qS;switch(r.type){case"firstParty":return new KS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ib.get(n);r&&(ce("ComponentProvider","Removing Datastore"),ib.delete(n),r.terminate())})(this),Promise.resolve()}}function UC(i,e,n,r={}){i=pn(i,nf);const o=oa(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(ap(`https://${p}`),op("Firestore",!0)),u.host!==Ux&&u.host!==p&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:o,emulatorOptions:r};if(!ea(y,f)&&(i._setSettings(y),r.mockUserToken)){let _,x;if(typeof r.mockUserToken=="string")_=r.mockUserToken,x=Wt.MOCK_USER;else{_=Vb(r.mockUserToken,i._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Wt(w)}i._authCredentials=new HS(new R1(_,x))}}class gr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gr(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(du(n,pt._jsonSchema))return new pt(e,r||null,new ye(at.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Dt("string",pt._jsonSchemaVersion),referencePath:Dt("string")};class rr extends gr{constructor(e,n,r){super(e,n,Yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ye(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function ss(i,e,...n){if(i=kt(i),C1("collection","path",e),i instanceof nf){const r=at.fromString(e,...n);return vv(r),new rr(i,null,r)}{if(!(i instanceof pt||i instanceof rr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(e,...n));return vv(r),new rr(i.firestore,null,r)}}function Zt(i,e,...n){if(i=kt(i),arguments.length===1&&(e=bp.newId()),C1("doc","path",e),i instanceof nf){const r=at.fromString(e,...n);return _v(r),new pt(i,null,new ye(r))}{if(!(i instanceof pt||i instanceof rr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(e,...n));return _v(r),new pt(i.firestore,i instanceof rr?i.converter:null,new ye(r))}}const ob="AsyncQueue";class lb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bx(this,"async_queue_retry"),this._c=()=>{const r=Nm();r&&ce(ob,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ci;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;ce(ob,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,di("INTERNAL UNHANDLED ERROR: ",ub(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Lp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:ub(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ub(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function cb(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class pi extends nf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new lb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lb(e),this._firestoreClient=void 0,await e}}}function LC(i,e){const n=typeof i=="object"?i:cp(),r=typeof i=="string"?i:Th,o=Uh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=kb("firestore");u&&UC(o,...u)}return o}function sf(i){if(i._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||zC(i),i._firestoreClient}function zC(i){const e=i._freezeSettings(),n=(function(o,u,f,p){return new uN(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Px(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new kC(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Dt("string",zn._jsonSchemaVersion),bytes:Dt("string")};class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class af{constructor(e){this._methodName=e}}class Vs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vs._jsonSchemaVersion}}static fromJSON(e){if(du(e,Vs._jsonSchema))return new Vs(e.latitude,e.longitude)}}Vs._jsonSchemaVersion="firestore/geoPoint/1.0",Vs._jsonSchema={type:Dt("string",Vs._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,Ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ps(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ps._jsonSchemaVersion="firestore/vectorValue/1.0",Ps._jsonSchema={type:Dt("string",Ps._jsonSchemaVersion),vectorValues:Dt("object")};const BC=/^__.*__$/;class qC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class Lx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:i})}}class Qp{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zx(this.Ac)&&BC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wh(e)}Cc(e,n,r,o=!1){return new Qp({Ac:e,methodName:n,Dc:r,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function of(i){const e=i._freezeSettings(),n=Wh(i._databaseId);return new HC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Bx(i,e,n,r,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);$p("Data must be an object, but it was:",f,r);const p=qx(r,f);let y,_;if(u.merge)y=new An(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const x=[];for(const w of u.mergeFields){const R=np(e,w,n);if(!f.contains(R))throw new le(W.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Fx(x,R)||x.push(R)}y=new An(x),_=f.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=f.fieldTransforms;return new qC(new mn(p),y,_)}class lf extends af{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}class Xp extends af{_toFieldTransform(e){return new MN(e.path,new tu)}isEqual(e){return e instanceof Xp}}function FC(i,e,n,r){const o=i.Cc(1,e,n);$p("Data must be an object, but it was:",o,r);const u=[],f=mn.empty();mr(r,((y,_)=>{const x=Jp(e,y,n);_=kt(_);const w=o.yc(x);if(_ instanceof lf)u.push(x);else{const R=_u(_,w);R!=null&&(u.push(x),f.set(x,R))}}));const p=new An(u);return new Lx(f,p,o.fieldTransforms)}function GC(i,e,n,r,o,u){const f=i.Cc(1,e,n),p=[np(e,r,n)],y=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(np(e,u[R])),y.push(u[R+1]);const _=[],x=mn.empty();for(let R=p.length-1;R>=0;--R)if(!Fx(_,p[R])){const z=p[R];let ne=y[R];ne=kt(ne);const X=f.yc(z);if(ne instanceof lf)_.push(z);else{const Y=_u(ne,X);Y!=null&&(_.push(z),x.set(z,Y))}}const w=new An(_);return new Lx(x,w,f.fieldTransforms)}function KC(i,e,n,r=!1){return _u(n,i.Cc(r?4:3,e))}function _u(i,e){if(Hx(i=kt(i)))return $p("Unsupported field value:",e,i),qx(i,e);if(i instanceof af)return(function(r,o){if(!zx(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let y=_u(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ut.fromDate(r);return{timestampValue:Nh(o.serializer,u)}}if(r instanceof ut){const u=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(r instanceof Vs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:ux(o.serializer,r._byteString)};if(r instanceof pt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ip(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ps)return(function(f,p){return{mapValue:{fields:{[U1]:{stringValue:L1},[wh]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Sp(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Hh(r)}`)})(i,e)}function qx(i,e){const n={};return D1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(i,((r,o)=>{const u=_u(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Hx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ut||i instanceof Vs||i instanceof zn||i instanceof pt||i instanceof af||i instanceof Ps)}function $p(i,e,n){if(!Hx(n)||!I1(n)){const r=Hh(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function np(i,e,n){if((e=kt(e))instanceof rf)return e._internalPath;if(typeof e=="string")return Jp(i,e);throw Dh("Field path arguments must be of type string or ",i,!1,void 0,n)}const YC=new RegExp("[~\\*/\\[\\]]");function Jp(i,e,n){if(e.search(YC)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Dh(i,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new le(W.INVALID_ARGUMENT,p+i+y)}function Fx(i,e){return i.some((n=>n.isEqual(e)))}class Gx{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QC extends Gx{data(){return super.data()}}function uf(i,e){return typeof e=="string"?Jp(i,e):e instanceof rf?e._internalPath:e._delegate._internalPath}function Kx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class Yx extends Zp{}function vo(i,e,...n){let r=[];e instanceof Zp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((y=>y instanceof Wp)).length,p=u.filter((y=>y instanceof cf)).length;if(f>1||f>0&&p>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class cf extends Yx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cf(e,n,r)}_apply(e){const n=this._parse(e);return Qx(e._query,n),new gr(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=of(e.firestore);return(function(u,f,p,y,_,x,w){let R;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){db(w,x);const ne=[];for(const X of w)ne.push(fb(y,u,X));R={arrayValue:{values:ne}}}else R=fb(y,u,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||db(w,x),R=KC(p,f,w,x==="in"||x==="not-in");return jt.create(_,x,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hb(i,e,n){const r=e,o=uf("where",i);return cf._create(o,r,n)}class Wp extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:rs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const y of p)Qx(f,y),f=Gm(f,y)})(e._query,n),new gr(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends Yx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(u,f)})(e._query,this._field,this._direction);return new gr(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new So(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function hf(i,e="asc"){const n=e,r=uf("orderBy",i);return eg._create(r,n)}function fb(i,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y1(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!ye.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nv(i,new ye(r))}if(n instanceof pt)return Nv(i,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function db(i,e){if(!Array.isArray(i)||i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qx(i,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XC{convertValue(e,n="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[wh].arrayValue?.values?.map((r=>bt(r.doubleValue)));return new Ps(n)}convertGeoPoint(e){return new Vs(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=lr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Qe(px(r),9688,{name:e});const o=new Zl(r.get(1),r.get(3)),u=new ye(r.popFirst(5));return o.isEqual(n)||di(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Xx(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zr extends Gx{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Dt("string",Zr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class fh extends Zr{data(e={}){return super.data(e)}}class Wr{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new fh(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const y=new fh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ll(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new fh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ll(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,x=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),x=f.indexOf(p.doc.key)),{type:$C(p.type),doc:y,oldIndex:_,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $C(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}function JC(i){i=pn(i,pt);const e=pn(i.firestore,pi);return VC(sf(e),i._key).then((n=>Jx(e,i,n)))}Wr._jsonSchemaVersion="firestore/querySnapshot/1.0",Wr._jsonSchema={type:Dt("string",Wr._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class tg extends XC{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function mb(i){i=pn(i,gr);const e=pn(i.firestore,pi),n=sf(e),r=new tg(e);return Kx(i._query),PC(n,i._query).then((o=>new Wr(e,r,i,o)))}function dh(i,e,n){i=pn(i,pt);const r=pn(i.firestore,pi),o=Xx(i.converter,e);return ff(r,[Bx(of(r),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Bn.none())])}function $x(i,e,n,...r){i=pn(i,pt);const o=pn(i.firestore,pi),u=of(o);let f;return f=typeof(e=kt(e))=="string"||e instanceof rf?GC(u,"updateDoc",i._key,e,n,r):FC(u,"updateDoc",i._key,e),ff(o,[f.toMutation(i._key,Bn.exists(!0))])}function Jr(i){return ff(pn(i.firestore,pi),[new Np(i._key,Bn.none())])}function iu(i,e){const n=pn(i.firestore,pi),r=Zt(i),o=Xx(i.converter,e);return ff(n,[Bx(of(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then((()=>r))}function ru(i,...e){i=kt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||cb(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cb(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let u,f,p;if(i instanceof pt)f=pn(i.firestore,pi),p=Yh(i._key.path),u={next:y=>{e[r]&&e[r](Jx(f,i,y))},error:e[r+1],complete:e[r+2]};else{const y=pn(i,gr);f=pn(y.firestore,pi),p=y._query;const _=new tg(f);u={next:x=>{e[r]&&e[r](new Wr(f,_,y,x))},error:e[r+1],complete:e[r+2]},Kx(i._query)}return(function(_,x,w,R){const z=new Yp(R),ne=new Fp(x,z,w);return _.asyncQueue.enqueueAndForget((async()=>Bp(await jh(_),ne))),()=>{z.Nu(),_.asyncQueue.enqueueAndForget((async()=>qp(await jh(_),ne)))}})(sf(f),p,o,u)}function ff(i,e){return(function(r,o){const u=new ci;return r.asyncQueue.enqueueAndForget((async()=>wC(await MC(r),o,u))),u.promise})(sf(i),e)}function Jx(i,e,n){const r=n.docs.get(e._key),o=new tg(i);return new Zr(i,o,e._key,r,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}function oi(){return new Xp("serverTimestamp")}(function(e,n=!0){(function(o){To=o})(la),ta(new ar("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new pi(new FS(r.getProvider("auth-internal")),new YS(f,r.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(_.options.projectId,x)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),js(mv,pv,e),js(mv,pv,"esm2020")})();const Zx="firebasestorage.googleapis.com",ZC="storageBucket",WC=120*1e3,eI=600*1e3;class Bs extends zs{constructor(e,n,r=0){super(Cm(e),`Firebase Storage: ${n} (${Cm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ls;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ls||(Ls={}));function Cm(i){return"storage/"+i}function tI(){const i="An unknown error occurred, please check the error payload for server response.";return new Bs(Ls.UNKNOWN,i)}function nI(){return new Bs(Ls.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sI(){return new Bs(Ls.CANCELED,"User canceled the upload/download.")}function iI(i){return new Bs(Ls.INVALID_URL,"Invalid URL '"+i+"'.")}function rI(i){return new Bs(Ls.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function pb(i){return new Bs(Ls.INVALID_ARGUMENT,i)}function Wx(){return new Bs(Ls.APP_DELETED,"The Firebase app was deleted.")}function aI(i){return new Bs(Ls.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ns.makeFromUrl(e,n)}catch{return new ns(e,"")}if(r.path==="")return r;throw rI(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function _(me){me.path_=decodeURIComponent(me.path)}const x="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",z=new RegExp(`^https?://${w}/${x}/b/${o}/o${R}`,"i"),ne={bucket:1,path:3},X=n===Zx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Y="([^?#]*)",se=new RegExp(`^https?://${X}/${o}/${Y}`,"i"),oe=[{regex:p,indices:y,postModify:u},{regex:z,indices:ne,postModify:_},{regex:se,indices:{bucket:1,path:2},postModify:_}];for(let me=0;me<oe.length;me++){const Ee=oe[me],pe=Ee.regex.exec(e);if(pe){const C=pe[Ee.indices.bucket];let A=pe[Ee.indices.path];A||(A=""),r=new ns(C,A),Ee.postModify(r);break}}if(r==null)throw iI(e);return r}}class oI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function lI(i,e,n){let r=1,o=null,u=null,f=!1,p=0;function y(){return p===2}let _=!1;function x(...Y){_||(_=!0,e.apply(null,Y))}function w(Y){o=setTimeout(()=>{o=null,i(z,y())},Y)}function R(){u&&clearTimeout(u)}function z(Y,...se){if(_){R();return}if(Y){R(),x.call(null,Y,...se);return}if(y()||f){R(),x.call(null,Y,...se);return}r<64&&(r*=2);let oe;p===1?(p=2,oe=0):oe=(r+Math.random())*1e3,w(oe)}let ne=!1;function X(Y){ne||(ne=!0,R(),!_&&(o!==null?(Y||(p=2),clearTimeout(o),w(0)):Y||(p=1)))}return w(0),u=setTimeout(()=>{f=!0,X(!0)},n),X}function uI(i){i(!1)}function cI(i){return i!==void 0}function gb(i,e,n,r){if(r<e)throw pb(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw pb(`Invalid value for '${i}'. Expected ${n} or less.`)}function hI(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var kh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(kh||(kh={}));function fI(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class dI{constructor(e,n,r,o,u,f,p,y,_,x,w,R=!0,z=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=y,this.timeout_=_,this.progressCallback_=x,this.connectionFactory_=w,this.retry=R,this.isUsingEmulator=z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ne,X)=>{this.resolve_=ne,this.reject_=X,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const y=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,_)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===kh.NO_ERROR,y=u.getStatus();if(!p||fI(y,this.additionalRetryCodes_)&&this.retry){const x=u.getErrorCode()===kh.ABORT;r(!1,new th(!1,null,x));return}const _=this.successCodes_.indexOf(y)!==-1;r(!0,new th(_,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());cI(y)?u(y):u()}catch(y){f(y)}else if(p!==null){const y=tI();y.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,y)):f(y)}else if(o.canceled){const y=this.appDelete_?Wx():sI();f(y)}else{const y=nI();f(y)}};this.canceled_?n(!1,new th(!1,null,!0)):this.backoffId_=lI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function mI(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function pI(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gI(i,e){e&&(i["X-Firebase-GMPID"]=e)}function yI(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function _I(i,e,n,r,o,u,f=!0,p=!1){const y=hI(i.urlParams),_=i.url+y,x=Object.assign({},i.headers);return gI(x,e),mI(x,n),pI(x,u),yI(x,r),new dI(_,i.method,x,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,p)}function vI(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function bI(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class Oh{constructor(e,n){this._service=e,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oh(e,n)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bI(this._location.path)}get storage(){return this._service}get parent(){const e=vI(this._location.path);if(e===null)return null;const n=new ns(this._location.bucket,e);return new Oh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw aI(e)}}function yb(i,e){const n=e?.[ZC];return n==null?null:ns.makeFromBucketSpec(n,i)}function xI(i,e,n,r={}){i.host=`${e}:${n}`;const o=oa(e);o&&(ap(`https://${i.host}/b`),op("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:Vb(u,i.app.options.projectId))}class EI{constructor(e,n,r,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=Zx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WC,this._maxUploadRetryTime=eI,this._requests=new Set,o!=null?this._bucket=ns.makeFromBucketSpec(o,this._host):this._bucket=yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oh(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new oI(Wx());{const f=_I(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const _b="@firebase/storage",vb="0.14.0";const eE="storage";function TI(i=cp(),e){i=kt(i);const r=Uh(i,eE).getImmediate({identifier:e}),o=kb("storage");return o&&wI(r,...o),r}function wI(i,e,n,r={}){xI(i,e,n,r)}function AI(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new EI(n,r,o,e,la)}function SI(){ta(new ar(eE,AI,"PUBLIC").setMultipleInstances(!0)),js(_b,vb,""),js(_b,vb,"esm2020")}SI();var NI="firebase",RI="12.6.0";js(NI,RI,"app");const CI={apiKey:"AIzaSyDemPUzs4rmAUHe3QL0JQDUIh5wQAnd0o0",authDomain:"love-website-c4020.firebaseapp.com",projectId:"love-website-c4020",storageBucket:"love-website-c4020.firebasestorage.app",messagingSenderId:"680149879754",appId:"1:680149879754:web:5b4da756798edbc3e7dd33"},ng=Lb(CI),Is=zS(ng),rt=LC(ng);TI(ng);const II=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jI=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),bb=i=>{const e=jI(i);return e.charAt(0).toUpperCase()+e.slice(1)},tE=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),DI=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var kI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OI=Z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...p},y)=>Z.createElement("svg",{ref:y,...kI,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:tE("lucide",o),...!u&&!DI(p)&&{"aria-hidden":"true"},...p},[...f.map(([_,x])=>Z.createElement(_,x)),...Array.isArray(u)?u:[u]]));const He=(i,e)=>{const n=Z.forwardRef(({className:r,...o},u)=>Z.createElement(OI,{ref:u,iconNode:e,className:tE(`lucide-${II(bb(i))}`,`lucide-${i}`,r),...o}));return n.displayName=bb(i),n};const MI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sg=He("arrow-right",MI);const VI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],PI=He("calendar",VI);const UI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nE=He("check",UI);const LI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sE=He("chevron-down",LI);const zI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],au=He("chevron-left",zI);const BI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ou=He("chevron-right",BI);const qI=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],HI=He("cloud-lightning",qI);const FI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GI=He("eye",FI);const KI=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YI=He("funnel",KI);const QI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],as=He("heart",QI);const XI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xb=He("house",XI);const $I=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ra=He("image",$I);const JI=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],ZI=He("key-round",JI);const WI=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],e4=He("list-music",WI);const t4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bo=He("lock",t4);const n4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],s4=He("mail",n4);const i4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],r4=He("map",i4);const a4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],o4=He("menu",a4);const l4=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],u4=He("music",l4);const c4=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Mh=He("pause",c4);const h4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],aa=He("play",h4);const f4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],d4=He("plus",f4);const m4=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],p4=He("repeat",m4);const g4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vu=He("rotate-ccw",g4);const y4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Eb=He("search",y4);const _4=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],iE=He("shuffle",_4);const v4=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],b4=He("skip-back",v4);const x4=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Tb=He("skip-forward",x4);const E4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sp=He("star",E4);const T4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ig=He("trash-2",T4);const w4=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],Kl=He("tv",w4);const A4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rE=He("upload",A4);const S4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ip=He("user",S4);const N4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qn=He("x",N4),nh="https://api.jikan.moe/v4";let wb=0;const Ab=async i=>{const n=Date.now()-wb;n<350&&await new Promise(o=>setTimeout(o,350-n)),wb=Date.now();const r=await fetch(i);if(!r.ok)throw new Error(`Jikan API error: ${r.status}`);return r.json()},Sb=({anime:i,watchStatus:e,onStatusChange:n})=>{const[r,o]=Z.useState(!1),[u,f]=Z.useState(!1),p={watched:{label:"Watched",color:"from-emerald-500 to-green-600",icon:d.jsx(nE,{size:12}),glow:"shadow-emerald-500/40"},resuming:{label:"Resuming",color:"from-amber-500 to-yellow-600",icon:d.jsx(aa,{size:12}),glow:"shadow-amber-500/40"},not_watched:{label:"Not Watched",color:"from-gray-500 to-gray-600",icon:d.jsx(GI,{size:12}),glow:""}},y=p[e]||p.not_watched;return d.jsxs(d.Fragment,{children:[d.jsxs("div",{onClick:()=>o(!0),className:"group relative rounded-2xl overflow-hidden cursor-pointer transition-all duration-500 hover:scale-[1.03] hover:shadow-2xl hover:shadow-purple-500/20",style:{background:"linear-gradient(145deg, rgba(30,20,50,0.9), rgba(15,10,30,0.95))"},children:[d.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden",children:[!u&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/50 to-indigo-900/50 animate-pulse"}),d.jsx("img",{src:i.images?.jpg?.large_image_url||i.images?.jpg?.image_url,alt:i.title,className:`w-full h-full object-cover transition-all duration-700 group-hover:scale-110 ${u?"opacity-100":"opacity-0"}`,loading:"lazy",onLoad:()=>f(!0)}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent"}),i.score&&d.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-1 px-2 py-1 rounded-full bg-black/60 backdrop-blur-sm border border-yellow-500/30",children:[d.jsx(sp,{size:12,className:"text-yellow-400 fill-yellow-400"}),d.jsx("span",{className:"text-yellow-400 text-xs font-bold",children:i.score})]}),e&&e!=="not_watched"&&d.jsxs("div",{className:`absolute top-2 left-2 flex items-center gap-1 px-2 py-1 rounded-full bg-gradient-to-r ${y.color} text-white text-[10px] font-bold shadow-lg ${y.glow}`,children:[y.icon,y.label]})]}),d.jsxs("div",{className:"p-3 space-y-1",children:[d.jsx("h3",{className:"text-white font-semibold text-sm line-clamp-2 leading-tight group-hover:text-purple-300 transition-colors",children:i.title}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-400",children:[i.episodes&&d.jsxs("span",{children:[i.episodes," eps"]}),i.type&&d.jsx("span",{className:"px-1.5 py-0.5 rounded bg-purple-500/20 text-purple-300",children:i.type})]}),i.genres?.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.genres.slice(0,2).map(_=>d.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-indigo-500/20 text-indigo-300 border border-indigo-500/20",children:_.name},_.mal_id))})]}),d.jsx("div",{className:"absolute inset-0 rounded-2xl border border-purple-500/0 group-hover:border-purple-500/40 transition-all duration-500 pointer-events-none"})]}),r&&d.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",onClick:()=>o(!1),children:[d.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),d.jsxs("div",{className:"relative w-full max-w-lg max-h-[90vh] overflow-y-auto rounded-3xl border border-purple-500/30 p-0",style:{background:"linear-gradient(145deg, #1a1030, #0f0a1e)"},onClick:_=>_.stopPropagation(),children:[d.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-black/50 text-white hover:bg-purple-600 transition-colors",children:d.jsx(qn,{size:20})}),d.jsxs("div",{className:"relative h-64 overflow-hidden rounded-t-3xl",children:[d.jsx("img",{src:i.images?.jpg?.large_image_url||i.images?.jpg?.image_url,alt:i.title,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#1a1030] via-transparent to-transparent"})]}),d.jsxs("div",{className:"p-6 space-y-4 -mt-12 relative",children:[d.jsx("h2",{className:"text-2xl font-bold text-white leading-tight",children:i.title}),i.title_japanese&&d.jsx("p",{className:"text-purple-300/70 text-sm",children:i.title_japanese}),d.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[i.score&&d.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-full bg-yellow-500/10 border border-yellow-500/30",children:[d.jsx(sp,{size:14,className:"text-yellow-400 fill-yellow-400"}),d.jsx("span",{className:"text-yellow-400 font-bold",children:i.score})]}),i.episodes&&d.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-full bg-purple-500/10 border border-purple-500/30 text-purple-300",children:[d.jsx(Kl,{size:14}),d.jsxs("span",{children:[i.episodes," episodes"]})]}),i.status&&d.jsx("div",{className:"px-3 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/30 text-indigo-300",children:i.status})]}),i.genres?.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:i.genres.map(_=>d.jsx("span",{className:"text-xs px-3 py-1 rounded-full bg-purple-600/20 text-purple-200 border border-purple-500/20",children:_.name},_.mal_id))}),i.synopsis&&d.jsx("div",{className:"text-gray-300 text-sm leading-relaxed max-h-40 overflow-y-auto pr-2 custom-scrollbar",children:i.synopsis}),d.jsxs("div",{className:"space-y-2 pt-2",children:[d.jsx("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wider",children:"Mark as:"}),d.jsx("div",{className:"flex gap-2",children:["watched","resuming","not_watched"].map(_=>{const x=p[_],w=e===_||!e&&_==="not_watched";return d.jsxs("button",{onClick:()=>n(i,_),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-bold transition-all duration-300 ${w?`bg-gradient-to-r ${x.color} text-white shadow-lg ${x.glow}`:"bg-white/5 text-gray-400 hover:bg-white/10 border border-white/10"}`,children:[x.icon,x.label]},_)})})]})]})]})]})]})},R4=()=>{const[i,e]=Z.useState("browse"),[n,r]=Z.useState([]),[o,u]=Z.useState(""),[f,p]=Z.useState(""),[y,_]=Z.useState(""),[x,w]=Z.useState([]),[R,z]=Z.useState(1),[ne,X]=Z.useState(1),[Y,se]=Z.useState(!1),[re,oe]=Z.useState(!0),[me,Ee]=Z.useState(""),[pe,C]=Z.useState(!1),[A,N]=Z.useState({}),[I,D]=Z.useState([]),[M,S]=Z.useState("all"),[Ne,De]=Z.useState(!1),F=Z.useRef(null),$=Z.useRef(null);Z.useEffect(()=>{const G=setTimeout(()=>{p(o),z(1)},400);return()=>clearTimeout(G)},[o]),Z.useEffect(()=>{(async()=>{try{const ue=await Ab(`${nh}/genres/anime`);w(ue.data||[])}catch(ue){console.error("Failed to fetch genres:",ue)}})()},[]),Z.useEffect(()=>{(async()=>{se(!0),Ee("");try{let ue;f?(ue=`${nh}/anime?q=${encodeURIComponent(f)}&page=${R}&limit=20&sfw=true`,y&&(ue+=`&genres=${y}`)):y?ue=`${nh}/anime?genres=${y}&page=${R}&limit=20&order_by=score&sort=desc&sfw=true`:ue=`${nh}/top/anime?page=${R}&limit=20&sfw=true`;const _e=await Ab(ue);r(_e.data||[]),X(_e.pagination?.last_visible_page||1)}catch(ue){console.error("Failed to fetch anime:",ue),Ee("Failed to load anime. Please try again.")}finally{se(!1),oe(!1)}})()},[f,y,R]);const fe=Z.useCallback(async()=>{if(Is.currentUser)try{const G=vo(ss(rt,"animeWatchlist"),hb("userId","==",Is.currentUser.uid)),ue=await mb(G),_e={};ue.docs.forEach(we=>{const Xe=we.data();_e[Xe.animeId]={...Xe,docId:we.id}}),N(_e)}catch(G){console.error("Failed to load watchlist:",G)}},[]);Z.useEffect(()=>{fe()},[fe]);const je=Z.useCallback(async()=>{if(Is.currentUser){De(!0);try{const G=vo(ss(rt,"animeWatchlist"),hb("userId","==",Is.currentUser.uid)),_e=(await mb(G)).docs.map(we=>({...we.data(),docId:we.id}));D(_e)}catch(G){console.error("Failed to load profile watchlist:",G)}finally{De(!1)}}},[]);Z.useEffect(()=>{i==="profile"&&je()},[i,je]);const ze=async(G,ue)=>{if(!Is.currentUser)return;const _e=G.mal_id||G.animeId,we=`${Is.currentUser.uid}_${_e}`;try{if(ue==="not_watched")await Jr(Zt(rt,"animeWatchlist",we)),N(Xe=>{const $e={...Xe};return delete $e[_e],$e});else{const Xe={userId:Is.currentUser.uid,animeId:_e,title:G.title,imageUrl:G.images?.jpg?.large_image_url||G.images?.jpg?.image_url||G.imageUrl||"",score:G.score||0,episodes:G.episodes||0,status:ue,updatedAt:oi()};await dh(Zt(rt,"animeWatchlist",we),Xe),N($e=>({...$e,[_e]:{...Xe,docId:we}}))}i==="profile"&&je()}catch(Xe){console.error("Failed to update status:",Xe)}};Z.useEffect(()=>{const G=ue=>{$.current&&!$.current.contains(ue.target)&&C(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const O=I.filter(G=>G.status==="watched").length,J=I.filter(G=>G.status==="resuming").length,ae=M==="all"?I:I.filter(G=>G.status===M);return d.jsxs("div",{className:"min-h-screen pb-32",style:{background:"linear-gradient(180deg, #0c0618 0%, #1a0f2e 30%, #0f0a1e 100%)"},children:[d.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(139, 92, 246, 0.3); border-radius: 20px; }
        .anime-genre-scroll::-webkit-scrollbar { height: 0; }
        @keyframes anime-float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-8px); }
        }
        @keyframes anime-glow {
          0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.2); }
          50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.4); }
        }
        @keyframes anime-shimmer {
          0% { background-position: 200% 0; }
          100% { background-position: -200% 0; }
        }
        .animate-anime-float { animation: anime-float 3s ease-in-out infinite; }
        .animate-anime-glow { animation: anime-glow 2s ease-in-out infinite; }
      `}),d.jsx("div",{className:"sticky top-0 z-50 backdrop-blur-xl border-b border-purple-500/20",style:{background:"rgba(12, 6, 24, 0.85)"},children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-600 to-indigo-600 flex items-center justify-center shadow-lg shadow-purple-500/30",children:d.jsx(Kl,{size:20,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"Anime World"}),d.jsx("p",{className:"text-purple-400/60 text-[11px]",children:"Powered by MyAnimeList"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>e("browse"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 ${i==="browse"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg shadow-purple-500/30":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[d.jsx(Eb,{size:14,className:"inline mr-1.5 -mt-0.5"}),"Browse"]}),d.jsxs("button",{onClick:()=>e("profile"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 ${i==="profile"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg shadow-purple-500/30":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:[d.jsx(ip,{size:14,className:"inline mr-1.5 -mt-0.5"}),"My List"]})]})]}),i==="browse"&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Eb,{size:18,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-purple-400"}),d.jsx("input",{ref:F,type:"text",value:o,onChange:G=>u(G.target.value),placeholder:"Search anime... (e.g. Naruto, One Piece)",className:"w-full pl-10 pr-4 py-2.5 rounded-xl bg-white/5 border border-purple-500/20 text-white placeholder-gray-500 text-sm focus:outline-none focus:border-purple-500/50 focus:bg-white/10 transition-all"}),o&&d.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:d.jsx(qn,{size:16})})]}),d.jsxs("div",{className:"relative",ref:$,children:[d.jsxs("button",{onClick:()=>C(!pe),className:"flex items-center gap-1.5 px-3.5 py-2.5 rounded-xl bg-white/5 border border-purple-500/20 text-gray-300 text-sm hover:bg-white/10 transition-all whitespace-nowrap",children:[d.jsx(YI,{size:14}),y&&x.find(G=>G.mal_id==y)?.name||"Genre",d.jsx(sE,{size:14,className:`transition-transform ${pe?"rotate-180":""}`})]}),pe&&d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 max-h-72 overflow-y-auto rounded-xl border border-purple-500/30 shadow-2xl z-50 custom-scrollbar",style:{background:"linear-gradient(145deg, #1a1030, #0f0a1e)"},children:[d.jsx("button",{onClick:()=>{_(""),C(!1),z(1)},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${y?"text-gray-400 hover:bg-white/5":"text-purple-300 bg-purple-500/20"}`,children:"All Genres"}),x.map(G=>d.jsxs("button",{onClick:()=>{_(String(G.mal_id)),C(!1),z(1)},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${y==G.mal_id?"text-purple-300 bg-purple-500/20":"text-gray-400 hover:bg-white/5"}`,children:[G.name," ",d.jsxs("span",{className:"text-gray-600 text-xs",children:["(",G.count,")"]})]},G.mal_id))]})]})]})]})}),i==="browse"&&d.jsxs("div",{className:"max-w-7xl mx-auto px-4 pt-6",children:[(f||y)&&d.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[d.jsx("span",{className:"text-gray-500 text-xs",children:"Filters:"}),f&&d.jsxs("span",{className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-purple-500/20 text-purple-300 text-xs border border-purple-500/20",children:['"',f,'"',d.jsx(qn,{size:12,className:"cursor-pointer hover:text-white",onClick:()=>u("")})]}),y&&d.jsxs("span",{className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-indigo-500/20 text-indigo-300 text-xs border border-indigo-500/20",children:[x.find(G=>G.mal_id==y)?.name,d.jsx(qn,{size:12,className:"cursor-pointer hover:text-white",onClick:()=>{_(""),z(1)}})]})]}),me&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("p",{className:"text-red-400 mb-4",children:me}),d.jsx("button",{onClick:()=>z(G=>G),className:"px-6 py-2 rounded-xl bg-purple-600 text-white text-sm hover:bg-purple-700 transition-colors",children:"Retry"})]}),Y&&d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(20)].map((G,ue)=>d.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"rgba(30,20,50,0.5)"},children:[d.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-purple-900/30 to-indigo-900/30 animate-pulse"}),d.jsxs("div",{className:"p-3 space-y-2",children:[d.jsx("div",{className:"h-4 bg-purple-500/10 rounded animate-pulse"}),d.jsx("div",{className:"h-3 w-2/3 bg-purple-500/10 rounded animate-pulse"})]})]},ue))}),!Y&&!me&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:n.map(G=>d.jsx(Sb,{anime:G,watchStatus:A[G.mal_id]?.status,onStatusChange:ze},G.mal_id))}),n.length===0&&!re&&d.jsxs("div",{className:"text-center py-20",children:[d.jsx(Kl,{size:48,className:"mx-auto text-purple-500/30 mb-4"}),d.jsx("p",{className:"text-gray-400 text-lg",children:"No anime found"}),d.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Try a different search or filter"})]}),ne>1&&n.length>0&&d.jsxs("div",{className:"flex items-center justify-center gap-3 mt-8 pb-8",children:[d.jsxs("button",{onClick:()=>z(G=>Math.max(1,G-1)),disabled:R===1,className:"flex items-center gap-1 px-4 py-2.5 rounded-xl bg-white/5 border border-purple-500/20 text-gray-300 text-sm hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:[d.jsx(au,{size:16})," Prev"]}),d.jsxs("span",{className:"text-purple-300 text-sm font-medium px-4 py-2 rounded-xl bg-purple-500/10 border border-purple-500/20",children:["Page ",R," / ",ne]}),d.jsxs("button",{onClick:()=>z(G=>Math.min(ne,G+1)),disabled:R>=ne,className:"flex items-center gap-1 px-4 py-2.5 rounded-xl bg-white/5 border border-purple-500/20 text-gray-300 text-sm hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:["Next ",d.jsx(ou,{size:16})]})]})]})]}),i==="profile"&&d.jsxs("div",{className:"max-w-7xl mx-auto px-4 pt-6",children:[d.jsxs("div",{className:"rounded-2xl p-6 mb-6 border border-purple-500/20",style:{background:"linear-gradient(145deg, rgba(30,20,50,0.6), rgba(15,10,30,0.8))"},children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-600 to-indigo-600 flex items-center justify-center shadow-lg shadow-purple-500/30 animate-anime-glow",children:d.jsx(ip,{size:28,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"My Anime List"}),d.jsx("p",{className:"text-purple-400/60 text-sm",children:"Your personal watchlist"})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{className:"rounded-xl p-3 text-center border border-purple-500/20",style:{background:"rgba(139, 92, 246, 0.1)"},children:[d.jsx("p",{className:"text-2xl font-bold text-white",children:I.length}),d.jsx("p",{className:"text-purple-400/60 text-xs",children:"Total"})]}),d.jsxs("div",{className:"rounded-xl p-3 text-center border border-emerald-500/20",style:{background:"rgba(16, 185, 129, 0.1)"},children:[d.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:O}),d.jsx("p",{className:"text-emerald-400/60 text-xs",children:"Watched"})]}),d.jsxs("div",{className:"rounded-xl p-3 text-center border border-amber-500/20",style:{background:"rgba(245, 158, 11, 0.1)"},children:[d.jsx("p",{className:"text-2xl font-bold text-amber-400",children:J}),d.jsx("p",{className:"text-amber-400/60 text-xs",children:"Resuming"})]})]})]}),d.jsx("div",{className:"flex gap-2 mb-6",children:[{id:"all",label:"All",count:I.length},{id:"watched",label:" Watched",count:O},{id:"resuming",label:" Resuming",count:J}].map(G=>d.jsxs("button",{onClick:()=>S(G.id),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 ${M===G.id?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg shadow-purple-500/30":"bg-white/5 text-gray-400 hover:bg-white/10 border border-white/5"}`,children:[G.label," ",d.jsxs("span",{className:"text-xs opacity-70",children:["(",G.count,")"]})]},G.id))}),Ne?d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(8)].map((G,ue)=>d.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"rgba(30,20,50,0.5)"},children:[d.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-purple-900/30 to-indigo-900/30 animate-pulse"}),d.jsxs("div",{className:"p-3 space-y-2",children:[d.jsx("div",{className:"h-4 bg-purple-500/10 rounded animate-pulse"}),d.jsx("div",{className:"h-3 w-2/3 bg-purple-500/10 rounded animate-pulse"})]})]},ue))}):ae.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx(Kl,{size:48,className:"mx-auto text-purple-500/30 mb-4"}),d.jsx("p",{className:"text-gray-400 text-lg",children:M==="all"?"Your watchlist is empty":`No ${M} anime`}),d.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Browse anime and mark them to build your list!"}),d.jsx("button",{onClick:()=>e("browse"),className:"mt-4 px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-sm font-medium hover:shadow-lg hover:shadow-purple-500/30 transition-all",children:"Browse Anime"})]}):d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:ae.map(G=>{const ue={mal_id:G.animeId,title:G.title,images:{jpg:{large_image_url:G.imageUrl,image_url:G.imageUrl}},score:G.score,episodes:G.episodes};return d.jsx(Sb,{anime:ue,watchStatus:G.status,onStatusChange:ze},G.animeId)})})]})]})},C4="/assets/HomePage-C6BsD3Vz.jpeg",I4="/assets/1st%20Meeting-DII9yuEs.jpg",j4="/assets/1st%20Diwali-DNu_zJwR.jpeg",D4="/assets/Propose%20day-ChkJRE0S.jpg",k4="/assets/my%20birthday-CKtO-Vuy.jpeg",O4="/assets/You%20come%20home-D9WqNU_u.jpg",M4="/assets/Bike%20breakdown-DDk0FEa3.jpg",V4="/assets/Leaving%20city-DK1bJUWh.jpg",P4="/assets/Your%20Birthday-DmiiCXTi.jpg",U4="/assets/My%20job-DNeOBU7b.jpeg",L4="/assets/1st%20club-CKenFKkz.jpg",z4="/assets/Gym%20Progress-BeqRLA_X.jpeg",B4="/assets/Bulleya.jpg-D3VCUXz_.jpg",q4="/assets/Dil%20Diyan%20Gallan.jpg-mLYVrixZ.jpg",H4="/assets/Guzarish.jpg-DDYVY9UL.jpg",F4="/assets/Humko%20Humise%20Chura%20Lo.jpg-C9fgEzou.jpeg",G4="/assets/Jugni.jpg-B03qBbvr.jpg",K4="/assets/Lag%20Ja%20Gale.jpg-D7aHJqzm.jpg",Y4="/assets/Main%20Agar%20Kahoon.jpg--7_aQO3f.jpg",Q4="/assets/Nit%20Khair%20Manga.jpg-CsDSu5Uq.jpg",X4="/assets/Pee%20Loon.jpg-D9owMVb9.jpg",$4="/assets/Sajdaa.jpg-DdIqMzMr.jpg",J4="/assets/Sanu%20Ek%20Pal%20Chain.jpg-BzrJgL2K.jpeg",Z4="/assets/Tere%20Liye.jpg-CDdVyPAI.jpg",W4="/assets/Tum%20Agar%20Saath.jpg-CzpL91YM.jpg",ej="https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?q=80&w=687&auto=format&fit=crop",tj=C4,Xr=[{id:1,title:"Bulleya",artist:"Amit Mishra, Shilpa Rao",cover:B4,audioUrl:new URL("/assets/Bulleya%20Ae%20Dil%20Hai%20Mushkil%20320%20Kbps-CVyM4WS3.mp3",import.meta.url).href},{id:2,title:"Dil Diyan Gallan",artist:"Atif Aslam",cover:q4,audioUrl:new URL("/assets/Dil%20Diyan%20Gallan%20Tiger%20Zinda%20Hai%20320%20Kbps-MqJmzs1J.mp3",import.meta.url).href},{id:3,title:"Guzarish",artist:"Javed Ali, Sonu Nigam",cover:H4,audioUrl:new URL("/assets/Guzarish%20Ghajini%20320%20Kbps-CXp0TRnY.mp3",import.meta.url).href},{id:4,title:"Humko Humise Chura Lo",artist:"Lata Mangeshkar, Udit Narayan",cover:F4,audioUrl:new URL("/assets/Humko%20Humise%20Chura%20Lo%20Mohabbatein%20320%20Kbps-CF9ctL9B.mp3",import.meta.url).href},{id:5,title:"Jugni",artist:"Clinton Cerejo, Vishal Dadlani",cover:G4,audioUrl:new URL("/assets/Jugni%20Cocktail%20320%20Kbps-BgLkOnpf.mp3",import.meta.url).href},{id:6,title:"Lag Ja Gale",artist:"Rahat Fateh Ali Khan",cover:K4,audioUrl:new URL("/assets/Lag%20Ja%20Gale%20Bhoomi%20320%20Kbps-BwSJYMQ3.mp3",import.meta.url).href},{id:7,title:"Main Agar Kahoon",artist:"Sonu Nigam, Shreya Ghoshal",cover:Y4,audioUrl:new URL("/assets/Main%20Agar%20Kahoon%20Om%20Shanti%20Om%20320%20Kbps-Cxgld7Ii.mp3",import.meta.url).href},{id:8,title:"Nit Khair Manga",artist:"Rahat Fateh Ali Khan",cover:Q4,audioUrl:new URL("/assets/Nit%20Khair%20Manga%20Raid%20320%20Kbps-DcS-AiVm.mp3",import.meta.url).href},{id:9,title:"Pee Loon",artist:"Mohit Chauhan",cover:X4,audioUrl:new URL("/assets/Pee%20Loon%20Once%20Upon%20A%20Time%20In%20Mumbaai%20320%20Kbps-F2b_mA8C.mp3",import.meta.url).href},{id:10,title:"Sajdaa",artist:"Rahat Fateh Ali Khan, Richa Sharma",cover:$4,audioUrl:new URL("/assets/Sajdaa%20(PenduJatt.Com.Se)%20(2)-BWhuLJ8u.mp3",import.meta.url).href},{id:11,title:"Sanu Ek Pal Chain",artist:"Rahat Fateh Ali Khan",cover:J4,audioUrl:new URL("/assets/Sanu%20Ek%20Pal%20Chain%20Raid%20320%20Kbps-BQutebta.mp3",import.meta.url).href},{id:12,title:"Tere Liye",artist:"Atif Aslam, Shreya Ghoshal",cover:Z4,audioUrl:new URL("/assets/Tere%20Liye%20Prince%20320%20Kbps-D2Pt9Ecp.mp3",import.meta.url).href},{id:13,title:"Tum Agar Saath Dene Ka Vada Karo",artist:"Mahendra Kapoor",cover:W4,audioUrl:new URL("/assets/Tum%20Agar%20Saath%20Dene%20Ka%20Vada%20Karo%20Hamraaz%20320%20Kbps-XzPT9i9h.mp3",import.meta.url).href}],Im=[{title:"1st Meeting",date:"The beginning",description:d.jsxs(d.Fragment,{children:["Mujhe aaj bhi yaad hai",d.jsx("br",{}),"main bike par tumse milne aaya tha,",d.jsx("br",{}),"aur tum bahar aayi thi mujhe milne.",d.jsx("br",{}),d.jsx("br",{}),"Tumne mujhe dekhte hi soch liya tha ",d.jsx("br",{}),"Iske saath toh relation mein bilkul nahi aana. ",d.jsx("br",{}),d.jsx("br",{}),"Par kismat ko kuch aur hi manzoor tha.",d.jsx("br",{}),"Hum mile, baatein hui,",d.jsx("br",{}),"thoda ghoome, thoda hase,",d.jsx("br",{}),"aur bina jaane hi ek dusre ke kareeb aa gaye.",d.jsx("br",{}),d.jsx("br",{}),"Us din shayad sirf ek meeting thi,",d.jsx("br",{}),"lekin wahi pal",d.jsx("br",{}),"hamari kahani ki shuruaat ban gaya."]}),img:I4},{title:"1st Diwali",date:"Festival of Lights",description:d.jsxs(d.Fragment,{children:["Haan, photos Diwali ki nahi hain",d.jsx("br",{}),"kyunki tumne photo lene se mana kar diya tha ",d.jsx("br",{}),"par yaqeen maano,",d.jsx("br",{}),"mere dimaag me wo Diwali aaj bhi bilkul clear hai.",d.jsx("br",{}),d.jsx("br",{}),"Tumhara green suit,",d.jsx("br",{}),"tumhari chalne ki adaa,",d.jsx("br",{}),"aur tumhe dekhte hi mujhe samajh aa gaya tha ",d.jsx("br",{}),"iss baar ki Diwali meri life ki best Diwali hone wali hai ",d.jsx("br",{}),d.jsx("br",{}),"Aur haan",d.jsx("br",{}),"wo hickey ",d.jsx("br",{}),"usko kaise bhool sakta hoon?",d.jsx("br",{}),"Ghar par poora din",d.jsx("br",{}),"dara-dara ghoom raha tha "]}),img:j4},{title:"My Birthday",date:"The Midnight Surprise",description:d.jsxs(d.Fragment,{children:["Mera pehla birthday tumhare saath",d.jsx("br",{}),"aur tum bhool gayi thi ",d.jsx("br",{}),d.jsx("br",{}),"Raat ke 2 baje call aaya,",d.jsx("br",{}),"sorry sorry bol rahi thi tum.",d.jsx("br",{}),"Aur main?",d.jsx("br",{}),"main toh tanhaiyon me, yaadon me hi dooba hua tha",d.jsx("br",{}),"thoda hurt hua tha, sach kahun toh ",d.jsx("br",{}),d.jsx("br",{}),"Par phir",d.jsx("br",{}),"jab 2 baje tum aa gayi,",d.jsx("br",{}),"sab kuch theek ho gaya.",d.jsx("br",{}),"Us ek pal ne",d.jsx("br",{}),"saari narazgi mita di.",d.jsx("br",{}),d.jsx("br",{}),"Tab samajh aaya ",d.jsx("br",{}),"kabhi kabhi der ho jaati hai,",d.jsx("br",{}),"par tumhara aana hi sabse bada gift tha "]}),img:k4,imgPos:"object-cover object-top"},{title:"You Come Home",date:"Home Sweet Home",description:d.jsxs(d.Fragment,{children:["Wo din jab tum pehli baar mere ghar aayi",d.jsx("br",{}),"hum saath baithe,",d.jsx("br",{}),"movie dekhi, baatein ki,",d.jsx("br",{}),"aur waqt ka pata hi nahi chala ",d.jsx("br",{}),d.jsx("br",{}),"Sach bolun,",d.jsx("br",{}),"pehli baar kisi ladki ko apne ghar laya tha,",d.jsx("br",{}),"aur dil thoda nervous bhi tha.",d.jsx("br",{}),d.jsx("br",{}),"Par tumhare saath",d.jsx("br",{}),"sab kuch itna natural, itna comfortable lag raha tha",d.jsx("br",{}),"jaise tum hamesha se yahin thi.",d.jsx("br",{}),d.jsx("br",{}),"Bas ek hi hope hai ",d.jsx("br",{}),"tumhe bhi accha laga ho,",d.jsx("br",{}),"kyunki wo pal",d.jsx("br",{}),"meri yaadon me hamesha special rahega "]}),img:O4,imgPos:"object-cover object-top"},{title:"Propose Day",date:"1st January",description:d.jsxs(d.Fragment,{children:["Yaad hai",d.jsx("br",{}),"jab aakhirkaar tumne mera proposal accept kar liya ",d.jsx("br",{}),"wo bhi 1 January ko ",d.jsx("br",{}),d.jsx("br",{}),"Wo din sirf ek proposal nahi tha,",d.jsx("br",{}),"wo ek nayi zindagi ki shuruaat thi.",d.jsx("br",{}),"Best day of my life ",d.jsx("br",{}),d.jsx("br",{}),"Aur promise hai,",d.jsx("br",{}),"aise hi infinite New Years",d.jsx("br",{}),"hum saath-saath celebrate karenge"]}),img:D4},{title:"Bike Breakdown",date:"The Unplanned Adventure",description:d.jsxs(d.Fragment,{children:["Yaad hai jab hum bike se ghoom rahe the",d.jsx("br",{}),"aur socha tha kahi door chalte hain",d.jsx("br",{}),"par kismat ko kuch aur hi plan tha ",d.jsx("br",{}),d.jsx("br",{}),"Pehle toh full photoshoot, hasi-mazaak chala,",d.jsx("br",{}),"sab kuch mast lag raha tha.",d.jsx("br",{}),"Phir jab pata chala",d.jsx("br",{}),"bike sach me kharab ho gayi hai",d.jsx("br",{}),"dono ki halat hi kharab ",d.jsx("br",{}),d.jsx("br",{}),"Kitna paidal chale hum,",d.jsx("br",{}),"thakaan, tension, aur ek dusre ko dekh kar hasi bhi.",d.jsx("br",{}),"Par end me",d.jsx("br",{}),"bike on ho hi gayi ",d.jsx("br",{}),"Thank God!",d.jsx("br",{}),"Warna shayad ye memory aur bhi lambi ho jaati "]}),img:M4},{title:"Leaving City",date:"The Hardest Goodbye",description:d.jsxs(d.Fragment,{children:["Ye wo din hai",d.jsx("br",{}),"jo kaash kabhi na aata",d.jsx("br",{}),"par aaya bhi toh",d.jsx("br",{}),"shayad accha hi tha,",d.jsx("br",{}),"tumne bohot kuch seekh liya ",d.jsx("br",{}),d.jsx("br",{}),"Jab tum",d.jsx("br",{}),"Greater Noida se Delhi ja rahi thi,",d.jsx("br",{}),"pehle kaise saath rahe",d.jsx("br",{}),"aur phir main",d.jsx("br",{}),"tumhe itni door bike se chhodne gaya.",d.jsx("br",{}),d.jsx("br",{}),"Sach bolun,",d.jsx("br",{}),"main bohot thak gaya tha,",d.jsx("br",{}),"soch kar hi kamar me dard badh jaata hai ",d.jsx("br",{}),"Aur wapas aakar",d.jsx("br",{}),"bas tumhare baare me sochta raha",d.jsx("br",{}),"aur emotional hota raha ",d.jsx("br",{}),d.jsx("br",{}),"Tabse",d.jsx("br",{}),"tum wapas idhar aa hi nahi paayi"]}),img:V4},{title:"Your Birthday",date:"Princess Treatment",description:d.jsxs(d.Fragment,{children:["Ek aisi cheez",d.jsx("br",{}),"jo tum kabhi nahi bhool paogi ",d.jsx("br",{}),d.jsx("br",{}),"Bohot soch-samajh kar",d.jsx("br",{}),"wo gift diya tha ",d.jsx("br",{}),"Tumhare liye sab kuch plan karna,",d.jsx("br",{}),"idhar-udhar bhaagna,",d.jsx("br",{}),"aur waha tumhare liye khana banana ",d.jsx("br",{}),"pure princess treatment ",d.jsx("br",{}),d.jsx("br",{}),"Kasam se,",d.jsx("br",{}),"kisi aur ke liye itna nahi kiya.",d.jsx("br",{}),"Agar kiya hota,",d.jsx("br",{}),"toh shayad aaj mera swayamvar chal raha hota "]}),img:P4},{title:"My Job",date:"Turning Point",description:d.jsxs(d.Fragment,{children:["Meri job lagna",d.jsx("br",{}),"hamari life ka bohot bada turn tha.",d.jsx("br",{}),d.jsx("br",{}),"Us din humari",d.jsx("br",{}),"bohot badi wali ladai chal rahi thi",d.jsx("br",{}),"aur tabhi",d.jsx("br",{}),"job ka call aa gaya,",d.jsx("br",{}),"joining date aa gayi.",d.jsx("br",{}),d.jsx("br",{}),"Maine tumhe bataya",d.jsx("br",{}),"aur bas",d.jsx("br",{}),"ladai the end ",d.jsx("br",{}),d.jsx("br",{}),"Sach me,",d.jsx("br",{}),"upar wale ne bhi kya timing set ki thi.",d.jsx("br",{}),"Ab job ke baad",d.jsx("br",{}),"tumhe thoda kam time de paata hoon",d.jsx("br",{}),"par shayad",d.jsx("br",{}),"tumhari 11:11 wali wish",d.jsx("br",{}),"us din poori ho hi gayi thi "]}),img:U4,imgPos:"object-cover object-top"},{title:"1st Club",date:"Party Night",description:d.jsxs(d.Fragment,{children:["Mera pehla club wow!",d.jsx("br",{}),"City me reh kar bhi",d.jsx("br",{}),"first time club gaya ",d.jsx("br",{}),"wo bhi apni gf ke saath ",d.jsx("br",{}),d.jsx("br",{}),"Zyada khaas kuch nahi tha,",d.jsx("br",{}),"par experience bura bhi nahi tha.",d.jsx("br",{}),"Tumhare saath dance karna,",d.jsx("br",{}),"baithna, hasna, baatein karna",d.jsx("br",{}),"ek club se dusre club.",d.jsx("br",{}),d.jsx("br",{}),"Wo raat",d.jsx("br",{}),"yaad rakhne wali raat ban gayi "]}),img:L4},{title:"Gym Progress",date:"My Motivation",description:d.jsxs(d.Fragment,{children:["Meri gym ki progress",d.jsx("br",{}),"sirf tumhari wajah se hai ",d.jsx("br",{}),d.jsx("br",{}),"Tum na hoti,",d.jsx("br",{}),"toh gym bhi shayad na hoti.",d.jsx("br",{}),"Ye saari muscles pe",d.jsx("br",{}),"haq tumhara hi toh hai ",d.jsx("br",{}),d.jsx("br",{}),"Har rep, har pain,",d.jsx("br",{}),"har progress ke peeche",d.jsx("br",{}),"tum ho ",d.jsx("br",{}),"meri motivation "]}),img:z4,imgPos:"object-cover object-top"}],Nb=i=>{if(isNaN(i))return"0:00";const e=Math.floor(i/60),n=Math.floor(i%60);return`${e}:${n<10?"0":""}${n}`},nj=({className:i=""})=>d.jsx("div",{className:`animate-pulse bg-gradient-to-r from-rose-100 via-rose-50 to-rose-100 bg-[length:200%_100%] animate-shimmer-move rounded-lg ${i}`,children:d.jsx("style",{children:`
      @keyframes shimmer-move {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
      }
      .animate-shimmer-move { animation: shimmer-move 1.5s ease-in-out infinite; }
    `})}),sj=Vh.memo(()=>{const[i,e]=Z.useState(0);return Z.useEffect(()=>{e(window.innerWidth<768?6:15)},[]),i===0?null:d.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[...Array(i)].map((n,r)=>d.jsx("div",{className:"absolute text-pink-300 opacity-0 animate-float-custom",style:{left:`${Math.random()*100}%`,top:`${100+Math.random()*50}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${10+Math.random()*10}s`,transform:`scale(${.3+Math.random()*.7})`,willChange:"transform, opacity"},children:d.jsx(as,{fill:"currentColor",size:Math.random()>.5?24:16})},r))})}),ij=({onComplete:i})=>{const[e,n]=Z.useState(0);return Z.useEffect(()=>{const r=setInterval(()=>{n(o=>o>=100?100:o+1.5)},35);return()=>clearInterval(r)},[]),Z.useEffect(()=>{if(e>=100){const r=setTimeout(()=>{i()},400);return()=>clearTimeout(r)}},[e,i]),d.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-rose-100 via-pink-50 to-rose-200 flex flex-col items-center justify-center z-50 overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-rose-400/30 rounded-full blur-[100px] animate-pulse"}),d.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-pink-500/20 rounded-full blur-[80px] animate-pulse delay-500"})]}),d.jsxs("div",{className:"relative w-48 h-48 md:w-64 md:h-64",style:{perspective:"1000px"},children:[d.jsx("div",{className:"absolute inset-0 blur-xl bg-rose-500/30 rounded-full scale-110 animate-pulse"}),d.jsxs("svg",{viewBox:"0 0 100 90",className:"w-full h-full overflow-visible relative z-10",style:{filter:"drop-shadow(0 10px 30px rgba(225, 29, 72, 0.4))"},children:[d.jsxs("defs",{children:[d.jsx("mask",{id:"heartMask",children:d.jsx("path",{d:"M50,88.9 C20,58 0,38 0,22.5 C0,9 10,0 23.5,0 C31.5,0 39,5 50,15 C61,5 68.5,0 76.5,0 C90,0 100,9 100,22.5 C100,38 80,58 50,88.9 Z",fill:"white"})}),d.jsxs("linearGradient",{id:"waterGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#fb7185"}),d.jsx("stop",{offset:"50%",stopColor:"#e11d48"}),d.jsx("stop",{offset:"100%",stopColor:"#be123c"})]}),d.jsxs("linearGradient",{id:"shimmerGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",stopColor:"transparent"}),d.jsx("stop",{offset:"50%",stopColor:"rgba(255,255,255,0.3)"}),d.jsx("stop",{offset:"100%",stopColor:"transparent"})]})]}),d.jsx("path",{d:"M50,88.9 C20,58 0,38 0,22.5 C0,9 10,0 23.5,0 C31.5,0 39,5 50,15 C61,5 68.5,0 76.5,0 C90,0 100,9 100,22.5 C100,38 80,58 50,88.9 Z",fill:"rgba(255,255,255,0.1)",stroke:"url(#waterGradient)",strokeWidth:"3"}),d.jsx("path",{d:"M50,88.9 C20,58 0,38 0,22.5 C0,9 10,0 23.5,0 C31.5,0 39,5 50,15 C61,5 68.5,0 76.5,0 C90,0 100,9 100,22.5 C100,38 80,58 50,88.9 Z",fill:"none",stroke:"rgba(255,255,255,0.5)",strokeWidth:"1",transform:"translate(2, 2) scale(0.95)"}),d.jsx("g",{mask:"url(#heartMask)",children:d.jsxs("g",{className:"transition-transform duration-150 ease-out",style:{transform:`translateY(${100-e}%)`},children:[d.jsx("rect",{x:"-50",y:"0",width:"200",height:"200",fill:"url(#waterGradient)"}),d.jsx("rect",{x:"-50",y:"0",width:"200",height:"200",fill:"url(#shimmerGrad)",className:"animate-shimmer"}),d.jsx("path",{d:"M-50,0 C-20,12 10,0 40,8 C70,16 100,4 130,10 C160,16 180,6 200,12 V30 H-50 Z",fill:"#fda4af",className:"animate-wave-back"}),d.jsx("path",{d:"M-50,5 C-10,15 20,3 50,10 C80,17 110,5 140,12 C170,19 190,8 220,14 V30 H-50 Z",fill:"#fb7185",className:"animate-wave-mid"}),d.jsx("path",{d:"M-50,8 C0,18 30,6 60,14 C90,22 120,10 150,16 C180,22 200,12 230,18 V30 H-50 Z",fill:"#e11d48",className:"animate-wave-front"}),d.jsx("circle",{cx:"25",cy:"40",r:"3",fill:"rgba(255,255,255,0.6)",className:"animate-bubble-1"}),d.jsx("circle",{cx:"55",cy:"60",r:"2",fill:"rgba(255,255,255,0.5)",className:"animate-bubble-2"}),d.jsx("circle",{cx:"75",cy:"50",r:"2.5",fill:"rgba(255,255,255,0.4)",className:"animate-bubble-3"}),d.jsx("circle",{cx:"40",cy:"70",r:"1.5",fill:"rgba(255,255,255,0.5)",className:"animate-bubble-4"})]})}),d.jsx("circle",{cx:"25",cy:"20",r:"2",fill:"white",opacity:"0.8",className:"animate-sparkle"}),d.jsx("circle",{cx:"75",cy:"18",r:"1.5",fill:"white",opacity:"0.6",className:"animate-sparkle delay-300"})]})]}),d.jsx("div",{className:"mt-10 relative z-10",children:d.jsxs("span",{className:"text-5xl md:text-6xl font-serif font-bold bg-gradient-to-r from-rose-600 via-pink-600 to-rose-600 bg-clip-text text-transparent tabular-nums",style:{textShadow:"0 0 40px rgba(225, 29, 72, 0.3)"},children:[Math.round(e),"%"]})}),d.jsx("div",{className:"w-48 h-2 bg-white/50 mt-4 rounded-full overflow-hidden backdrop-blur-sm shadow-inner",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-rose-400 via-rose-500 to-pink-500 transition-all duration-200 relative",style:{width:`${e}%`},children:d.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse"})})}),d.jsx("p",{className:"mt-6 text-rose-500 font-medium tracking-wider uppercase text-sm animate-pulse",children:"Filling with love..."}),d.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(6)].map((r,o)=>d.jsx(as,{fill:"#fda4af",size:20+o*4,className:"absolute animate-float-up",style:{left:`${15+o*15}%`,bottom:`-${20+o*10}px`,animationDelay:`${o*.8}s`,opacity:.4}},o))}),d.jsx("style",{children:`
        @keyframes wave-front {
          0%, 100% { transform: translateX(0); }
          50% { transform: translateX(-25%); }
        }
        @keyframes wave-mid {
          0%, 100% { transform: translateX(-10%); }
          50% { transform: translateX(-35%); }
        }
        @keyframes wave-back {
          0%, 100% { transform: translateX(-20%); }
          50% { transform: translateX(5%); }
        }
        .animate-wave-front { animation: wave-front 2s ease-in-out infinite; }
        .animate-wave-mid { animation: wave-mid 2.5s ease-in-out infinite; }
        .animate-wave-back { animation: wave-back 3s ease-in-out infinite; }
        
        @keyframes bubble {
          0% { transform: translateY(0) scale(1); opacity: 0.6; }
          100% { transform: translateY(-80px) scale(0.5); opacity: 0; }
        }
        .animate-bubble-1 { animation: bubble 2s ease-out infinite; }
        .animate-bubble-2 { animation: bubble 2.5s ease-out infinite 0.5s; }
        .animate-bubble-3 { animation: bubble 2s ease-out infinite 1s; }
        .animate-bubble-4 { animation: bubble 2.2s ease-out infinite 1.5s; }
        
        @keyframes sparkle {
          0%, 100% { opacity: 0.3; transform: scale(0.8); }
          50% { opacity: 1; transform: scale(1.2); }
        }
        .animate-sparkle { animation: sparkle 1.5s ease-in-out infinite; }
        
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-shimmer { animation: shimmer 2s ease-in-out infinite; }
        
        @keyframes float-up {
          0% { transform: translateY(0) rotate(0deg); opacity: 0; }
          10% { opacity: 0.4; }
          90% { opacity: 0.4; }
          100% { transform: translateY(-100vh) rotate(20deg); opacity: 0; }
        }
        .animate-float-up { animation: float-up 8s ease-in-out infinite; }
        
        .delay-300 { animation-delay: 0.3s; }
        .delay-500 { animation-delay: 0.5s; }
      `})]})},rj=({onLogin:i})=>{const[e,n]=Z.useState(""),[r,o]=Z.useState(""),[u,f]=Z.useState(""),[p,y]=Z.useState(!1),_=async x=>{x.preventDefault(),y(!0),f("");try{let z=(await AA(Is,e,r)).user.displayName;(!z||z.trim()==="")&&(z=e.split("@")[0]),i(z)}catch(w){console.error(w);let R="Incorrect email or password.";w.code==="auth/user-not-found"||w.code==="auth/wrong-password"?R="Incorrect email or password.":w.code==="auth/too-many-requests"&&(R="Too many failed attempts. Please try again later."),f(R),y(!1)}};return d.jsxs("div",{className:"min-h-screen bg-rose-50 flex items-center justify-center p-4 relative overflow-hidden",children:[d.jsx(sj,{}),d.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl p-8 w-full max-w-md relative z-10 border border-white",children:[d.jsx("div",{className:"flex flex-col items-center -mt-20 mb-6",children:d.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-white shadow-lg overflow-hidden bg-pink-200",children:d.jsx("img",{src:ej,alt:"Us",className:"w-full h-full object-cover"})})}),d.jsx("h2",{className:"text-3xl font-serif text-center text-rose-800 mb-8",children:"Our Secret Space"}),d.jsxs("form",{onSubmit:_,className:"space-y-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx(ip,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-rose-400",size:20}),d.jsx("input",{type:"email",placeholder:"Your email...",className:"w-full pl-12 pr-4 py-4 rounded-full border-2 border-pink-200 focus:border-rose-400 focus:outline-none bg-pink-50 text-rose-700",value:e,onChange:x=>n(x.target.value),required:!0})]}),d.jsxs("div",{className:"relative",children:[d.jsx(bo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-rose-400",size:20}),d.jsx("input",{type:"password",placeholder:"Our secret password...",className:"w-full pl-12 pr-4 py-4 rounded-full border-2 border-pink-200 focus:border-rose-400 focus:outline-none bg-pink-50 text-rose-700",value:r,onChange:x=>o(x.target.value),required:!0})]}),u&&d.jsx("p",{className:"text-red-500 text-sm text-center font-medium animate-pulse",children:u}),d.jsx("button",{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-bold py-4 rounded-full shadow-lg transform hover:scale-105 transition-all flex items-center justify-center gap-2",disabled:p,children:p?d.jsx(vu,{className:"animate-spin"}):d.jsxs(d.Fragment,{children:["Login to my Heart ",d.jsx(as,{fill:"white",size:20})]})})]})]})]})},Rb=({date:i,title:e})=>{const[n,r]=Z.useState({days:0,hours:0,minutes:0,seconds:0});return Z.useEffect(()=>{const o=setInterval(()=>{const u=new Date;let f=new Date(u.getFullYear(),i.month-1,i.day);u>f&&(f=new Date(u.getFullYear()+1,i.month-1,i.day));const p=f-u;r({days:Math.floor(p/864e5),hours:Math.floor(p/36e5%24),minutes:Math.floor(p/1e3/60%60),seconds:Math.floor(p/1e3%60)})},1e3);return()=>clearInterval(o)},[i]),d.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-md border border-pink-100 flex flex-col items-center w-full",children:[d.jsxs("h3",{className:"text-rose-600 font-bold mb-2 flex items-center gap-2",children:[d.jsx(PI,{size:16})," ",e]}),d.jsx("div",{className:"grid grid-cols-4 gap-2 text-center w-full",children:Object.entries(n).map(([o,u])=>d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-700",children:u}),d.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:o})]},o))})]})},aj="dxdyn3wpt",oj="unsigned_preset";async function lj(i,e=1200,n=.8){return new Promise(r=>{const o=new FileReader;o.onload=u=>{const f=new Image;f.onload=()=>{const p=document.createElement("canvas");let{width:y,height:_}=f;y>e&&(_=_*e/y,y=e),p.width=y,p.height=_,p.getContext("2d").drawImage(f,0,0,y,_),p.toBlob(w=>{r(new File([w],i.name,{type:"image/jpeg"}))},"image/jpeg",n)},f.src=u.target.result},o.readAsDataURL(i)})}async function rg(i){const e=await lj(i),n=`https://api.cloudinary.com/v1_1/${aj}/image/upload`,r=new FormData;r.append("file",e),r.append("upload_preset",oj);const u=await(await fetch(n,{method:"POST",body:r})).json();if(!u.secure_url)throw new Error("Cloudinary upload failed");return u.secure_url}const uj=Vh.memo(()=>{const[i,e]=Z.useState(null),[n,r]=Z.useState(!1),[o,u]=Z.useState(3e3),[f,p]=Z.useState([]),[y,_]=Z.useState(!1),[x,w]=Z.useState({current:0,total:0}),R=Z.useRef(null);Z.useEffect(()=>{const se=vo(ss(rt,"gallery"),hf("createdAt","desc")),re=ru(se,oe=>{const me=oe.docs.map(Ee=>({id:Ee.id,...Ee.data()}));p(me)});return()=>re()},[]);const z=Z.useCallback(()=>e(se=>(se+1)%f.length),[f.length]),ne=Z.useCallback(()=>e(se=>(se-1+f.length)%f.length),[f.length]);Z.useEffect(()=>(n&&f.length>0?R.current=setInterval(z,o):clearInterval(R.current),()=>clearInterval(R.current)),[n,o,z,f.length]);const X=async se=>{const re=Array.from(se.target.files).slice(0,90);if(!re.length)return;_(!0),w({current:0,total:re.length});let oe=!1;const me=10;for(let Ee=0;Ee<re.length;Ee+=me){const pe=re.slice(Ee,Ee+me);await Promise.all(pe.map(async(C,A)=>{try{const N=await rg(C);await iu(ss(rt,"gallery"),{url:N,createdAt:oi()})}catch{oe=!0}finally{w(N=>({current:N.current+1,total:N.total}))}}))}oe&&alert("Some images failed to upload."),_(!1),w({current:0,total:0}),se.target.value=null},Y=async(se,re)=>{if(se.stopPropagation(),!!window.confirm("Delete this memory?"))try{await Jr(Zt(rt,"gallery",re))}catch{alert("Failed to delete photo.")}};return d.jsxs("div",{className:"w-full bg-rose-50 min-h-screen p-4 md:p-8 pb-32",children:[d.jsxs("div",{className:"text-center mb-10 animate-fade-in-up",children:[d.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-rose-800 mb-4",children:"Our Beautiful Memories"}),d.jsx("p",{className:"text-rose-400 italic",children:"Every picture tells a story of us."}),d.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-sm border border-rose-100",children:[d.jsx(ra,{size:18,className:"text-rose-500"}),d.jsx("span",{className:"text-rose-600 font-bold",children:f.length}),d.jsx("span",{className:"text-gray-500",children:"memories"})]}),d.jsx("div",{className:"mt-6 flex justify-center",children:d.jsxs("label",{className:"flex items-center gap-2 bg-rose-500 text-white px-6 py-3 rounded-full cursor-pointer hover:bg-rose-600 transition-colors shadow-lg",children:[y?d.jsx(vu,{className:"animate-spin",size:20}):d.jsx(rE,{size:20}),d.jsx("span",{className:"font-bold",children:y?`Uploading ${x.current}/${x.total}`:"Add Memory"}),d.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:X,disabled:y,multiple:!0})]})})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[f.map((se,re)=>d.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-2xl cursor-pointer shadow-md bg-white",onClick:()=>{e(re),r(!1)},children:[d.jsx("img",{src:se.url,alt:"Memory",loading:"lazy",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"}),d.jsx("button",{onClick:oe=>Y(oe,se.id),className:"absolute top-2 right-2 p-2 bg-red-500/90 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-red-600 shadow-lg z-10",title:"Delete photo",children:d.jsx(ig,{size:16})})]},se.id)),f.length===0&&d.jsx("div",{className:"col-span-full text-center py-20 text-gray-400",children:"No memories yet. Start by uploading one! "})]}),i!==null&&f[i]&&d.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center animate-fade-in",children:[d.jsx("button",{onClick:()=>e(null),className:"absolute top-4 right-4 text-white p-2 z-50",children:d.jsx(qn,{size:32})}),d.jsx("img",{src:f[i].url,alt:"Full",className:"max-h-[85vh] max-w-full object-contain rounded-lg animate-zoom-in"}),d.jsx("button",{onClick:se=>{se.stopPropagation(),ne()},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/10 text-white p-3 rounded-full hover:bg-white/20",children:d.jsx(au,{})}),d.jsx("button",{onClick:se=>{se.stopPropagation(),z()},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/10 text-white p-3 rounded-full hover:bg-white/20",children:d.jsx(ou,{})}),d.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-white/10 backdrop-blur-md border border-white/20 px-6 py-3 rounded-full flex items-center gap-6 z-50",children:d.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 text-white font-medium",children:[n?d.jsx(Mh,{size:20}):d.jsx(aa,{size:20})," ",n?"Pause":"Slideshow"]})})]}),d.jsx("style",{children:`
        @keyframes zoom-in { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .animate-zoom-in { animation: zoom-in 0.3s ease-out forwards; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
      `})]})}),cj=({event:i,index:e,isLast:n})=>{const[r,o]=Z.useState(!1),u=Z.useRef();return Z.useEffect(()=>{const f=new IntersectionObserver(p=>p.forEach(y=>o(y.isIntersecting)),{threshold:.15});return u.current&&f.observe(u.current),()=>u.current&&f.unobserve(u.current)},[]),d.jsxs("div",{ref:u,className:"relative flex gap-4 pl-2 pb-12",children:[!n&&d.jsx("div",{className:"absolute left-[19px] top-8 bottom-0 w-0.5 bg-gradient-to-b from-rose-300 to-rose-100/50"}),d.jsx("div",{className:`relative z-10 shrink-0 mt-1 transition-all duration-700 delay-100 ${r?"scale-100 opacity-100":"scale-0 opacity-0"}`,children:d.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-100 border-2 border-rose-300 flex items-center justify-center shadow-md",children:d.jsx(as,{size:18,className:"text-rose-500 fill-rose-500"})})}),d.jsx("div",{className:`flex-1 min-w-0 transform transition-all duration-700 ease-out 
          ${r?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:d.jsxs("div",{className:"bg-white/60 backdrop-blur-xl border border-white/60 p-5 rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-lg transition-shadow",children:[d.jsx("span",{className:"inline-block px-3 py-1 bg-white text-rose-500 text-[10px] font-bold tracking-widest uppercase rounded-full mb-3 shadow-sm border border-rose-100",children:i.date}),d.jsxs("div",{className:"relative mb-4 rotate-1 hover:rotate-0 transition-transform duration-300",children:[d.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-2xl transform translate-y-1 translate-x-1"}),d.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-sm aspect-[4/3] bg-white border-4 border-white",children:i.img?d.jsx("img",{src:i.img,alt:i.title,className:`w-full h-full ${i.imgPos||"object-cover object-center"}`,loading:"lazy"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center bg-rose-50 text-rose-300",children:d.jsx(ra,{size:32})})})]}),d.jsx("h3",{className:"text-2xl font-serif text-gray-800 mb-2 leading-tight",children:i.title}),d.jsx("div",{className:"text-sm text-gray-600 font-light leading-relaxed",children:i.description})]})})]})},hj=({event:i,index:e})=>{const[n,r]=Z.useState(!1),o=Z.useRef();Z.useEffect(()=>{const f=new IntersectionObserver(p=>p.forEach(y=>r(y.isIntersecting)),{threshold:.2});return o.current&&f.observe(o.current),()=>o.current&&f.unobserve(o.current)},[]);const u=e%2===0;return d.jsx("div",{ref:o,className:`hidden md:flex min-h-[60vh] items-center justify-center p-8 transition-opacity duration-1000 ${n?"opacity-100":"opacity-0"}`,children:d.jsxs("div",{className:`flex flex-row items-center gap-16 max-w-6xl w-full ${u?"":"flex-row-reverse"}`,children:[d.jsx("div",{className:`flex-1 w-full transform transition-all duration-1000 delay-300 
            ${n?"translate-x-0 opacity-100":u?"-translate-x-20 opacity-0":"translate-x-20 opacity-0"}`,children:d.jsx("div",{className:"relative group rounded-3xl overflow-hidden shadow-2xl border-4 border-white rotate-2 hover:rotate-0 transition-transform bg-white",children:i.img?d.jsx("img",{src:i.img,alt:i.title,className:`w-full h-auto max-h-[500px] ${i.imgPos||"object-cover object-center"}`}):d.jsx("div",{className:"w-full h-64 bg-rose-100 flex items-center justify-center text-rose-400",children:d.jsx("p",{children:"No Image"})})})}),d.jsxs("div",{className:`flex-1 text-left transform transition-all duration-1000 delay-500 
            ${n?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:[d.jsx("span",{className:"inline-block px-4 py-2 bg-rose-100 text-rose-600 rounded-full text-sm font-bold mb-4",children:i.date}),d.jsx("h2",{className:"text-6xl font-serif text-rose-800 mb-6",children:i.title}),d.jsx("div",{className:"text-xl text-gray-600 leading-relaxed font-light",children:i.description})]})]})})},fj=Vh.memo(()=>d.jsxs("div",{className:"w-full bg-gradient-to-b from-rose-50 to-white pb-32",children:[d.jsx("div",{className:"h-[30vh] md:h-[40vh] flex items-center justify-center bg-rose-50",children:d.jsx("h2",{className:"text-4xl md:text-6xl font-serif text-rose-800 animate-fade-in-up",children:"Our Beautiful Journey "})}),d.jsx("div",{className:"md:hidden px-4",children:d.jsx("div",{className:"max-w-md mx-auto relative",children:Im.map((i,e)=>d.jsx(cj,{event:i,index:e,isLast:e===Im.length-1},e))})}),d.jsx("div",{className:"hidden md:block",children:Im.map((i,e)=>d.jsx(hj,{event:i,index:e},e))}),d.jsx("div",{className:"relative py-24 bg-rose-50 text-rose-900",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[d.jsx(HI,{className:"w-16 h-16 mx-auto mb-6 text-rose-400 animate-pulse"}),d.jsx("h2",{className:"text-4xl font-serif text-rose-800 mb-8",children:"The Storms We Weathered"}),d.jsxs("div",{className:"text-lg text-gray-600 mb-12",children:[d.jsx("p",{className:"mb-2",children:"Haan, hum ladte hain. Sometimes a lot. But you know what? That's the best part."}),d.jsx("p",{children:"Kyunki har ladai ke baad wala pyaar aur bhi gehra hota hai."}),d.jsx("p",{children:"Fights hoti rahengi, manana chalta rahega, bas tum saath rehna."})]}),d.jsxs("div",{className:"border-t border-rose-200 pt-12 mt-12",children:[d.jsx(as,{className:"w-16 h-16 text-rose-500 mx-auto mb-4 animate-bounce",fill:"currentColor"}),d.jsx("h2",{className:"text-3xl md:text-5xl font-serif mb-4 text-rose-800",children:"And the journey continues..."}),d.jsx("p",{className:"text-rose-500 text-xl font-medium",children:"Till my last breath. "})]})]})})]})),dj=({songs:i,currentSongIndex:e,isPlaying:n,isFullScreen:r,onPlayPause:o,onNext:u,onPrev:f,onToggleFullScreen:p,onSeek:y,currentTime:_,duration:x,onShuffle:w,isShuffle:R,onRepeat:z,repeatMode:ne})=>{const X=i[e],[Y,se]=Vh.useState(!0);return X?!r&&n&&Y?d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-rose-100 shadow-[0_-5px_20px_rgba(0,0,0,0.1)] z-[90] px-4 py-3 cursor-pointer transition-all duration-300 overflow-hidden",onClick:p,children:[d.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[d.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden shadow-md shrink-0",children:d.jsx("img",{src:X.cover,alt:"Art",className:`w-full h-full object-cover ${n?"animate-spin-slow":""}`})}),d.jsxs("div",{className:"flex flex-col min-w-0",children:[d.jsx("span",{className:"font-bold text-gray-800 truncate",children:X.title}),d.jsx("span",{className:"text-xs text-rose-500 truncate",children:X.artist})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-rose-50 text-gray-600",onClick:re=>{re.stopPropagation(),o()},children:n?d.jsx(Mh,{size:24,fill:"currentColor"}):d.jsx(aa,{size:24,fill:"currentColor"})}),d.jsx("button",{className:"p-2 rounded-full hover:bg-rose-50 text-gray-600 hidden md:block",onClick:re=>{re.stopPropagation(),u()},children:d.jsx(Tb,{size:24,fill:"currentColor"})}),d.jsx("button",{className:"p-2 rounded-full hover:bg-rose-100 text-gray-400 ml-2",onClick:re=>{re.stopPropagation(),se(!1)},title:"Close",children:d.jsx(qn,{size:22})})]})]}),d.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-rose-100 w-full",children:d.jsx("div",{className:"h-full bg-rose-500",style:{width:`${_/x*100}%`}})})]}):r?d.jsxs("div",{className:"fixed inset-0 bg-white z-[100] flex flex-col animate-fade-in-up overflow-hidden",style:{height:"100vh",overflow:"hidden"},children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30 blur-3xl scale-110",style:{backgroundImage:`url(${X.cover})`}}),d.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-3xl"}),d.jsxs("div",{className:"relative z-10 flex items-center justify-between p-6",children:[d.jsx("button",{onClick:p,className:"p-2 bg-white/50 rounded-full hover:bg-white transition-colors",children:d.jsx(sE,{size:28,className:"text-gray-700"})}),d.jsx("span",{className:"text-gray-500 font-medium tracking-widest uppercase text-xs",children:"Now Playing"}),d.jsx("button",{className:"p-2 bg-white/50 rounded-full hover:bg-white transition-colors",children:d.jsx(e4,{size:24,className:"text-gray-700"})})]}),d.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-8 text-center space-y-8 overflow-hidden",style:{height:"100%",overflow:"hidden"},children:[d.jsx("div",{className:"w-72 h-72 md:w-96 md:h-96 rounded-3xl overflow-hidden shadow-2xl border-8 border-white/50 relative",children:d.jsx("img",{src:X.cover,alt:"Album Art",className:`w-full h-full object-cover transition-transform duration-[10s] ${n?"scale-110":"scale-100"}`})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-gray-800",children:X.title}),d.jsx("p",{className:"text-lg text-rose-600 font-medium",children:X.artist})]}),d.jsxs("div",{className:"w-full max-w-md space-y-2",children:[d.jsx("input",{type:"range",min:"0",max:x||0,value:_,onChange:re=>y(Number(re.target.value)),className:"w-full h-2 bg-rose-200 rounded-lg appearance-none cursor-pointer accent-rose-500"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500 font-medium",children:[d.jsx("span",{children:Nb(_)}),d.jsx("span",{children:Nb(x)})]})]}),d.jsxs("div",{className:"flex items-center justify-center gap-6 md:gap-10",children:[d.jsx("button",{onClick:w,className:`p-3 rounded-full transition-all ${R?"text-rose-600 bg-rose-100":"text-gray-400 hover:text-gray-600"}`,children:d.jsx(iE,{size:24})}),d.jsx("button",{onClick:()=>f(),className:"text-gray-800 hover:text-rose-600 transition-colors",children:d.jsx(b4,{size:36,fill:"currentColor"})}),d.jsx("button",{onClick:o,className:"w-20 h-20 bg-rose-500 rounded-full flex items-center justify-center text-white shadow-xl hover:scale-105 hover:bg-rose-600 transition-all",children:n?d.jsx(Mh,{size:40,fill:"currentColor"}):d.jsx(aa,{size:40,fill:"currentColor",className:"ml-2"})}),d.jsx("button",{onClick:()=>u(),className:"text-gray-800 hover:text-rose-600 transition-colors",children:d.jsx(Tb,{size:36,fill:"currentColor"})}),d.jsxs("button",{onClick:z,className:`p-3 rounded-full transition-all ${ne!=="off"?"text-rose-600 bg-rose-100":"text-gray-400 hover:text-gray-600"}`,children:[d.jsx(p4,{size:24}),ne==="one"&&d.jsx("span",{className:"absolute text-[8px] font-bold -mt-2 ml-3",children:"1"})]})]})]})]}):null:null},mj=({onPlaySong:i,onShufflePlay:e})=>d.jsxs("div",{className:"w-full bg-gradient-to-b from-rose-50 to-white min-h-screen pb-32",children:[d.jsxs("div",{className:"pt-10 px-6 pb-6",children:[d.jsx("h2",{className:"text-4xl font-serif text-rose-800 mb-2",children:"Our Playlist "}),d.jsx("p",{className:"text-gray-500 mb-6",children:"Songs that remind me of you."}),d.jsxs("div",{className:"flex gap-4 mb-6",children:[d.jsxs("button",{onClick:()=>i(0),className:"flex-1 bg-rose-500 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-rose-600 transition-colors",children:[d.jsx(aa,{fill:"currentColor",size:20})," Play All"]}),d.jsxs("button",{onClick:e,className:"flex-1 bg-rose-100 text-rose-600 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-rose-200 transition-colors",children:[d.jsx(iE,{size:20})," Shuffle"]})]})]}),d.jsx("div",{className:"px-4 space-y-2",children:Xr.map((n,r)=>d.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl hover:bg-rose-50 transition-colors cursor-pointer group bg-white shadow-sm border border-transparent hover:border-rose-100",onClick:()=>i(r),children:[d.jsx("span",{className:"text-gray-400 w-6 text-center font-medium group-hover:text-rose-500",children:r+1}),d.jsxs("div",{className:"w-14 h-14 rounded-lg overflow-hidden relative shadow-md",children:[d.jsx("img",{src:n.cover,alt:n.title,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(aa,{size:20,className:"text-white fill-white"})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-gray-800 truncate group-hover:text-rose-600",children:n.title}),d.jsx("p",{className:"text-sm text-gray-500 truncate",children:n.artist})]}),d.jsx("button",{className:"p-2 text-gray-300 hover:text-rose-500",children:d.jsx(as,{size:20})})]},n.id))})]}),pj=()=>{const[i,e]=Z.useState(!0),[n,r]=Z.useState(!1),[o,u]=Z.useState(null),f=()=>{r(!0),e(!1)},p=()=>e(!1),y=()=>{r(!1),e(!0)},_=[{id:1,icon:"",title:"The Peace",text:"Jab sab kuch wrong ja raha hota hai, bas tumhari ek call sab theek kar deti hai. You are my calm in the chaos."},{id:2,icon:"",title:"The Mirror",text:"You make me want to be better. Tumhare liye main best ban'na chahta hoon. You inspire me every day."},{id:3,icon:"",title:"The Silence",text:"Hamaari chup mein bhi baatein hoti hain. I don't need words with you. Just your presence is enough."},{id:4,icon:"",title:"The Strength",text:"Tum sirf meri girlfriend nahi, meri taqat ho. My backbone. When I fall, you pick me up."},{id:5,icon:"",title:"The Soul",text:"Mujhe sirf tumse pyaar nahi hai... Mujhe tumhari har aadato se pyaar hai ( example - meri care krna). Forever and ever."}];return n?d.jsx("div",{className:"min-h-screen bg-rose-50 flex flex-col items-center justify-center p-6 text-center animate-fade-in-up",children:d.jsxs("div",{className:"bg-white/90 backdrop-blur-xl p-8 rounded-3xl shadow-2xl max-w-sm border border-white",children:[d.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(bo,{className:"w-10 h-10 text-gray-400"})}),d.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-800 mb-2",children:"Access Denied"}),d.jsxs("p",{className:"text-gray-500 mb-8 leading-relaxed",children:["Achha? Sab pata hai? ",d.jsx("br",{})," Toh fir yahan kya karne aayi ho?  ",d.jsx("br",{}),d.jsx("span",{className:"text-xs uppercase tracking-widest text-rose-400 mt-2 block",children:"Permission Revoked"})]}),d.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 w-full py-4 bg-rose-500 text-white rounded-xl font-bold hover:bg-rose-600 hover:scale-105 transition-all shadow-lg",children:[d.jsx(vu,{size:18})," Galti ho gayi! (Retry)"]})]})}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-100 via-pink-50 to-rose-100 py-20 px-4 relative overflow-hidden perspective-container",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-rose-300/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-pink-300/20 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"})]}),i&&d.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-md flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl p-8 max-w-sm w-full text-center shadow-2xl animate-bounce-in border border-white/50",children:[d.jsx(as,{className:"w-20 h-20 text-rose-500 mx-auto mb-6 animate-pulse drop-shadow-lg",fill:"currentColor"}),d.jsx("h2",{className:"text-3xl font-serif text-gray-800 mb-3",children:"One Question..."}),d.jsx("p",{className:"text-gray-600 mb-8 font-medium",children:"Do you know exactly why I love you?"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:f,className:"w-full py-4 bg-rose-50 text-rose-600 rounded-xl font-bold hover:bg-rose-100 transition-colors border-2 border-rose-100",children:"Yeah, I know everything! "}),d.jsx("button",{onClick:p,className:"w-full py-4 bg-rose-500 text-white rounded-xl font-bold hover:bg-rose-600 shadow-lg hover:shadow-rose-500/30 transition-all transform hover:scale-105",children:"No, tell me please! "})]})]})}),d.jsxs("div",{className:`transition-opacity duration-1000 ${i?"opacity-0":"opacity-100"}`,children:[d.jsxs("div",{className:"text-center mb-16 relative z-10",children:[d.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-rose-100 text-rose-600 text-xs font-bold tracking-widest uppercase mb-4",children:"Five Reasons"}),d.jsx("h2",{className:"text-4xl md:text-6xl font-serif text-rose-900 mb-6 drop-shadow-sm",children:"Why You Are The One "}),d.jsx("p",{className:"text-rose-400 font-medium text-lg animate-pulse",children:"Tap a card to flip it"})]}),d.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-12 max-w-6xl mx-auto pb-32",children:_.map(x=>d.jsx("div",{className:"group w-72 h-96 cursor-pointer perspective",onClick:()=>u(o===x.id?null:x.id),children:d.jsxs("div",{className:`relative w-full h-full duration-700 preserve-3d transition-transform ${o===x.id?"rotate-y-180":""}`,children:[d.jsx("div",{className:"absolute inset-0 backface-hidden",children:d.jsxs("div",{className:"w-full h-full bg-white/40 backdrop-blur-md rounded-3xl shadow-xl border border-white/60 flex flex-col items-center justify-center p-6 hover:shadow-2xl hover:bg-white/50 transition-all",children:[d.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-rose-400 to-pink-600 rounded-full flex items-center justify-center text-6xl shadow-inner mb-8 transform group-hover:scale-110 transition-transform duration-500",children:x.icon}),d.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-800 group-hover:text-rose-700 transition-colors",children:x.title}),d.jsx("div",{className:"mt-4 w-12 h-1 bg-rose-400 rounded-full"})]})}),d.jsx("div",{className:"absolute inset-0 backface-hidden rotate-y-180",children:d.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-rose-500 to-pink-600 rounded-3xl shadow-xl flex flex-col items-center justify-center p-8 text-center text-white relative overflow-hidden border border-white/20",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-black/10 rounded-full blur-2xl translate-y-1/2 -translate-x-1/2"}),d.jsx(as,{className:"w-12 h-12 text-white/80 mb-6",fill:"currentColor"}),d.jsx("p",{className:"font-medium text-lg leading-relaxed font-serif tracking-wide border-l-2 border-white/30 pl-4",children:x.text}),d.jsx("div",{className:"absolute bottom-6 text-xs text-white/60 uppercase tracking-widest",children:"Always & Forever"})]})})]})},x.id))})]}),d.jsx("style",{children:`
        .perspective { perspective: 1000px; }
        .preserve-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        @keyframes bounce-in {
          0% { transform: scale(0.3); opacity: 0; }
          50% { transform: scale(1.05); }
          70% { transform: scale(0.9); }
          100% { transform: scale(1); opacity: 1; }
        }
        .animate-bounce-in { animation: bounce-in 0.6s cubic-bezier(0.215, 0.610, 0.355, 1.000) both; }
      `})]})},gj=()=>{const[i,e]=Z.useState(!1);return d.jsxs("div",{className:"min-h-screen bg-rose-100 flex items-center justify-center p-4",children:[i?d.jsxs("div",{className:"relative w-full max-w-2xl bg-[#fffef0] shadow-2xl min-h-[60vh] p-8 md:p-12 animate-fade-in-up mx-4",children:[d.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"linear-gradient(#e5e5e5 1px, transparent 1px)",backgroundSize:"100% 2em",marginTop:"4em"}}),d.jsx("div",{className:"absolute top-0 bottom-0 left-8 md:left-12 w-px bg-red-200"}),d.jsxs("div",{className:"relative z-10 font-serif text-gray-700 leading-[2em] text-lg md:text-xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-8",children:[d.jsx("span",{className:"font-bold text-rose-600 text-2xl",children:"Dear Roshni,"}),d.jsx("span",{className:"text-sm text-gray-400",children:"14 Dec 2025"})]}),d.jsx("p",{className:"mb-4",children:"I don't even know where to start. Jab se tum meri life mein aayi ho, sab kuch badal gaya hai. You are the most beautiful thing that has ever happened to me."}),d.jsx("p",{className:"mb-4",children:"Har subah uth ke tumhe yaad karna, aur har raat sone se pehle tumhari awaaz sunnayehi meri duniya ban gayi hai. I promise to love you, cherish you, and annoy you for the rest of my life."}),d.jsx("p",{className:"mb-4",children:"Thank you for being you. Thank you for choosing me."}),d.jsxs("div",{className:"mt-12 text-right",children:[d.jsx("p",{children:"Forever yours,"}),d.jsx("p",{className:"font-bold text-rose-600 text-2xl font-signature",children:"Abhi"})]})]}),d.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-rose-500",children:d.jsx(qn,{size:24})})]}):d.jsxs("div",{onClick:()=>e(!0),className:"relative w-80 h-52 bg-rose-300 cursor-pointer shadow-2xl hover:scale-105 transition-transform flex items-center justify-center group",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-full border-l-[160px] border-l-transparent border-t-[110px] border-t-rose-400 border-r-[160px] border-r-transparent origin-top transition-transform duration-500 z-20 group-hover:rotate-x-180"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-full h-full border-l-[160px] border-l-rose-500 border-b-[100px] border-b-rose-400 border-r-[160px] border-r-rose-500 z-10"}),d.jsx("div",{className:"bg-white px-6 py-3 shadow-sm z-30 font-serif text-rose-800 font-bold rotate-[-2deg]",children:"To Roshni "}),d.jsx("span",{className:"absolute -bottom-10 text-rose-500 text-sm animate-bounce",children:"Tap to open"})]}),d.jsx("style",{children:".font-signature { font-family: 'Brush Script MT', cursive; }"})]})},yj=({onBack:i})=>{const[e,n]=Z.useState([]),[r,o]=Z.useState(!1),[u,f]=Z.useState({current:0,total:0}),[p,y]=Z.useState(null),[_,x]=Z.useState(!1),w=Z.useRef(null);Z.useEffect(()=>{const X=vo(ss(rt,"secret_gallery"),hf("createdAt","desc")),Y=ru(X,se=>{const re=se.docs.map(oe=>({id:oe.id,...oe.data()}));n(re)});return()=>Y()},[]),Z.useEffect(()=>(_&&e.length>0&&(w.current=setInterval(()=>{y(X=>(X+1)%e.length)},3e3)),()=>clearInterval(w.current)),[_,e.length]);const R=Z.useCallback(()=>{y(X=>(X+1)%e.length)},[e.length]),z=Z.useCallback(()=>{y(X=>(X-1+e.length)%e.length)},[e.length]),ne=async X=>{const Y=Array.from(X.target.files).slice(0,130);if(!Y.length)return;o(!0),f({current:0,total:Y.length});let se=!1;const re=10;for(let oe=0;oe<Y.length;oe+=re){const me=Y.slice(oe,oe+re);await Promise.all(me.map(async Ee=>{try{const pe=await rg(Ee);await iu(ss(rt,"secret_gallery"),{url:pe,createdAt:oi()})}catch{se=!0}finally{f(pe=>({...pe,current:pe.current+1}))}}))}se&&alert("Some images failed to upload."),o(!1),f({current:0,total:0}),X.target.value=null};return d.jsxs("div",{className:"min-h-screen bg-rose-50 p-6 pb-32",children:[d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsx("div",{className:"flex justify-between items-center mb-8",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:i,className:"p-2 bg-white rounded-full shadow-md hover:bg-rose-50 transition-colors",children:d.jsx(au,{size:24,className:"text-rose-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-serif text-rose-800",children:"Secret Photos "}),d.jsx("p",{className:"text-gray-500",children:"Only for our eyes."})]})]})}),d.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-sm border border-rose-100",children:[d.jsx(ra,{size:18,className:"text-rose-500"}),d.jsx("span",{className:"text-rose-600 font-bold",children:e.length}),d.jsx("span",{className:"text-gray-500",children:"secret memories"})]}),d.jsx("div",{className:"mb-10",children:d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-rose-300 border-dashed rounded-2xl cursor-pointer bg-rose-50 hover:bg-rose-100 transition-colors",children:[d.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:r?d.jsxs(d.Fragment,{children:[d.jsx(vu,{className:"w-8 h-8 text-rose-400 mb-2 animate-spin"}),d.jsxs("p",{className:"text-sm text-rose-600 font-medium",children:["Uploading ",u.current,"/",u.total,"..."]})]}):d.jsxs(d.Fragment,{children:[d.jsx(rE,{className:"w-8 h-8 text-rose-400 mb-2"}),d.jsxs("p",{className:"text-sm text-gray-500",children:[d.jsx("span",{className:"font-semibold",children:"Click to upload"})," your photo(s)"]})]})}),d.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ne,multiple:!0,disabled:r})]})}),e.length===0?d.jsxs("div",{className:"text-center py-10 opacity-50",children:[d.jsx(ra,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),d.jsx("p",{children:"No secret photos yet. Upload one!"})]}):d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map((X,Y)=>d.jsx("div",{className:"group relative aspect-square rounded-xl overflow-hidden shadow-md bg-white p-2 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{y(Y),x(!1)},children:d.jsx("img",{src:X.url,alt:"Secret",className:"w-full h-full object-cover rounded-lg group-hover:scale-105 transition-transform duration-500",loading:"lazy"})},X.id))})]}),p!==null&&e[p]&&d.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center animate-fade-in",children:[d.jsx("button",{onClick:()=>{y(null),x(!1)},className:"absolute top-4 right-4 text-white p-2 z-50 hover:bg-white/10 rounded-full",children:d.jsx(qn,{size:32})}),d.jsxs("div",{className:"absolute top-4 left-4 text-white/70 text-sm font-medium z-50",children:[p+1," / ",e.length]}),d.jsx("img",{src:e[p].url,alt:"Secret Photo",className:"max-h-[85vh] max-w-full object-contain rounded-lg animate-zoom-in"}),d.jsx("button",{onClick:X=>{X.stopPropagation(),z()},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/10 text-white p-3 rounded-full hover:bg-white/20 transition-colors",children:d.jsx(au,{size:28})}),d.jsx("button",{onClick:X=>{X.stopPropagation(),R()},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/10 text-white p-3 rounded-full hover:bg-white/20 transition-colors",children:d.jsx(ou,{size:28})}),d.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-white/10 backdrop-blur-md border border-white/20 px-6 py-3 rounded-full flex items-center gap-6 z-50",children:d.jsxs("button",{onClick:()=>x(!_),className:"flex items-center gap-2 text-white font-medium hover:text-rose-300 transition-colors",children:[_?d.jsx(Mh,{size:20}):d.jsx(aa,{size:20}),_?"Pause":"Slideshow"]})})]}),d.jsx("style",{children:`
        @keyframes zoom-in { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .animate-zoom-in { animation: zoom-in 0.3s ease-out forwards; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
      `})]})},_j=({onBack:i,userName:e})=>{const[n,r]=Z.useState([]),[o,u]=Z.useState(""),[f,p]=Z.useState(!0),[y,_]=Z.useState(!1),[x,w]=Z.useState(null),[R,z]=Z.useState(!1),ne=Z.useRef(null),X=Z.useRef(null),Y=Z.useRef(null),se=I=>I?.toLowerCase().replace(/\s+/g,"")||"",re=se(e);Z.useEffect(()=>{const I=vo(ss(rt,"secret_chat"),hf("createdAt","asc")),D=ru(I,M=>{const S=new Date,Ne=[];M.docs.forEach(De=>{const F=De.data(),$=F.expiresAt?.toDate?.();$&&$<S?Jr(Zt(rt,"secret_chat",De.id)):Ne.push({id:De.id,...F})}),r(Ne),p(!1),Ne.forEach(async De=>{if(se(De.sender)!==re&&!De.seen)try{await $x(Zt(rt,"secret_chat",De.id),{seen:!0})}catch{}})});return()=>D()},[re]),Z.useEffect(()=>{const I=Zt(rt,"secret_chat_typing","status"),D=ru(I,M=>{if(M.exists()){const S=M.data(),Ne=se(S.user),De=S.timestamp?.toDate?.();Ne&&Ne!==re&&De&&new Date-De<3e3?z(!0):z(!1)}});return()=>D()},[re]),Z.useEffect(()=>{const I=setInterval(async()=>{const D=new Date;n.forEach(async M=>{const S=M.expiresAt?.toDate?.();if(S&&S<D)try{await Jr(Zt(rt,"secret_chat",M.id))}catch{}})},3e4);return()=>clearInterval(I)},[n]),Z.useEffect(()=>{ne.current?.scrollIntoView({behavior:"smooth"})},[n,R]);const oe=async()=>{try{await dh(Zt(rt,"secret_chat_typing","status"),{user:e,timestamp:oi()})}catch{}},me=I=>{u(I.target.value),oe(),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(async()=>{try{await dh(Zt(rt,"secret_chat_typing","status"),{user:"",timestamp:oi()})}catch{}},2e3)},Ee=async I=>{if(I.preventDefault(),!o.trim())return;const D=new Date,M=new Date(D.getTime()+360*60*1e3);try{await iu(ss(rt,"secret_chat"),{text:o,imageUrl:null,isPhoto:!1,sender:e,createdAt:oi(),expiresAt:M,seen:!1}),u(""),await dh(Zt(rt,"secret_chat_typing","status"),{user:"",timestamp:oi()})}catch{alert("Failed to send message")}},pe=async I=>{const D=I.target.files?.[0];if(D){_(!0);try{const M=await rg(D),S=new Date,Ne=new Date(S.getTime()+60*1e3);await iu(ss(rt,"secret_chat"),{text:null,imageUrl:M,isPhoto:!0,sender:e,createdAt:oi(),expiresAt:Ne,seen:!1})}catch{alert("Failed to send photo")}_(!1),I.target.value=null}},C=async I=>{try{await Jr(Zt(rt,"secret_chat",I))}catch{alert("Failed to delete")}},A=async()=>{if(window.confirm("Delete ALL messages? This cannot be undone!"))try{const I=n.map(D=>Jr(Zt(rt,"secret_chat",D.id)));await Promise.all(I)}catch{alert("Failed to clear chat")}},N=I=>{if(!I?.toDate)return"";const D=new Date,S=I.toDate()-D;if(S<=0)return"Expiring...";const Ne=Math.floor(S/6e4),De=Math.floor(Ne/60);if(De>0)return`${De}h ${Ne%60}m`;const F=Math.floor(S%6e4/1e3);return Ne>0?`${Ne}m ${F}s`:`${F}s`};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 via-pink-50 to-rose-50 flex flex-col",children:[d.jsxs("div",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-md shadow-sm px-4 py-3 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:i,className:"p-2 bg-rose-50 rounded-full hover:bg-rose-100 transition-colors",children:d.jsx(au,{size:24,className:"text-rose-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-serif text-rose-800 font-bold",children:" Love Talks"}),d.jsx("p",{className:"text-xs text-gray-400",children:R?d.jsx("span",{className:"text-rose-500 animate-pulse",children:"typing..."}):"Photos: 1min  Texts: 6hrs"})]})]}),d.jsx("button",{onClick:A,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Clear All",children:d.jsx(ig,{size:20})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-3",children:[f?d.jsx("div",{className:"space-y-4 pt-10",children:[1,2,3].map(I=>d.jsx(nj,{className:"h-16 w-3/4"},I))}):n.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-60 text-gray-400",children:[d.jsx(as,{size:48,className:"mb-3 text-rose-200"}),d.jsxs("p",{className:"text-center",children:["No messages yet.",d.jsx("br",{}),"Start a secret convo! "]})]}):n.map(I=>{const D=se(I.sender)===re,M=N(I.expiresAt);return d.jsx("div",{className:`flex ${D?"justify-end":"justify-start"} group`,children:d.jsxs("div",{className:`relative max-w-[80%] px-4 py-3 rounded-2xl shadow-sm ${D?"bg-gradient-to-br from-rose-500 to-pink-500 text-white rounded-br-sm":"bg-white text-gray-800 rounded-bl-sm border border-gray-100"}`,children:[I.isPhoto&&I.imageUrl?d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:I.imageUrl,alt:"Secret",className:"max-w-full rounded-lg cursor-pointer hover:opacity-90 transition-opacity",style:{maxHeight:"200px"},onClick:()=>w(I.imageUrl)}),d.jsxs("div",{className:`absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-bold ${D?"bg-white/30 text-white":"bg-red-100 text-red-600"}`,children:[" ",M]})]}):d.jsx("p",{className:"text-sm leading-relaxed",children:I.text}),d.jsxs("div",{className:`flex items-center justify-between gap-3 mt-2 ${D?"text-rose-200":"text-gray-400"}`,children:[d.jsxs("span",{className:"text-[10px]",children:[I.sender,"  ",I.createdAt?.toDate?.()?.toLocaleTimeString?.([],{hour:"2-digit",minute:"2-digit"})||"now"]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("span",{className:"text-[10px]",children:[" ",M]}),D&&d.jsx("span",{className:"text-[10px] ml-1",children:I.seen?d.jsx("span",{title:"Seen",className:"text-blue-300",children:""}):d.jsx("span",{title:"Sent",className:"opacity-60",children:""})})]})]}),D&&d.jsx("button",{onClick:()=>C(I.id),className:"absolute -top-2 -left-2 opacity-0 group-hover:opacity-100 p-1.5 bg-red-500 text-white rounded-full shadow-lg hover:bg-red-600 transition-all transform hover:scale-110",children:d.jsx(qn,{size:12})})]})},I.id)}),R&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-white text-gray-500 px-4 py-3 rounded-2xl rounded-bl-sm border border-gray-100 shadow-sm",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),d.jsx("div",{ref:ne})]}),d.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur-md border-t border-gray-100 p-4 pb-8",children:[d.jsxs("form",{onSubmit:Ee,className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>X.current?.click(),disabled:y,className:"p-3 bg-purple-100 text-purple-600 rounded-full hover:bg-purple-200 transition-colors disabled:opacity-50",children:y?d.jsx(vu,{size:20,className:"animate-spin"}):d.jsx(ra,{size:20})}),d.jsx("input",{ref:X,type:"file",className:"hidden",accept:"image/*",onChange:pe}),d.jsx("input",{type:"text",value:o,onChange:me,placeholder:"Type a secret message... ",className:"flex-1 px-5 py-3 rounded-full bg-gray-50 border-2 border-gray-100 focus:border-rose-300 focus:outline-none text-gray-700 placeholder-gray-400"}),d.jsx("button",{type:"submit",className:"p-3 bg-rose-500 text-white rounded-full font-bold hover:bg-rose-600 transition-colors shadow-lg disabled:opacity-50",disabled:!o.trim(),children:d.jsx(sg,{size:20})})]}),d.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:" Photos vanish in 1 min   Texts in 6 hrs"})]}),x&&d.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center",onClick:()=>w(null),children:[d.jsx("button",{className:"absolute top-4 right-4 text-white p-2 hover:bg-white/10 rounded-full",children:d.jsx(qn,{size:32})}),d.jsx("img",{src:x,alt:"Secret",className:"max-h-[90vh] max-w-full object-contain"})]})]})},vj=({onLock:i,userName:e})=>{const[n,r]=Z.useState(null);return n?n==="photos"?d.jsx(yj,{onBack:()=>r(null)}):n==="chat"?d.jsx(_j,{onBack:()=>r(null),userName:e}):null:d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-100 via-pink-50 to-purple-100 flex flex-col items-center justify-center p-6",children:[d.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-rose-300/20 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-purple-300/20 rounded-full blur-3xl"}),d.jsxs("div",{className:"relative z-10 text-center mb-12 animate-fade-in-up",children:[d.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:d.jsx(bo,{className:"w-10 h-10 text-rose-500"})}),d.jsx("h1",{className:"text-4xl font-serif text-rose-800 mb-3",children:"Secret Space "}),d.jsx("p",{className:"text-gray-500",children:"Choose what you want to explore..."})]}),d.jsxs("div",{className:"relative z-10 grid gap-6 max-w-md w-full",children:[d.jsxs("button",{onClick:()=>r("photos"),className:"group bg-white/80 backdrop-blur-md rounded-3xl p-8 shadow-xl border border-white/50 hover:shadow-2xl hover:scale-[1.02] transition-all text-left",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-400 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:d.jsx(ra,{size:32,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-serif text-gray-800 mb-1",children:"Secret Photos"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Our private gallery  Forever saved"})]})]}),d.jsxs("div",{className:"mt-4 flex items-center text-rose-500 font-medium",children:[d.jsx("span",{children:"Open Gallery"}),d.jsx(ou,{size:20,className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]}),d.jsxs("button",{onClick:()=>r("chat"),className:"group bg-white/80 backdrop-blur-md rounded-3xl p-8 shadow-xl border border-white/50 hover:shadow-2xl hover:scale-[1.02] transition-all text-left",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-indigo-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:d.jsx(s4,{size:32,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-serif text-gray-800 mb-1",children:"Love Talks"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Private chat  Auto-deleting messages"})]})]}),d.jsxs("div",{className:"mt-4 flex items-center text-purple-500 font-medium",children:[d.jsx("span",{children:"Start Chatting"}),d.jsx(ou,{size:20,className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]}),d.jsxs("button",{onClick:i,className:"relative z-10 mt-12 flex items-center gap-2 bg-white/60 backdrop-blur-sm text-gray-600 px-6 py-3 rounded-full hover:bg-white/80 transition-colors shadow-md",children:[d.jsx(bo,{size:16})," Lock & Exit"]})]})},bj=()=>{const[i,e]=Z.useState([]),[n,r]=Z.useState("");Z.useEffect(()=>{const p=vo(ss(rt,"wishes"),hf("createdAt","desc")),y=ru(p,_=>{const x=_.docs.map(w=>({id:w.id,...w.data()}));e(x)});return()=>y()},[]);const o=async p=>{if(p.preventDefault(),!!n.trim())try{await iu(ss(rt,"wishes"),{text:n,completed:!1,createdAt:oi()}),r("")}catch{alert("Failed to add dream.")}},u=async(p,y)=>{try{await $x(Zt(rt,"wishes",p),{completed:!y})}catch{alert("Failed to update dream.")}},f=async p=>{if(window.confirm("Are you sure you want to delete this dream?"))try{await Jr(Zt(rt,"wishes",p))}catch{alert("Failed to delete dream.")}};return d.jsxs("div",{className:"min-h-screen bg-rose-50 py-20 px-4 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-rose-200 rounded-full blur-3xl opacity-30 -translate-y-1/2 translate-x-1/2 animate-pulse"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-pink-200 rounded-full blur-3xl opacity-30 translate-y-1/2 -translate-x-1/2 animate-pulse delay-1000"}),d.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[d.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[d.jsx(as,{className:"w-16 h-16 text-rose-500 mx-auto mb-4 animate-bounce",fill:"currentColor"}),d.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-rose-800 mb-4",children:"Our Sweet Dreams "}),d.jsx("p",{className:"text-rose-400 text-lg italic",children:'"Every dream we imagine is a memory waiting to happen."'})]}),d.jsxs("form",{onSubmit:o,className:"mb-12 flex gap-4 max-w-xl mx-auto animate-fade-in-up",children:[d.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"What's our next adventure?... ",className:"flex-1 px-6 py-4 rounded-full bg-white border-2 border-rose-100 text-rose-800 placeholder-rose-300 focus:outline-none focus:border-rose-300 focus:ring-2 focus:ring-rose-100 transition-all shadow-sm"}),d.jsx("button",{type:"submit",className:"bg-rose-500 hover:bg-rose-600 active:scale-95 text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-rose-500/30 transition-all transform hover:scale-105",children:d.jsx(d4,{size:24})})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(p=>d.jsxs("div",{className:`p-6 rounded-2xl border-2 transition-all duration-300 group flex items-center justify-between
                ${p.completed?"bg-rose-100 border-rose-200":"bg-white border-white hover:border-rose-100 hover:shadow-md"}`,children:[d.jsxs("div",{className:"flex items-center gap-4 cursor-pointer flex-1",onClick:()=>u(p.id,p.completed),children:[d.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center transition-colors
                  ${p.completed?"bg-rose-500 border-rose-500":"border-rose-200 group-hover:border-rose-400"}`,children:p.completed&&d.jsx(nE,{size:16,className:"text-white",strokeWidth:3})}),d.jsx("span",{className:`text-lg font-medium transition-all ${p.completed?"text-rose-400 line-through decoration-rose-300":"text-gray-700"}`,children:p.text})]}),d.jsx("button",{onClick:()=>f(p.id),className:"p-2 text-rose-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:d.jsx(ig,{size:18})})]},p.id))})]})]})},xj=({onBackHome:i,userName:e})=>{const[n,r]=Z.useState("journey"),[o,u]=Z.useState(!1),[f,p]=Z.useState(!1),[y,_]=Z.useState(null),[x,w]=Z.useState(!1),[R,z]=Z.useState(!1),[ne,X]=Z.useState(0),[Y,se]=Z.useState(0),[re,oe]=Z.useState(!1),[me,Ee]=Z.useState("off"),pe=Z.useRef(new Audio);Z.useEffect(()=>{const $=pe.current,fe=()=>X($.currentTime),je=()=>se($.duration),ze=()=>{me==="one"?($.currentTime=0,$.play()):A()};return $.addEventListener("timeupdate",fe),$.addEventListener("loadedmetadata",je),$.addEventListener("ended",ze),()=>{$.removeEventListener("timeupdate",fe),$.removeEventListener("loadedmetadata",je),$.removeEventListener("ended",ze)}},[y,me,re]),Z.useEffect(()=>{if(y!==null){const $=pe.current;$.src=Xr[y].audioUrl,x&&$.play().catch(fe=>console.log(fe))}},[y]),Z.useEffect(()=>{const $=pe.current;x?$.play().catch(()=>w(!1)):$.pause()},[x]);const C=()=>w(!x),A=()=>{_(re?Math.floor(Math.random()*Xr.length):$=>($+1)%Xr.length),w(!0)},N=()=>{_($=>($-1+Xr.length)%Xr.length),w(!0)},I=$=>{pe.current.currentTime=$,X($)},D=$=>{_($),w(!0),z(!0)},M=()=>{oe(!0),A(),z(!0)},S=()=>oe(!re),Ne=()=>{const $=["off","all","one"];Ee($[($.indexOf(me)+1)%$.length])},De=$=>{$==="secret"?o?r($):p(!0):r($)},F=()=>{u(!0),r("secret")};return d.jsxs("div",{className:"min-h-screen bg-rose-50",children:[d.jsx(Ej,{activeTab:n,onTabChange:De,onHomeClick:i}),d.jsx(Tj,{isOpen:f,onClose:()=>p(!1),onSuccess:F}),d.jsxs("main",{className:"animate-fade-in-up",children:[n==="journey"&&d.jsx(fj,{}),n==="gallery"&&d.jsx(uj,{}),n==="playlist"&&d.jsx(mj,{onPlaySong:D,onShufflePlay:M}),n==="anime"&&d.jsx(R4,{}),n==="why-love"&&d.jsx(pj,{}),n==="dreams"&&d.jsx(bj,{}),n==="letter"&&d.jsx(gj,{}),n==="secret"&&d.jsx(vj,{onLock:()=>{u(!1),r("journey")},userName:e})]}),y!==null&&(x||R)&&d.jsx(dj,{songs:Xr,currentSongIndex:y,isPlaying:x,isFullScreen:R,currentTime:ne,duration:Y,isShuffle:re,repeatMode:me,onPlayPause:C,onNext:A,onPrev:N,onSeek:I,onToggleFullScreen:()=>z(!R),onShuffle:S,onRepeat:Ne})]})},Ej=({activeTab:i,onTabChange:e,onHomeClick:n})=>{const[r,o]=Z.useState(!1),u=[{id:"journey",label:"Our Journey",icon:r4},{id:"gallery",label:"Gallery",icon:ra},{id:"playlist",label:"Playlist",icon:u4},{id:"anime",label:"Anime",icon:Kl},{id:"dreams",label:"Our Dreams",icon:sp},{id:"why-love",label:"Why I Love You",icon:as},{id:"letter",label:"Letter",icon:ZI},{id:"secret",label:"Secret Space",icon:bo}];return d.jsxs(d.Fragment,{children:[d.jsx("nav",{className:"bg-white/95 backdrop-blur-md shadow-md sticky top-0 z-50 transition-all duration-300",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-16 flex items-center justify-between",children:[d.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-rose-600 hover:text-rose-700 font-serif font-bold text-lg",children:[d.jsx(xb,{size:24})," ",d.jsx("span",{className:"font-medium",children:"Home"})]}),d.jsx("div",{className:"hidden md:flex items-center space-x-1 bg-rose-50/50 p-1 rounded-full",children:u.map(f=>{const p=f.icon,y=i===f.id;return d.jsxs("button",{onClick:()=>e(f.id),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 
                      ${y?"bg-white text-rose-600 shadow-sm":"text-gray-500 hover:text-rose-500 hover:bg-white/50"}`,children:[d.jsx(p,{size:16,className:y?"fill-current":""}),f.label]},f.id)})}),d.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:bg-rose-50 rounded-full transition-colors",onClick:()=>o(!0),children:d.jsx(o4,{size:28})})]})}),r&&d.jsxs("div",{className:"fixed inset-0 z-[100] md:hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm animate-fade-in",onClick:()=>o(!1)}),d.jsxs("div",{className:"absolute top-0 right-0 h-full w-3/4 max-w-sm bg-white shadow-2xl p-6 transform transition-transform duration-300 ease-out animate-slide-in-right",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("span",{className:"text-2xl font-serif font-bold text-rose-600",children:"Our World "}),d.jsx("button",{onClick:()=>o(!1),className:"p-2 bg-rose-50 rounded-full text-gray-500 hover:text-rose-600",children:d.jsx(qn,{size:24})})]}),d.jsx("div",{className:"space-y-3",children:u.map(f=>{const p=f.icon,y=i===f.id;return d.jsxs("button",{onClick:()=>{e(f.id),o(!1)},className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all duration-200 
                       ${y?"bg-rose-100 text-rose-700 font-bold":"bg-gray-50 text-gray-600 hover:bg-rose-50"}`,children:[d.jsx("div",{className:`p-2 rounded-full ${y?"bg-white":"bg-gray-200"}`,children:d.jsx(p,{size:20,className:y?"fill-rose-600":""})}),d.jsx("span",{className:"text-lg",children:f.label}),y&&d.jsx("div",{className:"ml-auto w-2 h-2 bg-rose-500 rounded-full"})]},f.id)})}),d.jsxs("div",{className:"absolute bottom-8 left-6 right-6 space-y-3",children:[d.jsxs("button",{onClick:n,className:"w-full py-4 border-2 border-rose-100 text-rose-600 font-bold rounded-2xl hover:bg-rose-50 transition-colors flex items-center justify-center gap-2",children:[d.jsx(xb,{size:20})," Back to Home"]}),d.jsxs("button",{onClick:async()=>{await CA(Is),window.location.reload()},className:"w-full py-3 bg-gray-100 text-gray-600 font-medium rounded-2xl hover:bg-red-50 hover:text-red-600 transition-colors flex items-center justify-center gap-2",children:[d.jsx(sg,{size:18,className:"rotate-180"})," Logout"]})]})]})]}),d.jsx("style",{children:`
        @keyframes slide-in-right { from { transform: translateX(100%); } to { transform: translateX(0); } }
        .animate-slide-in-right { animation: slide-in-right 0.3s ease-out forwards; }
      `})]})},Tj=({isOpen:i,onClose:e,onSuccess:n})=>{const[r,o]=Z.useState(""),[u,f]=Z.useState(!1),[p,y]=Z.useState("");return Z.useEffect(()=>{if(!i)return;(async()=>{try{const x=Zt(rt,"config","secret_lock"),w=await JC(x);w.exists()?y(w.data().password||""):y("")}catch{y("")}})()},[i]),i?d.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-3xl p-6 w-full max-w-sm relative animate-fade-in-up",children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:d.jsx(qn,{size:24})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(bo,{className:"text-rose-500",size:32})}),d.jsx("h3",{className:"text-xl font-serif text-gray-800",children:"Top Secret Area"}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Shh! This is just for us."})]}),d.jsxs("form",{onSubmit:_=>{_.preventDefault(),r===p?(n(),e(),o("")):(f(!0),setTimeout(()=>f(!1),2e3))},className:"space-y-4",children:[d.jsx("input",{type:"password",placeholder:"Enter the magic word...",className:`w-full px-4 py-3 rounded-xl border-2 focus:outline-none transition-colors ${u?"border-red-400 bg-red-50":"border-pink-200 focus:border-rose-400"}`,value:r,onChange:_=>o(_.target.value),autoFocus:!0}),u&&d.jsx("p",{className:"text-xs text-red-500 text-center",children:"Wrong password!"}),d.jsx("button",{type:"submit",className:"w-full bg-rose-500 text-white py-3 rounded-xl font-medium hover:bg-rose-600 transition-colors",children:"Unlock"})]})]})}):null},wj=()=>{const[i,e]=Z.useState(null),n=[{id:"miss",icon:"",label:"Missing You",color:"bg-blue-100 text-blue-600",msg:"Aww, I miss you too!  Virtual hug sending... 3... 2... 1... *SQUEEZE*! Call me now? "},{id:"sad",icon:"",label:"Sad",color:"bg-indigo-100 text-indigo-600",msg:"Don't be sad panda.  Remember I'm always with you. Smile for me? Ek baar?"},{id:"angry",icon:"",label:"Angry",color:"bg-red-100 text-red-600",msg:"Gussa thook do na cutie!  I'm sorry if I annoyed you. Love you infinitely! "},{id:"bored",icon:"",label:"Bored",color:"bg-yellow-100 text-yellow-600",msg:"Bored? Let's play a game! Or... you can stare at my photo? "},{id:"happy",icon:"",label:"Happy",color:"bg-green-100 text-green-600",msg:"Yay! Your happiness is my favorite thing! Keep smiling, sunshine! "},{id:"tired",icon:"",label:"Tired",color:"bg-purple-100 text-purple-600",msg:"You worked hard today!  Time to relax. Lay down, close your eyes, and imagine I'm cuddling you."}];return d.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-rose-100 relative overflow-hidden",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h3",{className:"text-2xl font-serif text-rose-800 mb-2",children:"How is my baby feeling? "}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Select your mood for a special dose of love."})]}),i?d.jsxs("div",{className:"bg-rose-50 rounded-2xl p-6 text-center animate-fade-in-up",children:[d.jsx("div",{className:"text-4xl mb-4",children:i.icon}),d.jsxs("p",{className:"text-lg font-medium text-rose-700 mb-6 font-serif",children:['"',i.msg,'"']}),d.jsx("button",{onClick:()=>e(null),className:"bg-white text-rose-500 font-bold py-2 px-6 rounded-full shadow-sm hover:shadow-md transition-all text-sm uppercase tracking-wide",children:"Check Another Mood"})]}):d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.map(r=>d.jsxs("button",{onClick:()=>e(r),className:`${r.color} p-4 rounded-2xl flex flex-col items-center gap-2 hover:scale-105 transition-transform duration-300 shadow-sm`,children:[d.jsx("span",{className:"text-2xl",children:r.icon}),d.jsx("span",{className:"font-bold text-sm",children:r.label})]},r.id))})]})},Aj=({userName:i,onEnterWorld:e})=>{const n={month:12,day:17},r={month:7,day:7},u=(f=>{if(!f)return"";const p=f.toLowerCase();return p.includes("abhishek")||p.includes("abhi")?atob("QWJoaXNoZWs="):p.includes("rosh")||p.includes("rodhni")?atob("Um9zaG5p"):f.charAt(0).toUpperCase()+f.slice(1)})(i);return d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-rose-100 overflow-x-hidden relative",children:[d.jsx("nav",{className:"bg-white/80 backdrop-blur-md p-4 sticky top-0 z-50 shadow-sm",children:d.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center text-rose-600",children:[d.jsx("h1",{className:"font-serif text-xl font-bold",children:"Us "}),d.jsxs("span",{className:"text-sm font-medium bg-pink-100 px-3 py-1 rounded-full",children:["Hi, ",u]})]})}),d.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-10 space-y-12 pb-32",children:[d.jsxs("section",{className:"text-center space-y-4 animate-fade-in-up",children:[d.jsx("h1",{className:"text-4xl md:text-6xl font-serif text-rose-800",children:"Welcome Home, Love"}),d.jsx("p",{className:"text-gray-600 max-w-md mx-auto leading-relaxed",children:"I made this little corner of the internet just for us. Everything here is a memory, a promise, and a piece of my heart."})]}),d.jsx("section",{className:"bg-white rounded-3xl shadow-xl overflow-hidden transform hover:-translate-y-1 transition-transform duration-500",children:d.jsxs("div",{className:"md:flex",children:[d.jsx("div",{className:"md:w-1/2 h-64 md:h-auto relative",children:d.jsx("img",{src:tj,alt:"Couple Moment",className:"absolute inset-0 w-full h-full object-cover"})}),d.jsxs("div",{className:"p-8 md:w-1/2 flex flex-col justify-center",children:[d.jsx("h2",{className:"hidden md:block text-3xl font-serif text-rose-800 mb-4",children:"About Us"}),d.jsxs("div",{className:"text-gray-600 leading-relaxed mb-4",children:[d.jsxs("p",{className:"mb-2",children:["Hum koi perfect couple nahi hain,",d.jsx("br",{}),"lekin ek dusre ke liye perfect hain."]}),d.jsxs("p",{className:"mb-2",children:["Hamari kahani kisi fairy tale jaisi shuru nahi hui,",d.jsx("br",{}),"par aaj har din ek khubsurat kahani ban chuki hai."]}),d.jsxs("p",{children:["Ye sirf ek website nahi,",d.jsx("br",{}),"ye hamare pyaar ka ek chhota sa hissa hai,",d.jsx("br",{}),"jahan har photo, har line aur har feeling",d.jsx("br",{}),"sirf ek hi cheez ke liye hai",d.jsx("br",{}),"tum "]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"bg-pink-100 text-pink-600 px-3 py-1 rounded-full text-xs font-medium",children:"#Love"}),d.jsx("span",{className:"bg-pink-100 text-pink-600 px-3 py-1 rounded-full text-xs font-medium",children:"#Forever"})]})]})]})}),d.jsx("section",{className:"space-y-6",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsx(Rb,{date:n,title:"My Birthday"}),d.jsx(Rb,{date:r,title:"Your Birthday"})]})}),d.jsx("section",{className:"animate-fade-in-up delay-200",children:d.jsx(wj,{})})]}),d.jsx("div",{className:"fixed bottom-8 left-0 right-0 flex justify-center z-40 px-4",children:d.jsxs("button",{className:"group relative bg-rose-600 hover:bg-rose-700 text-white text-lg font-medium py-4 px-12 rounded-full shadow-2xl hover:shadow-rose-500/50 transition-all duration-300 transform hover:scale-105 overflow-hidden",onClick:e,children:[d.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-shimmer"}),d.jsxs("span",{className:"flex items-center gap-2",children:["Enter to Our World ",d.jsx(sg,{size:20})]})]})}),d.jsx("style",{children:"@keyframes shimmer { 100% { transform: translateX(100%); } } .group-hover\\:animate-shimmer { animation: shimmer 1.5s infinite; } .animate-fade-in-up { animation: fadeInUp 1s ease-out; } @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }"})]})};function Sj(){const[i,e]=Z.useState("loading"),[n,r]=Z.useState("");return Z.useEffect(()=>{const o=RA(Is,u=>{if(u){let f=u.displayName;(!f||f.trim()==="")&&(f=u.email?u.email.split("@")[0]:"User"),r(f),e("landing")}});return()=>o()},[]),d.jsxs("div",{className:"font-sans text-gray-800 antialiased",children:[i==="loading"&&d.jsx(ij,{onComplete:()=>e("login")}),i==="login"&&d.jsx(rj,{onLogin:o=>{r(o),e("landing")}}),i==="landing"&&d.jsx(Aj,{userName:n,onEnterWorld:()=>e("world")}),i==="world"&&d.jsx(xj,{onBackHome:()=>e("landing"),userName:n}),d.jsx("style",{children:".scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; } @keyframes float { 0% { transform: translateY(0) scale(1); opacity: 0; } 50% { opacity: 0.6; } 100% { transform: translateY(-100px) scale(1.2); opacity: 0; } } .animate-float { animation: float 10s infinite ease-in; } .animate-fade-in-up { animation: fadeInUp 0.8s ease-out; } @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }"})]})}KT.createRoot(document.getElementById("root")).render(d.jsx(Z.StrictMode,{children:d.jsx(Sj,{})}));
